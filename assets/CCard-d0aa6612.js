import{r as _,l as E,m as $,n as k,o as i,c,a as y,p as P,v as F,q as O,F as D,e as I,s as N,t as A,f as w,x as K,y as M,z as T,A as j,b as S,g as q,B as z}from"./index-4805e326.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const G=d=>(M("data-v-5e99883d"),d=d(),T(),d),J={class:"c-search"},Q={class:"search__content"},W=["onKeydown"],X={key:0,class:"search__content--results"},Y=["onClick"],Z={key:0},ee=G(()=>y("div",{class:"search--spinner"},"cargando...",-1)),te=[ee],se={class:"search__cleaner"},oe={__name:"CSearch",props:{options:{type:Array,default:null},asyncOptionsPromise:{type:Function,default:null},modelValue:{type:[String,Object],default:""}},emits:["update:modelValue"],setup(d,{emit:u}){const s=d,p=t=>{const n=v=>{const h=v.target;!h||h===document.documentElement||h===document.body||h.closest(".c-search")||t()};$(()=>{document.addEventListener("click",n)}),K(()=>{document.removeEventListener("click",n)})},e=_(""),o=_([]),a=_(-1),V=_(!1),C=_(!0),m=t=>{o.value=s.options.filter(n=>(n.description||n).toLowerCase().includes(t.toLowerCase())),x()},l=async t=>{V.value=!0;try{const n=await s.asyncOptionsPromise(t);o.value=n,x()}catch(n){console.error(n)}V.value=!1},r=t=>{e.value=t.description||t,o.value=[],u("update:modelValue",t),g()},f=()=>{e.value="",o.value=[],u("update:modelValue",""),g()},B=async()=>{a.value=-1,e.value?s.asyncOptionsPromise?await l(e.value):m(e.value):f()},R=()=>{if(a.value!==-1&&o.value.length>0){const t=o.value[a.value];e.value=t.description||t,o.value=[],u("update:modelValue",t),g()}},U=E(()=>e.value!==""),b=t=>{o.value.length!==0&&(t==="down"?a.value=(a.value+1)%o.value.length:t==="up"&&(a.value=(a.value-1+o.value.length)%o.value.length))},g=()=>{C.value=!0},x=()=>{C.value=!1};return $(()=>{var t;p(g),s.modelValue&&(e.value=((t=s.modelValue)==null?void 0:t.description)||s.modelValue)}),k(()=>s.options,()=>{e.value?m(e.value):(o.value=[],f())}),k(()=>s.modelValue,t=>{e.value=t?t.description||t:""}),(t,n)=>(i(),c("div",J,[y("div",Q,[P(y("input",{class:"search__content--text","onUpdate:modelValue":n[0]||(n[0]=v=>e.value=v),placeholder:"buscar...",type:"text",onInput:B,onKeydown:[n[1]||(n[1]=O(v=>b("down"),["down"])),n[2]||(n[2]=O(v=>b("up"),["up"])),O(R,["enter"])]},null,40,W),[[F,e.value]]),C.value?w("",!0):(i(),c("ul",X,[(i(!0),c(D,null,I(o.value,(v,h)=>(i(),c("li",{key:h,class:N({active:h===a.value}),onClick:_e=>r(v)},A(v.description||v),11,Y))),128))]))]),V.value?(i(),c("div",Z,te)):w("",!0),y("div",se,[U.value?(i(),c("button",{key:0,class:"search__cleaner--btn",onClick:f})):w("",!0)])]))}},L=H(oe,[["__scopeId","data-v-5e99883d"]]);const ae=y("option",{value:""},"Seleccionar opción",-1),ne=["value"],le={__name:"CSelect",props:{options:{type:Array,required:!0},modelValue:{type:[Object,Number],default:null}},emits:["update:modelValue"],setup(d,{emit:u}){const s=d,p=_(s.modelValue?s.modelValue.id:null);return k(()=>s.modelValue,e=>{p.modelValue=e?e.id:""}),k(p,e=>{u("update:modelValue",e)}),$(()=>{var e;s.modelValue&&(p.modelValue=((e=s.modelValue)==null?void 0:e.id)||s.modelValue)}),(e,o)=>P((i(),c("select",{class:"c-select","onUpdate:modelValue":o[0]||(o[0]=a=>p.value=a)},[ae,(i(!0),c(D,null,I(d.options,a=>(i(),c("option",{value:a.id,key:a.id},A(a.description),9,ne))),128))],512)),[[j,p.value]])}};const ie={class:"c-filterbar"},he={__name:"CFilterbar",setup(d){const u=_({id:3,description:"Region 3"}),s=_(null),p=[{id:1,description:"01-2023"},{id:2,description:"02-2023"},{id:3,description:"03-2023"},{id:4,description:"04-2023"}],e=_({id:4,description:"04-2023"}),o=[{id:1,description:"Region 1"},{id:2,description:"Region 2"},{id:3,description:"Region 3"}],a=m=>new Promise(l=>{setTimeout(()=>{const r=o.filter(f=>f.description.toLowerCase().includes(m.toLowerCase()));l(r)},1e3)}),V=[{id:1,description:"Peniteniaría 1"},{id:2,description:"Penitenciaría 2"},{id:3,description:"Penitenciaría 3"}],C=m=>new Promise(l=>{setTimeout(()=>{const r=V.filter(f=>f.description.toLowerCase().includes(m.toLowerCase()));l(r)},1e3)});return(m,l)=>(i(),c("div",ie,[S(L,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=r=>u.value=r),asyncOptionsPromise:a},null,8,["modelValue"]),S(L,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=r=>s.value=r),asyncOptionsPromise:C},null,8,["modelValue"]),S(le,{options:p,modelValue:e.value,"onUpdate:modelValue":l[2]||(l[2]=r=>e.value=r)},null,8,["modelValue"])]))}};const ce={class:"card"},de={class:"card-stacked"},re={class:"card-content"},ue={key:0,class:"card-action"},pe=z('<div class="row"><a class="col s6 m1 waves-effect waves-light btn amber"><li class="material-icons">edit</li></a><a class="col s6 m1 waves-effect waves-light btn red darken-3"><li class="material-icons">delete</li></a></div>',1),ve=[pe],ye={__name:"CCard",props:{actionACtive:{type:Boolean,default:!1}},setup(d){return(u,s)=>(i(),c("div",ce,[y("div",de,[y("div",re,[q(u.$slots,"default")]),d.actionACtive?(i(),c("div",ue,ve)):w("",!0)])]))}};export{he as _,ye as a};
