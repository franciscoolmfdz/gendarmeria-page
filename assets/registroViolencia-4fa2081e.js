import{g as t,h as $,o as V,f as h,j as I,_ as S,q as k,C as x,I as A,m as i,b as u,x as p,c as B,a as T,e as q}from"./index-22e32733.js";import{_ as D}from"./CHeaderBar-286bf8ed.js";import{_ as E}from"./subSideNav-03d27cc9.js";import{_ as y}from"./CButton-1b43ba3e.js";import{_ as L}from"./CTable-0fa27f9b.js";import{s as M}from"./filterSituacion-d5979899.js";import"./CChartDonutSection-695f227e.js";const U={class:"selected-options"},j={key:0,class:"c-option-volver"},P={class:"table-section-principal"},F={class:"content__section"},w=3,X={__name:"registroViolencia",setup(z){const c=M(),n=t({id:15,description:"Región Metropolitana de Santiago"}),v=t([]),a=t({id:16,description:"CCP Colina 1"}),m=t([]),l=t({id:1,description:"N° de eventos de riñas en el período."}),C=t([{id:1,description:"N° de eventos de riñas en el período."},{id:2,description:"N° de agresiones con resultado de muerte en el año t."},{id:3,description:"N° de funcionarios que en ejercicio de sus funciones resulten heridos o lesionados por uno o más internos."},{id:4,description:"N° de decesos por suicidio."},{id:5,description:"N° de decesos por enfermedades"},{id:6,description:"N° de decesos por otras causas."},{id:7,description:"N° de decesos por accidentes."}]),g=t("Estado situación carcelaria / Registro de eventos"),R=t([{rowReference:"year",description:"Año"},{rowReference:"month",description:"Mes"},{rowReference:"gender",description:"Sexo"},{rowReference:"quantity",description:"Cantidad"}]),r=t([]),N=()=>{q.push("/situacionCarcelaria")},b=async o=>{if(!c.listadoRegiones.length>0){let e=await k();v.value=e,c.setRegionesList(e)}},_=async()=>{const o={regionId:n.value};m.value=await x(o)},f=async()=>{var o,e,s;try{if(n.value){const d={regionId:((o=n.value)==null?void 0:o.id)??n.value,carcelId:((e=a.value)==null?void 0:e.id)??a.value,aggresionTypeId:((s=l.value)==null?void 0:s.id)??l.value};r.value=await A(d)}else r.value=[]}catch(d){console.log(d)}};return $(async()=>{n.value=c.regionSelected.id,await b(),await _(),await f()}),(o,e)=>(V(),h(S,{class:"contenido-eventos"},{default:I(()=>[i(D,{title:g.value,"section-value":w},null,8,["title"]),u("div",U,[i(p,{class:"select-region",options:v.value,modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),onChangeValue:e[1]||(e[1]=s=>_())},null,8,["options","modelValue"]),i(p,{class:"select-carcel",options:m.value,modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value=s)},null,8,["options","modelValue"]),i(p,{class:"select-question",options:C.value,modelValue:l.value,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value=s)},null,8,["options","modelValue"]),i(y,{class:"btn-search",title:"",onExecuteAction:f})]),!o.activeSpin&&o.topPosition!==0?(V(),B("div",j,[i(y,{class:"btn-volver",title:"Volver",onExecuteAction:N,disabled:o.blockButton},null,8,["disabled"])])):T("",!0),u("div",P,[i(E,{class:"subsection-eventos",title:g.value,"section-value":w,pointValue:o.pointCalculated,pointTitle:"Registro de eventos",pointSubtitle:""},null,8,["title","pointValue"]),u("div",F,[i(L,{columns:R.value,rows:r.value},null,8,["columns","rows"])])])]),_:1}))}};export{X as default};
