import{r as a,g as S,o as C,e as $,w as c,_ as M,b as n,a as o}from"./index-986a4269.js";import{_ as P}from"./CHeaderBar-e3b0e061.js";import{u as k,_ as q,a as h}from"./CCard-63501cdd.js";import{_ as B}from"./CColunmChart-964976fc.js";import{a as L}from"./dimensionHistory-d5c47017.js";import"./exporting-f737d7ca.js";import"./api-7944baea.js";const N={class:"regimen-carcel"},T={class:"chart-section"},X=o("span",{class:"card-title"},"Suma de p1 ¿Cuántos años tiene actualmente?",-1),Y=o("span",{class:"question--value"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam ",-1),z=o("span",{class:"card-title"},"Pregunta",-1),H=o("span",{class:"question--value"},"FP 1 ¿Cuántos años tiene actualmente?",-1),x=7,Q={__name:"edadInternos",setup(O){const s=k(),b=a("Trayectoria / ¿Cuántos años tiene actualmente?"),I=a({categories:["Menor a 20 años","Entre 20 a 30 años","Entre 30 a 40 años","Entre 40 a 50 años","Entre 50 a 60 años","Mayor a 60 años","No Asignado"],crosshair:!1}),A=a({min:0,allowDecimals:!1,title:{text:"Suma por categoría"}}),F=a({column:{pointPadding:.2,borderWidth:3}}),w=a({headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0}),l=a([{name:"",data:[],dataLabels:{enabled:!0,color:"#fff",align:"center",y:70,style:{inside:!0,fontSize:"10px",fontFamily:"helvetica, arial, sans-serif",textShadow:!1,fontWeight:"normal"}}}]),d=async()=>{var r;try{const i=((r=s==null?void 0:s.penitenciaria)==null?void 0:r.id)??null,u=s.historyId;if(u&&i){const D={historyId:u.value,carcelId:i,categoryId:7,subCategoryId:23,embedDetail:!0};let E=await L(D);l.value[0].name=s.penitenciaria.description;const t=E.items.filter(e=>e.dimensionId===124);let m=0,p=0,_=0,f=0,v=0,g=0,y=0;for(let e=0;e<t.length;e++)t[e].value<20&&m++,t[e].value>=20&&t[e].value<30&&p++,t[e].value>=30&&t[e].value<40&&_++,t[e].value>=40&&t[e].value<50&&f++,t[e].value>=50&&t[e].value<=60&&v++,t[e].value>60&&g++,t[e].value===-1&&(y+=t[e].value*-1);l.value[0].data=[m,p,_,f,v,g,y]}else l.value[0].data=[]}catch(i){console.log(i)}};return S(async()=>{await d()}),(r,i)=>(C(),$(M,null,{default:c(()=>[n(P,{title:b.value,"section-value":x},null,8,["title"]),n(q,{baseFilter:x,onExecuteAction:d}),o("div",N,[o("div",T,[n(h,{class:"card-information"},{default:c(()=>[X,Y]),_:1}),n(B,{optionsAxisX:I.value,optionsAxisY:A.value,plotOptions:F.value,tooltip:w.value,series:l.value},null,8,["optionsAxisX","optionsAxisY","plotOptions","tooltip","series"])]),n(h,{class:"card-preguntas"},{default:c(()=>[z,H]),_:1})])]),_:1}))}};export{Q as default};
