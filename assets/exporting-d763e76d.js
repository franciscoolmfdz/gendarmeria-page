import{f as Mt,g as bt}from"./index-76fa7c79.js";var wt=Mt();const Nt=bt(wt);var Pt={exports:{}};(function(yt){(function(l){yt.exports?(l.default=l,yt.exports=l):l(typeof Highcharts<"u"?Highcharts:void 0)})(function(l){function at(n,p,c,u){n.hasOwnProperty(p)||(n[p]=u.apply(null,c),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:p,module:n[p]}})))}l=l?l._modules:{},at(l,"Extensions/Pane.js",[l["Core/Chart/Chart.js"],l["Series/CenteredUtilities.js"],l["Core/Globals.js"],l["Core/Pointer.js"],l["Core/Utilities.js"]],function(n,p,c,u,g){function h(i,t,s,r,o){let f=!0;const M=s[0],v=s[1],d=Math.sqrt(Math.pow(i-M,2)+Math.pow(t-v,2));return w(r)&&w(o)&&(i=Math.atan2(G(t-v,8),G(i-M,8)),o!==r&&(f=r>o?i>=r&&i<=Math.PI||i<=o&&i>=-Math.PI:i>=r&&i<=G(o,8))),d<=Math.ceil(s[2]/2)&&f}const{addEvent:T,correctFloat:G,defined:w,extend:m,merge:X,pick:N,splat:D}=g;n.prototype.collectionsWithUpdate.push("pane");class J{constructor(t,s){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,s)}init(t,s){this.chart=s,this.background=[],s.pane.push(this),this.setOptions(t)}setOptions(t){this.options=X(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)}render(){var t=this.options;let s=this.options.background;var r=this.chart.renderer;if(this.group||(this.group=r.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),s)for(s=D(s),t=Math.max(s.length,this.background.length||0),r=0;r<t;r++)s[r]&&this.axis?this.renderBackground(X(this.defaultBackgroundOptions,s[r]),r):this.background[r]&&(this.background[r]=this.background[r].destroy(),this.background.splice(r,1))}renderBackground(t,s){let r="animate",o={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||m(o,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[s]||(this.background[s]=this.chart.renderer.path().add(this.group),r="attr"),this.background[s][r]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(o)}updateCenter(t){this.center=(t||this.axis||{}).center=p.getCenter.call(this)}update(t,s){X(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(r){r.pane===this&&(r.pane=null,r.update({},s))},this)}}return n.prototype.getHoverPane=function(i){const t=this;let s;return i&&t.pane.forEach(r=>{h(i.chartX-t.plotLeft,i.chartY-t.plotTop,r.center)&&(s=r)}),s},T(n,"afterIsInsidePlot",function(i){this.polar&&(i.options.inverted&&([i.x,i.y]=[i.y,i.x]),i.isInsidePlot=this.pane.some(t=>h(i.x,i.y,t.center,t.axis&&t.axis.normalizedStartAngleRad,t.axis&&t.axis.normalizedEndAngleRad)))}),T(u,"beforeGetHoverData",function(i){const t=this.chart;t.polar?(t.hoverPane=t.getHoverPane(i),i.filter=function(s){return s.visible&&!(!i.shared&&s.directTouch)&&N(s.options.enableMouseTracking,!0)&&(!t.hoverPane||s.xAxis.pane===t.hoverPane)}):t.hoverPane=void 0}),T(u,"afterGetHoverData",function(i){const t=this.chart;i.hoverPoint&&i.hoverPoint.plotX&&i.hoverPoint.plotY&&t.hoverPane&&!h(i.hoverPoint.plotX,i.hoverPoint.plotY,t.hoverPane.center)&&(i.hoverPoint=void 0)}),c.Pane=J,c.Pane}),at(l,"Series/AreaRange/AreaRangePoint.js",[l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p){const{area:{prototype:{pointClass:c,pointClass:{prototype:u}}}}=n.seriesTypes,{defined:g,isNumber:h}=p;class T extends c{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const w=this.state,m=this.series,X=m.chart.polar;g(this.plotHigh)||(this.plotHigh=m.yAxis.toPixels(this.high,!0)),g(this.plotLow)||(this.plotLow=this.plotY=m.yAxis.toPixels(this.low,!0)),m.stateMarkerGraphic&&(m.lowerStateMarkerGraphic=m.stateMarkerGraphic,m.stateMarkerGraphic=m.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,X&&h(this.plotHighX)&&(this.plotX=this.plotHighX),u.setState.apply(this,arguments),this.state=w,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],X&&h(this.plotLowX)&&(this.plotX=this.plotLowX),m.stateMarkerGraphic&&(m.upperStateMarkerGraphic=m.stateMarkerGraphic,m.stateMarkerGraphic=m.lowerStateMarkerGraphic,m.lowerStateMarkerGraphic=void 0),u.setState.apply(this,arguments)}haloPath(){const w=this.series.chart.polar;let m=[];return this.plotY=this.plotLow,w&&h(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(m=u.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,w&&h(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(m=m.concat(u.haloPath.apply(this,arguments))),m}isValid(){return h(this.low)&&h(this.high)}}return T}),at(l,"Series/AreaRange/AreaRangeSeries.js",[l["Series/AreaRange/AreaRangePoint.js"],l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c,u){({noop:p}=p);const{area:g,area:{prototype:h},column:{prototype:T}}=c.seriesTypes,{addEvent:G,defined:w,extend:m,isArray:X,isNumber:N,pick:D,merge:J}=u;class i extends g{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(s){return[s.low,s.high]}highToXY(s){const r=this.chart,o=this.xAxis.postTranslate(s.rectPlotX||0,this.yAxis.len-(s.plotHigh||0));s.plotHighX=o.x-r.plotLeft,s.plotHigh=o.y-r.plotTop,s.plotLowX=s.plotX}getGraphPath(s){var r=[],o=[];const f=h.getGraphPath;var M=this.options;const v=this.chart.polar,d=v&&M.connectEnds!==!1,P=M.connectNulls;let E,R,F,e=M.step;for(s=s||this.points,E=s.length;E--;){R=s[E];const a=v?{plotX:R.rectPlotX,plotY:R.yBottom,doCurve:!1}:{plotX:R.plotX,plotY:R.plotY,doCurve:!1};R.isNull||d||P||s[E+1]&&!s[E+1].isNull||o.push(a),F={polarPlotY:R.polarPlotY,rectPlotX:R.rectPlotX,yBottom:R.yBottom,plotX:D(R.plotHighX,R.plotX),plotY:R.plotHigh,isNull:R.isNull},o.push(F),r.push(F),R.isNull||d||P||s[E-1]&&!s[E-1].isNull||o.push(a)}return s=f.call(this,s),e&&(e===!0&&(e="left"),M.step={left:"right",center:"center",right:"left"}[e]),r=f.call(this,r),o=f.call(this,o),M.step=e,M=[].concat(s,r),!this.chart.polar&&o[0]&&o[0][0]==="M"&&(o[0]=["L",o[0][1],o[0][2]]),this.graphPath=M,this.areaPath=s.concat(o),M.isArea=!0,M.xMap=s.xMap,this.areaPath.xMap=s.xMap,M}drawDataLabels(){const s=this.points,r=s.length,o=[],f=this.options.dataLabels,M=this.chart.inverted;let v,d,P,E,R;if(f){if(X(f)?(E=f[0]||{enabled:!1},R=f[1]||{enabled:!1}):(E=m({},f),E.x=f.xHigh,E.y=f.yHigh,R=m({},f),R.x=f.xLow,R.y=f.yLow),E.enabled||this._hasPointLabels){for(v=r;v--;)if(d=s[v]){const{plotHigh:F=0,plotLow:e=0}=d;P=E.inside?F<e:F>e,d.y=d.high,d._plotY=d.plotY,d.plotY=F,o[v]=d.dataLabel,d.dataLabel=d.dataLabelUpper,d.below=P,M?E.align||(E.align=P?"right":"left"):E.verticalAlign||(E.verticalAlign=P?"top":"bottom")}for(this.options.dataLabels=E,h.drawDataLabels&&h.drawDataLabels.apply(this,arguments),v=r;v--;)(d=s[v])&&(d.dataLabelUpper=d.dataLabel,d.dataLabel=o[v],delete d.dataLabels,d.y=d.low,d.plotY=d._plotY)}if(R.enabled||this._hasPointLabels){for(v=r;v--;)if(d=s[v]){const{plotHigh:F=0,plotLow:e=0}=d;P=R.inside?F<e:F>e,d.below=!P,M?R.align||(R.align=P?"left":"right"):R.verticalAlign||(R.verticalAlign=P?"bottom":"top")}this.options.dataLabels=R,h.drawDataLabels&&h.drawDataLabels.apply(this,arguments)}if(E.enabled)for(v=r;v--;)(d=s[v])&&(d.dataLabels=[d.dataLabelUpper,d.dataLabel].filter(function(F){return!!F}));this.options.dataLabels=f}}alignDataLabel(){T.alignDataLabel.apply(this,arguments)}drawPoints(){const s=this.points.length;let r,o;for(h.drawPoints.apply(this,arguments),r=0;r<s;)o=this.points[r],o.graphics=o.graphics||[],o.origProps={plotY:o.plotY,plotX:o.plotX,isInside:o.isInside,negative:o.negative,zone:o.zone,y:o.y},(o.graphic||o.graphics[0])&&(o.graphics[0]=o.graphic),o.graphic=o.graphics[1],o.plotY=o.plotHigh,w(o.plotHighX)&&(o.plotX=o.plotHighX),o.y=D(o.high,o.origProps.y),o.negative=o.y<(this.options.threshold||0),this.zones.length&&(o.zone=o.getZone()),this.chart.polar||(o.isInside=o.isTopInside=typeof o.plotY<"u"&&0<=o.plotY&&o.plotY<=this.yAxis.len&&0<=o.plotX&&o.plotX<=this.xAxis.len),r++;for(h.drawPoints.apply(this,arguments),r=0;r<s;)o=this.points[r],o.graphics=o.graphics||[],(o.graphic||o.graphics[1])&&(o.graphics[1]=o.graphic),o.graphic=o.graphics[0],o.origProps&&(m(o,o.origProps),delete o.origProps),r++}}return i.defaultOptions=J(g.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">‚óè</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),G(i,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(t=>{const s=t.high,r=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=r,t.plotHigh=N(s)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(s):s,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))})},{order:0}),G(i,"afterTranslate",function(){this.points.forEach(t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{const s=t.pos(!1,t.plotLow),r=t.pos(!1,t.plotHigh);s&&r&&(s[0]=(s[0]+r[0])/2,s[1]=(s[1]+r[1])/2),t.tooltipPos=s}})},{order:3}),m(i.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:n,pointValKey:"low",setStackedPoints:p}),c.registerSeriesType("arearange",i),i}),at(l,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[l["Series/AreaRange/AreaRangeSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c){const{spline:{prototype:u}}=p.seriesTypes,{merge:g,extend:h}=c;class T extends n{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return T.defaultOptions=g(n.defaultOptions),h(T.prototype,{getPointSpline:u.getPointSpline}),p.registerSeriesType("areasplinerange",T),T}),at(l,"Series/BoxPlot/BoxPlotSeries.js",[l["Series/Column/ColumnSeries.js"],l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c,u){({noop:p}=p);const{extend:g,merge:h,pick:T}=u;class G extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const m=this.yAxis,X=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(N){X.forEach(function(D){N[D]!==null&&(N[D+"Plot"]=m.translate(N[D],0,1,0,1))}),N.plotHigh=N.highPlot})}drawPoints(){let m=this,X=m.options,N=m.chart,D=N.renderer,J,i,t,s,r,o,f=0,M,v,d,P,E=m.doQuartiles!==!1,R,F=m.options.whiskerLength;m.points.forEach(function(e){var a=e.graphic;let b=a?"animate":"attr",C=e.shapeArgs,S={},Y={},H={},U={},lt=e.color||m.color;typeof e.plotY<"u"&&(M=Math.round(C.width),v=Math.floor(C.x),d=v+M,P=Math.round(M/2),J=Math.floor(E?e.q1Plot:e.lowPlot),i=Math.floor(E?e.q3Plot:e.lowPlot),t=Math.floor(e.highPlot),s=Math.floor(e.lowPlot),a||(e.graphic=a=D.g("point").add(m.group),e.stem=D.path().addClass("highcharts-boxplot-stem").add(a),F&&(e.whiskers=D.path().addClass("highcharts-boxplot-whisker").add(a)),E&&(e.box=D.path(void 0).addClass("highcharts-boxplot-box").add(a)),e.medianShape=D.path(void 0).addClass("highcharts-boxplot-median").add(a)),N.styledMode||(Y.stroke=e.stemColor||X.stemColor||lt,Y["stroke-width"]=T(e.stemWidth,X.stemWidth,X.lineWidth),Y.dashstyle=e.stemDashStyle||X.stemDashStyle||X.dashStyle,e.stem.attr(Y),F&&(H.stroke=e.whiskerColor||X.whiskerColor||lt,H["stroke-width"]=T(e.whiskerWidth,X.whiskerWidth,X.lineWidth),H.dashstyle=e.whiskerDashStyle||X.whiskerDashStyle||X.dashStyle,e.whiskers.attr(H)),E&&(S.fill=e.fillColor||X.fillColor||lt,S.stroke=X.lineColor||lt,S["stroke-width"]=X.lineWidth||0,S.dashstyle=e.boxDashStyle||X.boxDashStyle||X.dashStyle,e.box.attr(S)),U.stroke=e.medianColor||X.medianColor||lt,U["stroke-width"]=T(e.medianWidth,X.medianWidth,X.lineWidth),U.dashstyle=e.medianDashStyle||X.medianDashStyle||X.dashStyle,e.medianShape.attr(U)),o=e.stem.strokeWidth()%2/2,f=v+P+o,a=[["M",f,i],["L",f,t],["M",f,J],["L",f,s]],e.stem[b]({d:a}),E&&(o=e.box.strokeWidth()%2/2,J=Math.floor(J)+o,i=Math.floor(i)+o,v+=o,d+=o,a=[["M",v,i],["L",v,J],["L",d,J],["L",d,i],["L",v,i],["Z"]],e.box[b]({d:a})),F&&(o=e.whiskers.strokeWidth()%2/2,t+=o,s+=o,R=/%$/.test(F)?P*parseFloat(F)/100:F/2,a=[["M",f-R,t],["L",f+R,t],["M",f-R,s],["L",f+R,s]],e.whiskers[b]({d:a})),r=Math.round(e.medianPlot),o=e.medianShape.strokeWidth()%2/2,r+=o,a=[["M",v,r],["L",d,r]],e.medianShape[b]({d:a}))})}toYData(m){return[m.low,m.q1,m.median,m.q3,m.high]}}return G.defaultOptions=h(n.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),g(G.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:p,setStackedPoints:p}),c.registerSeriesType("boxplot",G),G}),at(l,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),at(l,"Series/Bubble/BubbleLegendItem.js",[l["Core/Color/Color.js"],l["Core/FormatUtilities.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(n,p,c,u){const{parse:g}=n,{noop:h}=c,{arrayMax:T,arrayMin:G,isNumber:w,merge:m,pick:X,stableSort:N}=u;class D{constructor(i,t){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=h,this.init(i,t)}init(i,t){this.options=i,this.visible=!0,this.chart=t.chart,this.legend=t}addToLegend(i){i.splice(this.options.legendIndex,0,this)}drawLegendSymbol(i){const t=X(i.options.itemDistance,20),s=this.legendItem||{},r=this.options;var o=r.ranges,f=r.connectorDistance;if(o&&o.length&&w(o[0].value)){N(o,function(v,d){return d.value-v.value}),this.ranges=o,this.setOptions(),this.render(),i=this.getMaxLabelSize();var M=this.ranges[0].radius;o=2*M,f=f-M+i.width,f=0<f?f:0,this.maxLabel=i,this.movementX=r.labels.align==="left"?f:0,s.labelWidth=o+f+t,s.labelHeight=o+i.height/2}else i.options.bubbleLegend.autoRanges=!0}setOptions(){const i=this.ranges,t=this.options,s=this.chart.series[t.seriesIndex],r=this.legend.baseline,o={zIndex:t.zIndex,"stroke-width":t.borderWidth},f={zIndex:t.zIndex,"stroke-width":t.connectorWidth},M={align:this.legend.options.rtl||t.labels.align==="left"?"right":"left",zIndex:t.zIndex},v=s.options.marker.fillOpacity,d=this.chart.styledMode;i.forEach(function(P,E){d||(o.stroke=X(P.borderColor,t.borderColor,s.color),o.fill=X(P.color,t.color,v!==1?g(s.color).setOpacity(v).get("rgba"):s.color),f.stroke=X(P.connectorColor,t.connectorColor,s.color)),i[E].radius=this.getRangeRadius(P.value),i[E]=m(i[E],{center:i[0].radius-i[E].radius+r}),d||m(!0,i[E],{bubbleAttribs:m(o),connectorAttribs:m(f),labelAttribs:M})},this)}getRangeRadius(i){const t=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,t.ranges[t.ranges.length-1].value,t.ranges[0].value,t.minSize,t.maxSize,i)}render(){const i=this.legendItem||{},t=this.chart.renderer,s=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),i.symbol=t.g("bubble-legend"),i.label=t.g("bubble-legend-item"),i.symbol.translateX=0,i.symbol.translateY=0,i.symbol.add(i.label),i.label.add(i.group);for(const r of this.ranges)r.value>=s&&this.renderRange(r);this.hideOverlappingLabels()}renderRange(i){var t=this.options;const s=t.labels;var r=this.chart;const o=r.series[t.seriesIndex],f=r.renderer,M=this.symbols;r=M.labels;const v=i.center,d=Math.abs(i.radius);var P=t.connectorDistance||0;const E=s.align,R=t.connectorWidth,F=this.ranges[0].radius||0,e=v-d-t.borderWidth/2+R/2,a=f.styledMode;P=this.legend.options.rtl||E==="left"?-P:P,E==="center"&&(P=0,t.connectorDistance=0,i.labelAttribs.align="center"),M.bubbleItems.push(f.circle(F,v+((e%1?1:.5)-(R%2?0:.5)),d).attr(a?{}:i.bubbleAttribs).addClass((a?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(t.className||"")).add(this.legendItem.symbol)),M.connectors.push(f.path(f.crispLine([["M",F,e],["L",F+P,e]],t.connectorWidth)).attr(a?{}:i.connectorAttribs).addClass((a?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(t.connectorClassName||"")).add(this.legendItem.symbol)),i=f.text(this.formatLabel(i)).attr(a?{}:i.labelAttribs).css(a?{}:s.style).addClass("highcharts-bubble-legend-labels "+(t.labels.className||"")).add(this.legendItem.symbol),t={x:F+P+t.labels.x,y:e+t.labels.y+.4*i.getBBox().height},i.attr(t),r.push(i),i.placed=!0,i.alignAttr=t}getMaxLabelSize(){let i,t;return this.symbols.labels.forEach(function(s){t=s.getBBox(!0),i=i?t.width>i.width?t:i:t}),i||{}}formatLabel(i){var t=this.options;const s=t.labels.formatter;t=t.labels.format;const{numberFormatter:r}=this.chart;return t?p.format(t,i):s?s.call(i):r(i.value,1)}hideOverlappingLabels(){const i=this.chart,t=this.symbols;!this.options.labels.allowOverlap&&t&&(i.hideOverlappingLabels(t.labels),t.labels.forEach(function(s,r){s.newOpacity?s.newOpacity!==s.oldOpacity&&t.connectors[r].show():t.connectors[r].hide()}))}getRanges(){const i=this.legend.bubbleLegend,t=i.options.ranges;let s,r,o=Number.MAX_VALUE,f=-Number.MAX_VALUE;return i.chart.series.forEach(function(M){M.isBubble&&!M.ignoreSeries&&(r=M.zData.filter(w),r.length&&(o=X(M.options.zMin,Math.min(o,Math.max(G(r),M.options.displayNegative===!1?M.options.zThreshold:-Number.MAX_VALUE))),f=X(M.options.zMax,Math.max(f,T(r)))))}),s=o===f?[{value:f}]:[{value:o},{value:(o+f)/2},{value:f,autoRanges:!0}],t.length&&t[0].radius&&s.reverse(),s.forEach(function(M,v){t&&t[v]&&(s[v]=m(t[v],M))}),s}predictBubbleSizes(){var i=this.chart,t=i.legend.options,s=t.floating;const r=(t=t.layout==="horizontal")?i.legend.lastLineHeight:0,o=i.plotSizeX,f=i.plotSizeY;var M=i.series[this.options.seriesIndex],v=M.getPxExtremes();i=Math.ceil(v.minPxSize),v=Math.ceil(v.maxPxSize);const d=Math.min(f,o);return M=M.options.maxSize,s||!/%$/.test(M)?s=v:(M=parseFloat(M),s=(d+r)*M/100/(M/100+1),(t&&f-s>=o||!t&&o-s>=f)&&(s=v)),[i,Math.ceil(s)]}updateRanges(i,t){const s=this.legend.options.bubbleLegend;s.minSize=i,s.maxSize=t,s.ranges=this.getRanges()}correctSizes(){const i=this.legend,t=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(t.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,t.maxPxSize),i.render())}}return D}),at(l,"Series/Bubble/BubbleLegendComposition.js",[l["Series/Bubble/BubbleLegendDefaults.js"],l["Series/Bubble/BubbleLegendItem.js"],l["Core/Defaults.js"],l["Core/Utilities.js"]],function(n,p,c,u){function g(t,s,r){const o=this.legend;var f=0<=h(this);let M,v;o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&f?(M=o.bubbleLegend.options,f=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(f[0],f[1]),M.placed||(o.group.placed=!1,o.allItems.forEach(d=>{v=d.legendItem||{},v.group&&(v.group.translateY=null)})),o.render(),this.getMargins(),this.axes.forEach(function(d){d.visible&&d.render(),M.placed||(d.setScale(),d.updateNames(),D(d.ticks,function(P){P.isNew=!0,P.isNewLabel=!0}))}),M.placed=!0,this.getMargins(),t.call(this,s,r),o.bubbleLegend.correctSizes(),m(o,T(o))):(t.call(this,s,r),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),m(o,T(o))))}function h(t){t=t.series;let s=0;for(;s<t.length;){if(t[s]&&t[s].isBubble&&t[s].visible&&t[s].zData.length)return s;s++}return-1}function T(t){t=t.allItems;const s=[],r=t.length;let o,f,M=0;for(f=0;f<r;f++){var v=t[f].legendItem||{};if(o=(t[f+1]||{}).legendItem||{},v.labelHeight&&(t[f].itemHeight=v.labelHeight),t[f]===t[r-1]||v.y!==o.y){for(s.push({height:0}),v=s[s.length-1],M;M<=f;M++)t[M].itemHeight>v.height&&(v.height=t[M].itemHeight);v.step=f}}return s}function G(t){const s=this.bubbleLegend,r=this.options,o=r.bubbleLegend,f=h(this.chart);s&&s.ranges&&s.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(s)),0<=f&&r.enabled&&o.enabled&&(o.seriesIndex=f,this.bubbleLegend=new p(o,this),this.bubbleLegend.addToLegend(t.allItems))}function w(t){if(t.defaultPrevented)return!1;var s=this.chart;t=this.visible;const r=this.chart.legend;r&&r.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,s=0<=h(s),r.bubbleLegend.visible!==s&&(r.update({bubbleLegend:{enabled:s}}),r.bubbleLegend.visible=s),this.visible=t)}function m(t,s){const r=t.options.rtl;let o,f,M,v,d=0;t.allItems.forEach((P,E)=>{v=P.legendItem||{},v.group&&(o=v.group.translateX||0,f=v.y||0,((M=P.movementX)||r&&P.ranges)&&(M=r?o-P.options.maxSize/2:o+M,v.group.attr({translateX:M})),E>s[d].step&&d++,v.group.attr({translateY:Math.round(f+s[d].height/2)}),v.y=f+s[d].height/2)})}const{setOptions:X}=c,{addEvent:N,objectEach:D,wrap:J}=u,i=[];return{compose:function(t,s,r){u.pushUnique(i,t)&&(X({legend:{bubbleLegend:n}}),J(t.prototype,"drawChartBox",g)),u.pushUnique(i,s)&&N(s,"afterGetAllItems",G),u.pushUnique(i,r)&&N(r,"legendItemClick",w)}}}),at(l,"Series/Bubble/BubblePoint.js",[l["Core/Series/Point.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c){({seriesTypes:{scatter:{prototype:{pointClass:p}}}}=p),{extend:c}=c;class u extends p{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(h){return n.prototype.haloPath.call(this,h===0?0:(this.marker&&this.marker.radius||0)+h)}}return c(u.prototype,{ttBelow:!1}),u}),at(l,"Series/Bubble/BubbleSeries.js",[l["Series/Bubble/BubbleLegendComposition.js"],l["Series/Bubble/BubblePoint.js"],l["Core/Color/Color.js"],l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c,u,g,h){function T(){const v=this.len,d=this.chart,P=this.isXAxis,E=P?"xData":"yData",R=this.min,F=this.max-R;let e=0,a=v,b=v/F,C;this.series.forEach(S=>{if(S.bubblePadding&&(S.visible||!d.options.chart.ignoreHiddenSeries)){C=this.allowZoomOutside=!0;const Y=S[E];if(P&&((S.onPoint||S).getRadii(0,0,S),S.onPoint&&(S.radii=S.onPoint.radii)),0<F){let H=Y.length;for(;H--;)if(s(Y[H])&&this.dataMin<=Y[H]&&Y[H]<=this.max){const U=S.radii&&S.radii[H]||0;e=Math.min((Y[H]-R)*b-U,e),a=Math.max((Y[H]-R)*b+U,a)}}}}),C&&0<F&&!this.logarithmic&&(a-=v,b*=(v+Math.max(0,e)-Math.min(a,v))/v,[["min","userMin",e],["max","userMax",a]].forEach(S=>{typeof o(this.options[S[0]],this[S[1]])>"u"&&(this[S[0]]+=S[2]/b)}))}const{parse:G}=c;({noop:c}=u);const{series:w,seriesTypes:{column:{prototype:m},scatter:X}}=g,{addEvent:N,arrayMax:D,arrayMin:J,clamp:i,extend:t,isNumber:s,merge:r,pick:o}=h,f=[];class M extends X{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(d,P,E,R){n.compose(P,E,R),h.pushUnique(f,d)&&(d.prototype.beforePadding=T)}animate(d){!d&&this.points.length<this.options.animationLimit&&this.points.forEach(function(P){const{graphic:E}=P;E&&E.width&&(this.hasRendered||E.attr({x:P.plotX,y:P.plotY,width:1,height:1}),E.animate(this.markerAttribs(P),this.options.animation))},this)}getRadii(){const d=this.zData,P=this.yData,E=[];let R,F,e,a=this.chart.bubbleZExtremes;const{minPxSize:b,maxPxSize:C}=this.getPxExtremes();if(!a){let S=Number.MAX_VALUE,Y=-Number.MAX_VALUE,H;this.chart.series.forEach(U=>{U.bubblePadding&&(U.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(U=(U.onPoint||U).getZExtremes())&&(S=Math.min(o(S,U.zMin),U.zMin),Y=Math.max(o(Y,U.zMax),U.zMax),H=!0)}),H?(a={zMin:S,zMax:Y},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(F=0,R=d.length;F<R;F++)e=d[F],E.push(this.getRadius(a.zMin,a.zMax,b,C,e,P&&P[F]));this.radii=E}getRadius(d,P,E,R,F,e){const a=this.options,b=a.sizeBy!=="width",C=a.zThreshold;let S=P-d,Y=.5;if(e===null||F===null)return null;if(s(F)){if(a.sizeByAbsoluteValue&&(F=Math.abs(F-C),S=Math.max(P-C,Math.abs(d-C)),d=0),F<d)return E/2-1;0<S&&(Y=(F-d)/S)}return b&&0<=Y&&(Y=Math.sqrt(Y)),Math.ceil(E+Y*(R-E))/2}hasData(){return!!this.processedXData.length}pointAttribs(d,P){const E=this.options.marker.fillOpacity;return d=w.prototype.pointAttribs.call(this,d,P),E!==1&&(d.fill=G(d.fill).setOpacity(E).get("rgba")),d}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:d,radii:P}=this,{minPxSize:E}=this.getPxExtremes();let R=d.length;for(;R--;){const F=d[R],e=P?P[R]:0;s(e)&&e>=E/2?(F.marker=t(F.marker,{radius:e,width:2*e,height:2*e}),F.dlBox={x:F.plotX-e,y:F.plotY-e,width:2*e,height:2*e}):(F.shapeArgs=F.plotY=F.dlBox=void 0,F.isInside=!1)}}getPxExtremes(){const d=Math.min(this.chart.plotWidth,this.chart.plotHeight);var P=R=>{let F;return typeof R=="string"&&(F=/%$/.test(R),R=parseInt(R,10)),F?d*R/100:R};const E=P(o(this.options.minSize,8));return P=Math.max(P(o(this.options.maxSize,"20%")),E),{minPxSize:E,maxPxSize:P}}getZExtremes(){var d=this.options;const P=(this.zData||[]).filter(s);if(P.length){const E=o(d.zMin,i(J(P),d.displayNegative===!1?d.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(d=o(d.zMax,D(P)),s(E)&&s(d))return{zMin:E,zMax:d}}}}return M.defaultOptions=r(X.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:v}=this.series.chart,{z:d}=this.point;return s(d)?v(d,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),t(M.prototype,{alignDataLabel:m.alignDataLabel,applyZones:c,bubblePadding:!0,buildKDTree:c,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:p,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),N(M,"updatedData",v=>{delete v.target.chart.bubbleZExtremes}),N(M,"remove",v=>{delete v.target.chart.bubbleZExtremes}),g.registerSeriesType("bubble",M),M}),at(l,"Series/ColumnRange/ColumnRangePoint.js",[l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p){const{seriesTypes:{column:{prototype:{pointClass:{prototype:c}}},arearange:{prototype:{pointClass:u}}}}=n,{extend:g,isNumber:h}=p;class T extends u{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return h(this.low)}}return g(T.prototype,{setState:c.setState}),T}),at(l,"Series/ColumnRange/ColumnRangeSeries.js",[l["Series/ColumnRange/ColumnRangePoint.js"],l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c,u){({noop:p}=p);const{seriesTypes:{arearange:g,column:h,column:{prototype:T}}}=c,{addEvent:G,clamp:w,extend:m,isNumber:X,merge:N,pick:D}=u;class J extends g{setOptions(){return N(!0,arguments[0],{stacking:void 0}),g.prototype.setOptions.apply(this,arguments)}translate(){return T.translate.apply(this)}pointAttribs(){return T.pointAttribs.apply(this,arguments)}translate3dPoints(){return T.translate3dPoints.apply(this,arguments)}translate3dShapes(){return T.translate3dShapes.apply(this,arguments)}}return J.defaultOptions=N(h.defaultOptions,g.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),G(J,"afterColumnTranslate",function(){const i=this.yAxis,t=this.xAxis,s=t.startAngleRad,r=this.chart,o=this.xAxis.isRadial,f=Math.max(r.chartWidth,r.chartHeight)+999;let M,v,d,P;this.points.forEach(E=>{const R=E.shapeArgs||{},F=this.options.minPointLength,e=E.plotY,a=i.translate(E.high,0,1,0,1);if(X(a)&&X(e))if(E.plotHigh=w(a,-f,f),E.plotLow=w(e,-f,f),P=E.plotHigh,M=D(E.rectPlotY,E.plotY)-E.plotHigh,Math.abs(M)<F?(v=F-M,M+=v,P-=v/2):0>M&&(M*=-1,P-=M),o&&this.polar)d=E.barX+s,E.shapeType="arc",E.shapeArgs=this.polar.arc(P+M,P,d,d+E.pointWidth);else{R.height=M,R.y=P;const{x:b=0,width:C=0}=R;E.shapeArgs=N(E.shapeArgs,this.crispCol(b,P,C,M)),E.tooltipPos=r.inverted?[i.len+i.pos-r.plotLeft-P-M/2,t.len+t.pos-r.plotTop-b-C/2,M]:[t.left-r.plotLeft+b+C/2,i.pos-r.plotTop+P+M/2,M]}})},{order:5}),m(J.prototype,{directTouch:!0,pointClass:n,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:T.adjustForMissingColumns,animate:T.animate,crispCol:T.crispCol,drawGraph:p,drawPoints:T.drawPoints,getSymbol:p,drawTracker:T.drawTracker,getColumnMetrics:T.getColumnMetrics}),c.registerSeriesType("columnrange",J),J}),at(l,"Series/ColumnPyramid/ColumnPyramidSeries.js",[l["Series/Column/ColumnSeries.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c){const{prototype:u}=n,{clamp:g,merge:h,pick:T}=c;class G extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let m=this,X=m.chart,N=m.options;var D=m.dense=2>m.closestPointRange*m.xAxis.transA;D=m.borderWidth=T(N.borderWidth,D?0:1);let J=m.yAxis,i=N.threshold,t=m.translatedThreshold=J.getThreshold(i),s=T(N.minPointLength,5),r=m.getColumnMetrics(),o=r.width,f=m.barW=Math.max(o,1+2*D),M=m.pointXOffset=r.offset;X.inverted&&(t-=.5),N.pointPadding&&(f=Math.ceil(f)),u.translate.apply(m),m.points.forEach(function(v){var d=T(v.yBottom,t),P=999+Math.abs(d),E=g(v.plotY,-P,J.len+P);P=v.plotX+M;let R=f/2,F=Math.min(E,d);d=Math.max(E,d)-F;var e;let a,b;v.barX=P,v.pointWidth=o,v.tooltipPos=X.inverted?[J.len+J.pos-X.plotLeft-E,m.xAxis.len-P-R,d]:[P+R,E+J.pos-X.plotTop,d],E=i+(v.total||v.y),N.stacking==="percent"&&(E=i+(0>v.y)?-100:100),E=J.toPixels(E,!0);var C=(e=X.plotHeight-E-(X.plotHeight-t))?R*(F-E)/e:0,S=e?R*(F+d-E)/e:0;e=P-C+R,C=P+C+R;var Y=P+S+R;S=P-S+R,a=F-s,b=F+d,0>v.y&&(a=F,b=F+d+s),X.inverted&&(Y=J.width-F,e=E-(J.width-t),C=R*(E-Y)/e,S=R*(E-(Y-d))/e,e=P+R+C,C=e-2*C,Y=P-S+R,S=P+S+R,a=F,b=F+d-s,0>v.y&&(b=F+d+s)),v.shapeType="path",v.shapeArgs={x:e,y:a,width:C-e,height:d,d:[["M",e,a],["L",C,a],["L",Y,b],["L",S,b],["Z"]]}})}}return G.defaultOptions=h(n.defaultOptions,{}),p.registerSeriesType("columnpyramid",G),G}),at(l,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),at(l,"Series/ErrorBar/ErrorBarSeries.js",[l["Series/BoxPlot/BoxPlotSeries.js"],l["Series/Column/ColumnSeries.js"],l["Series/ErrorBar/ErrorBarSeriesDefaults.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c,u,g){const{arearange:h}=u.seriesTypes,{addEvent:T,merge:G,extend:w}=g;class m extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||p.prototype.getColumnMetrics.call(this)}drawDataLabels(){const N=this.pointValKey;h&&(h.prototype.drawDataLabels.call(this),this.data.forEach(function(D){D.y=D[N]}))}toYData(N){return[N.low,N.high]}}return m.defaultOptions=G(n.defaultOptions,c),T(m,"afterTranslate",function(){this.points.forEach(X=>{X.plotLow=X.plotY})},{order:0}),w(m.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),u.registerSeriesType("errorbar",m),m}),at(l,"Series/Gauge/GaugePoint.js",[l["Core/Series/SeriesRegistry.js"]],function(n){({series:{prototype:{pointClass:n}}}=n);class p extends n{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(u){this.state=u}}return p}),at(l,"Series/Gauge/GaugeSeries.js",[l["Series/Gauge/GaugePoint.js"],l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c,u){({noop:p}=p);const{series:g,seriesTypes:{column:h}}=c,{clamp:T,isNumber:G,extend:w,merge:m,pick:X,pInt:N,defined:D}=u;class J extends g{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const t=this.yAxis,s=this.options,r=t.center;this.generatePoints(),this.points.forEach(o=>{const f=m(s.dial,o.dial),M=N(f.radius)*r[2]/200,v=N(f.baseLength)*M/100,d=N(f.rearLength)*M/100,P=f.baseWidth,E=f.topWidth;let R=s.overshoot,F=t.startAngleRad+t.translate(o.y,void 0,void 0,void 0,!0);(G(R)||s.wrap===!1)&&(R=G(R)?R/180*Math.PI:0,F=T(F,t.startAngleRad-R,t.endAngleRad+R)),F=180*F/Math.PI,o.shapeType="path",o.shapeArgs={d:f.path||[["M",-d,-P/2],["L",v,-P/2],["L",M,-E/2],["L",M,E/2],["L",v,P/2],["L",-d,P/2],["Z"]],translateX:r[0],translateY:r[1],rotation:F},o.plotX=r[0],o.plotY=r[1],D(o.y)&&t.max-t.min&&(o.percentage=(o.y-t.min)/(t.max-t.min)*100)})}drawPoints(){const t=this,s=t.chart,r=t.yAxis.center,o=t.pivot,f=t.options,M=f.pivot,v=s.renderer;t.points.forEach(d=>{const P=d.graphic,E=d.shapeArgs,R=E.d,F=m(f.dial,d.dial);P?(P.animate(E),E.d=R):d.graphic=v[d.shapeType](E).addClass("highcharts-dial").add(t.group),s.styledMode||d.graphic[P?"animate":"attr"]({stroke:F.borderColor,"stroke-width":F.borderWidth,fill:F.backgroundColor})}),o?o.animate({translateX:r[0],translateY:r[1]}):M&&(t.pivot=v.circle(0,0,M.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(r[0],r[1]).add(t.group),s.styledMode||t.pivot.attr({fill:M.backgroundColor,stroke:M.borderColor,"stroke-width":M.borderWidth}))}animate(t){const s=this;t||s.points.forEach(r=>{const o=r.graphic;o&&(o.attr({rotation:180*s.yAxis.startAngleRad/Math.PI}),o.animate({rotation:r.shapeArgs.rotation},s.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),g.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,s){g.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),X(s,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return J.defaultOptions=m(g.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),w(J.prototype,{angular:!0,directTouch:!0,drawGraph:p,drawTracker:h.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:n,trackerGroups:["group","dataLabelsGroup"]}),c.registerSeriesType("gauge",J),J}),at(l,"Series/DragNodesComposition.js",[l["Core/Utilities.js"]],function(n){function p(){const g=this;let h,T,G;g.container&&(h=c(g.container,"mousedown",w=>{const m=g.hoverPoint;m&&m.series&&m.series.hasDraggableNodes&&m.series.options.draggable&&(m.series.onMouseDown(m,w),T=c(g.container,"mousemove",X=>m&&m.series&&m.series.onMouseMove(m,X)),G=c(g.container.ownerDocument,"mouseup",X=>(T(),G(),m&&m.series&&m.series.onMouseUp(m,X))))})),c(g,"destroy",function(){h()})}const{addEvent:c}=n,u=[];return{compose:function(g){n.pushUnique(u,g)&&c(g,"load",p)},onMouseDown:function(g,h){h=this.chart.pointer.normalize(h),g.fixedPosition={chartX:h.chartX,chartY:h.chartY,plotX:g.plotX,plotY:g.plotY},g.inDragMode=!0},onMouseMove:function(g,h){if(g.fixedPosition&&g.inDragMode){const w=this.chart;h=w.pointer.normalize(h);var T=g.fixedPosition.chartX-h.chartX,G=g.fixedPosition.chartY-h.chartY;h=w.graphLayoutsLookup,(5<Math.abs(T)||5<Math.abs(G))&&(T=g.fixedPosition.plotX-T,G=g.fixedPosition.plotY-G,w.isInsidePlot(T,G)&&(g.plotX=T,g.plotY=G,g.hasDragged=!0,this.redrawHalo(g),h.forEach(m=>{m.restartSimulation()})))}},onMouseUp:function(g,h){g.fixedPosition&&(g.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),g.inDragMode=g.hasDragged=!1,this.options.fixedDraggable||delete g.fixedPosition)},redrawHalo:function(g){g&&this.halo&&this.halo.attr({d:g.haloPath(this.options.states.hover.halo.size)})}}}),at(l,"Series/GraphLayoutComposition.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Utilities.js"]],function(n,p){function c(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(m=>{m.updateSimulation()}),this.redraw())}function u(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(m=>{m.updateSimulation(!1)}),this.redraw())}function g(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(m=>{m.stop()})}function h(){let m,X=!1;const N=D=>{D.maxIterations--&&isFinite(D.temperature)&&!D.isStable()&&!D.enableSimulation&&(D.beforeStep&&D.beforeStep(),D.step(),m=!1,X=!0)};if(this.graphLayoutsLookup){for(T(!1,this),this.graphLayoutsLookup.forEach(D=>D.start());!m;)m=!0,this.graphLayoutsLookup.forEach(N);X&&this.series.forEach(D=>{D&&D.layout&&D.render()})}}const{setAnimation:T}=n,{addEvent:G}=p,w=[];return{compose:function(m){p.pushUnique(w,m)&&(G(m,"afterPrint",c),G(m,"beforePrint",u),G(m,"predraw",g),G(m,"render",h))},integrations:{},layouts:{}}}),at(l,"Series/PackedBubble/PackedBubblePoint.js",[l["Core/Chart/Chart.js"],l["Core/Series/Point.js"],l["Core/Series/SeriesRegistry.js"]],function(n,p,c){({seriesTypes:{bubble:{prototype:{pointClass:c}}}}=c);class u extends c{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),p.prototype.destroy.apply(this,arguments)}firePointEvent(){const h=this.series.options;if(this.isParentNode&&h.parentNode){const T=h.allowPointSelect;h.allowPointSelect=h.parentNode.allowPointSelect,p.prototype.firePointEvent.apply(this,arguments),h.allowPointSelect=T}else p.prototype.firePointEvent.apply(this,arguments)}select(){const h=this.series.chart;this.isParentNode?(h.getSelectedPoints=h.getSelectedParentNodes,p.prototype.select.apply(this,arguments),h.getSelectedPoints=n.prototype.getSelectedPoints):p.prototype.select.apply(this,arguments)}}return u}),at(l,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[l["Core/Utilities.js"]],function(n){const{isNumber:p}=n;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:c}=this.series.chart,{value:u}=this.point;return p(u)?c(u,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),at(l,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(n,p,c){const u=n.getMass(),g=-c.x*p*this.diffTemperature;p=-c.y*p*this.diffTemperature,n.fromNode.fixedPosition||(n.fromNode.plotX-=g*u.fromNode/n.fromNode.degree,n.fromNode.plotY-=p*u.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.plotX+=g*u.toNode/n.toNode.degree,n.toNode.plotY+=p*u.toNode/n.toNode.degree)},attractiveForceFunction:function(n,p){return(p-n)/n},barycenter:function(){let n=this.options.gravitationalConstant,p=this.barycenter.xFactor,c=this.barycenter.yFactor;p=(p-(this.box.left+this.box.width)/2)*n,c=(c-(this.box.top+this.box.height)/2)*n,this.nodes.forEach(function(u){u.fixedPosition||(u.plotX-=p/u.mass/u.degree,u.plotY-=c/u.mass/u.degree)})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.5)},integrate:function(n,p){var c=-n.options.friction;let u=n.options.maxSpeed,g=(p.plotX+p.dispX-p.prevX)*c;c*=p.plotY+p.dispY-p.prevY;var h=Math.abs;let T=h(g)/(g||1);h=h(c)/(c||1),g=T*Math.min(u,Math.abs(g)),c=h*Math.min(u,Math.abs(c)),p.prevX=p.plotX+p.dispX,p.prevY=p.plotY+p.dispY,p.plotX+=g,p.plotY+=c,p.temperature=n.vectorLength({x:g,y:c})},repulsive:function(n,p,c){p=p*this.diffTemperature/n.mass/n.degree,n.fixedPosition||(n.plotX+=c.x*p,n.plotY+=c.y*p)},repulsiveForceFunction:function(n,p){return(p-n)/n*(p>n?1:0)}}}),at(l,"Series/PackedBubble/PackedBubbleIntegration.js",[l["Core/Globals.js"],l["Series/Networkgraph/VerletIntegration.js"]],function(n,p){return{noop:n}=n,{barycenter:function(){const c=this.options.gravitationalConstant,u=this.box,g=this.nodes;let h,T;for(const G of g)this.options.splitSeries&&!G.isParentNode?(h=G.series.parentNode.plotX,T=G.series.parentNode.plotY):(h=u.width/2,T=u.height/2),G.fixedPosition||(G.plotX-=(G.plotX-h)*c/(G.mass*Math.sqrt(g.length)),G.plotY-=(G.plotY-T)*c/(G.mass*Math.sqrt(g.length)))},getK:n,integrate:p.integrate,repulsive:function(c,u,g,h){const T=u*this.diffTemperature/c.mass/c.degree;u=g.x*T,g=g.y*T,c.fixedPosition||(c.plotX+=u,c.plotY+=g),h.fixedPosition||(h.plotX-=u,h.plotY-=g)},repulsiveForceFunction:function(c,u,g,h){return Math.min(c,(g.marker.radius+h.marker.radius)/2)}}}),at(l,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(n,p,c,u){const g=n.getMass(),h=c.x/u*p;p*=c.y/u,n.fromNode.fixedPosition||(n.fromNode.dispX-=h*g.fromNode/n.fromNode.degree,n.fromNode.dispY-=p*g.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.dispX+=h*g.toNode/n.toNode.degree,n.toNode.dispY+=p*g.toNode/n.toNode.degree)},attractiveForceFunction:function(n,p){return n*n/p},barycenter:function(){const n=this.options.gravitationalConstant,p=this.barycenter.xFactor,c=this.barycenter.yFactor;this.nodes.forEach(function(u){if(!u.fixedPosition){var g=u.getDegree();g*=1+g/2,u.dispX+=(p-u.plotX)*n*g/u.degree,u.dispY+=(c-u.plotY)*n*g/u.degree}})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.3)},integrate:function(n,p){let c;p.dispX+=p.dispX*n.options.friction,p.dispY+=p.dispY*n.options.friction,c=p.temperature=n.vectorLength({x:p.dispX,y:p.dispY}),c!==0&&(p.plotX+=p.dispX/c*Math.min(Math.abs(p.dispX),n.temperature),p.plotY+=p.dispY/c*Math.min(Math.abs(p.dispY),n.temperature))},repulsive:function(n,p,c,u){n.dispX+=c.x/u*p/n.degree,n.dispY+=c.y/u*p/n.degree},repulsiveForceFunction:function(n,p){return p*p/n}}}),at(l,"Series/Networkgraph/QuadTreeNode.js",[],function(){class n{constructor(c){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=c,this.boxSize=Math.min(c.width,c.height)}divideBox(){const c=this.box.width/2,u=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:c,height:u}),this.nodes[1]=new n({left:this.box.left+c,top:this.box.top,width:c,height:u}),this.nodes[2]=new n({left:this.box.left+c,top:this.box.top+u,width:c,height:u}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+u,width:c,height:u})}getBoxPosition(c){const u=c.plotY<this.box.top+this.box.height/2;return c.plotX<this.box.left+this.box.width/2?u?0:3:u?1:2}insert(c,u){this.isInternal?this.nodes[this.getBoxPosition(c)].insert(c,u-1):(this.isEmpty=!1,this.body?u?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,u-1),this.body=!0),this.nodes[this.getBoxPosition(c)].insert(c,u-1)):(u=new n({top:c.plotX||NaN,left:c.plotY||NaN,width:.1,height:.1}),u.body=c,u.isInternal=!1,this.nodes.push(u)):(this.isInternal=!1,this.body=c))}updateMassAndCenter(){let c=0,u=0,g=0;if(this.isInternal){for(const h of this.nodes)h.isEmpty||(c+=h.mass,u+=h.plotX*h.mass,g+=h.plotY*h.mass);u/=c,g/=c}else this.body&&(c=this.body.mass,u=this.body.plotX,g=this.body.plotY);this.mass=c,this.plotX=u,this.plotY=g}}return n}),at(l,"Series/Networkgraph/QuadTree.js",[l["Series/Networkgraph/QuadTreeNode.js"]],function(n){class p{constructor(u,g,h,T){this.box={left:u,top:g,width:h,height:T},this.maxDepth=25,this.root=new n(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(u){u.updateMassAndCenter()})}insertNodes(u){for(const g of u)this.root.insert(g,this.maxDepth)}visitNodeRecursive(u,g,h){let T;if(u||(u=this.root),u===this.root&&g&&(T=g(u)),T!==!1){for(const G of u.nodes){if(G.isInternal){if(g&&(T=g(G)),T===!1)continue;this.visitNodeRecursive(G,g,h)}else G.body&&g&&g(G.body);h&&h(G)}u===this.root&&h&&h(u)}}}return p}),at(l,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[l["Series/Networkgraph/EulerIntegration.js"],l["Core/Globals.js"],l["Series/GraphLayoutComposition.js"],l["Series/Networkgraph/QuadTree.js"],l["Core/Utilities.js"],l["Series/Networkgraph/VerletIntegration.js"]],function(n,p,c,u,g,h){const{win:T}=p,{clamp:G,defined:w,isFunction:m,fireEvent:X,pick:N}=g;class D{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(i){c.compose(i),c.integrations.euler=n,c.integrations.verlet=h,c.layouts["reingold-fruchterman"]=D}init(i){this.options=i,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=c.integrations[i.integration],this.enableSimulation=i.enableSimulation,this.attractiveForce=N(i.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=N(i.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=i.approximation}updateSimulation(i){this.enableSimulation=N(i,this.options.enableSimulation)}start(){const i=this.series,t=this.options;this.currentStep=0,this.forces=i[0]&&i[0].forces||[],this.chart=i[0]&&i[0].chart,this.initialRendering&&(this.initPositions(),i.forEach(function(s){s.finishedAnimating=!0,s.render()})),this.setK(),this.resetSimulation(t),this.enableSimulation&&this.step()}step(){const i=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const t of this.forces||[])this[t+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const t of i)t.chart&&t.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&T.cancelAnimationFrame(this.simulation),this.simulation=T.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(t=>{X(t,"afterSimulation")}))}}stop(){this.simulation&&T.cancelAnimationFrame(this.simulation)}setArea(i,t,s,r){this.box={left:i,top:t,width:s,height:r}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(i,t){for(const s of i)t.indexOf(s)===-1&&t.push(s)}removeElementFromCollection(i,t){i=t.indexOf(i),i!==-1&&t.splice(i,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(i){this.maxIterations=N(i,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(i){this.initialRendering=i}createQuadTree(){this.quadTree=new u(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const i=this.options.initialPositions;if(m(i)){i.call(this);for(const t of this.nodes)w(t.prevX)||(t.prevX=t.plotX),w(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}else i==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const i=this.box;var t=this.nodes;const s=2*Math.PI/(t.length+1),r=t.filter(function(d){return d.linksTo.length===0}),o={},f=this.options.initialPositionRadius,M=d=>{for(const P of d.linksFrom||[])o[P.toNode.id]||(o[P.toNode.id]=!0,v.push(P.toNode),M(P.toNode))};let v=[];for(const d of r)v.push(d),M(d);if(v.length)for(const d of t)v.indexOf(d)===-1&&v.push(d);else v=t;for(let d=0,P=v.length;d<P;++d)t=v[d],t.plotX=t.prevX=N(t.plotX,i.width/2+f*Math.cos(d*s)),t.plotY=t.prevY=N(t.plotY,i.height/2+f*Math.sin(d*s)),t.dispX=0,t.dispY=0}setRandomPositions(){const i=this.box,t=this.nodes,s=t.length+1,r=f=>(f=f*f/Math.PI,f-=Math.floor(f));let o;for(let f=0,M=t.length;f<M;++f)o=t[f],o.plotX=o.prevX=N(o.plotX,i.width*r(f)),o.plotY=o.prevY=N(o.plotY,i.height*r(s+f)),o.dispX=0,o.dispY=0}force(i,...t){this.integration[i].apply(this,t)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let i=0,t=0,s=0;for(const r of this.nodes)t+=r.plotX*r.mass,s+=r.plotY*r.mass,i+=r.mass;return this.barycenter={x:t,y:s,xFactor:t/i,yFactor:s/i}}barnesHutApproximation(i,t){const s=this.getDistXY(i,t),r=this.vectorLength(s);let o,f;return i!==t&&r!==0&&(t.isInternal?t.boxSize/r<this.options.theta&&r!==0?(f=this.repulsiveForce(r,this.k),this.force("repulsive",i,f*t.mass,s,r),o=!1):o=!0:(f=this.repulsiveForce(r,this.k),this.force("repulsive",i,f*t.mass,s,r))),o}repulsiveForces(){if(this.approximation==="barnes-hut")for(const i of this.nodes)this.quadTree.visitNodeRecursive(null,t=>this.barnesHutApproximation(i,t));else{let i,t,s;for(const r of this.nodes)for(const o of this.nodes)r===o||r.fixedPosition||(s=this.getDistXY(r,o),t=this.vectorLength(s),t!==0&&(i=this.repulsiveForce(t,this.k),this.force("repulsive",r,i*o.mass,s,t)))}}attractiveForces(){let i,t,s;for(const r of this.links)r.fromNode&&r.toNode&&(i=this.getDistXY(r.fromNode,r.toNode),t=this.vectorLength(i),t!==0&&(s=this.attractiveForce(t,this.k),this.force("attractive",r,s,i,t)))}applyLimits(){const i=this.nodes;for(const t of i){if(t.fixedPosition)break;this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0}}applyLimitBox(i,t){const s=i.radius;i.plotX=G(i.plotX,t.left+s,t.width-s),i.plotY=G(i.plotY,t.top+s,t.height-s)}coolDown(i,t,s){return i-t*s}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let i=0;for(const t of this.nodes)i+=t.temperature;return i}vectorLength(i){return Math.sqrt(i.x*i.x+i.y*i.y)}getDistR(i,t){return i=this.getDistXY(i,t),this.vectorLength(i)}getDistXY(i,t){const s=i.plotX-t.plotX;return i=i.plotY-t.plotY,{x:s,y:i,absX:Math.abs(s),absY:Math.abs(i)}}}return D}),at(l,"Series/PackedBubble/PackedBubbleLayout.js",[l["Series/GraphLayoutComposition.js"],l["Series/PackedBubble/PackedBubbleIntegration.js"],l["Series/Networkgraph/ReingoldFruchtermanLayout.js"],l["Core/Utilities.js"]],function(n,p,c,u){function g(){const X=[];return this.series.forEach(N=>{N.parentNode&&N.parentNode.selected&&X.push(N.parentNode)}),X}function h(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:T,pick:G}=u,w=[];class m extends c{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(N){c.compose(N),n.integrations.packedbubble=p,n.layouts.packedbubble=m,u.pushUnique(w,N)&&(T(N,"beforeRedraw",h),N.prototype.getSelectedParentNodes=g)}beforeStep(){this.options.marker&&this.series.forEach(N=>{N&&N.calculateParentRadius()})}isStable(){const N=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>N||0>=this.temperature}setCircularPositions(){const N=this.box;var D=this.nodes;const J=2*Math.PI/(D.length+1),i=this.options.initialPositionRadius;let t,s=0;for(const r of D)this.options.splitSeries&&!r.isParentNode?(D=r.series.parentNode.plotX,t=r.series.parentNode.plotY):(D=N.width/2,t=N.height/2),r.plotX=r.prevX=G(r.plotX,D+i*Math.cos(r.index||s*J)),r.plotY=r.prevY=G(r.plotY,t+i*Math.sin(r.index||s*J)),r.dispX=0,r.dispY=0,s++}repulsiveForces(){const N=this,D=N.options.bubblePadding;let J,i,t;N.nodes.forEach(s=>{s.degree=s.mass,s.neighbours=0,N.nodes.forEach(r=>{J=0,s===r||s.fixedPosition||!N.options.seriesInteraction&&s.series!==r.series||(t=N.getDistXY(s,r),i=N.vectorLength(t)-(s.marker.radius+r.marker.radius+D),0>i&&(s.degree+=.01,s.neighbours++,J=N.repulsiveForce(-i/Math.sqrt(s.neighbours),N.k,s,r)),N.force("repulsive",s,J*r.mass,t,r,i))})})}applyLimitBox(N,D){let J,i;this.options.splitSeries&&!N.isParentNode&&this.options.parentNodeLimit&&(J=this.getDistXY(N,N.series.parentNode),i=N.series.parentNodeRadius-N.marker.radius-this.vectorLength(J),0>i&&i>-2*N.marker.radius&&(N.plotX-=.01*J.x,N.plotY-=.01*J.y)),super.applyLimitBox(N,D)}}return n.layouts.packedbubble=m}),at(l,"Series/SimulationSeriesUtilities.js",[l["Core/Utilities.js"],l["Core/Animation/AnimationUtilities.js"]],function(n,p){const{syncTimeout:c}=n,{animObject:u}=p;return{initDataLabels:function(){const g=this.options.dataLabels;if(!this.dataLabelsGroup){const h=this.initDataLabelsGroup();return!this.chart.styledMode&&(g!=null&&g.style)&&h.css(g.style),h.attr({opacity:0}),this.visible&&h.show(),h}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var g;const h=this.options.dataLabels;h!=null&&h.defer&&(!((g=this.options.layoutAlgorithm)===null||g===void 0)&&g.enableSimulation)?c(()=>{this.deferDataLabels=!1},h?u(h.animation).defer:0):this.deferDataLabels=!1}}}),at(l,"Series/PackedBubble/PackedBubbleSeries.js",[l["Core/Color/Color.js"],l["Series/DragNodesComposition.js"],l["Series/GraphLayoutComposition.js"],l["Core/Globals.js"],l["Series/PackedBubble/PackedBubblePoint.js"],l["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],l["Series/PackedBubble/PackedBubbleLayout.js"],l["Core/Series/SeriesRegistry.js"],l["Series/SimulationSeriesUtilities.js"],l["Core/Utilities.js"],l["Core/Animation/AnimationUtilities.js"]],function(n,p,c,u,g,h,T,G,w,m,X){const{parse:N}=n;({noop:n}=u);const{series:{prototype:D},seriesTypes:{bubble:J}}=G,{initDataLabels:i,initDataLabelsDefer:t}=w,{addEvent:s,clamp:r,defined:o,extend:f,fireEvent:M,isArray:v,isNumber:d,merge:P,pick:E}=m;class R extends J{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(e,a,b,C){J.compose(e,a,b,C),p.compose(a),T.compose(a)}accumulateAllPoints(){const e=this.chart,a=[];let b;for(const C of e.series)if(C.is("packedbubble")&&C.visible||!e.options.chart.ignoreHiddenSeries){b=C.yData||[];for(let S=0;S<b.length;S++)a.push([null,null,b[S],C.index,S,{id:S,marker:{radius:0}}])}return a}addLayout(){const e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},a=e.type||"packedbubble",b=this.chart.options.chart;let C=this.chart.graphLayoutsStorage,S=this.chart.graphLayoutsLookup,Y;C||(this.chart.graphLayoutsStorage=C={},this.chart.graphLayoutsLookup=S=[]),Y=C[a],Y||(e.enableSimulation=o(b.forExport)?!b.forExport:e.enableSimulation,C[a]=Y=new c.layouts[a],Y.init(e),S.splice(Y.index,0,Y)),this.layout=Y,this.points.forEach(H=>{H.mass=2,H.degree=1,H.collisionNmb=1}),Y.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),Y.addElementsToCollection([this],Y.series),Y.addElementsToCollection(this.points,Y.nodes)}addSeriesLayout(){var e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const a=e.type||"packedbubble",b=this.chart.graphLayoutsStorage,C=this.chart.graphLayoutsLookup;e=P(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let S=b[a+"-series"];S||(b[a+"-series"]=S=new c.layouts[a],S.init(e),C.splice(S.index,0,S)),this.parentNodeLayout=S,this.createParentNodes()}calculateParentRadius(){const e=this.seriesBox();this.parentNodeRadius=r(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let e=this.options.zMin,a=this.options.zMax,b=1/0,C=-1/0;return e&&a?[e,a]:(this.chart.series.forEach(S=>{S.yData.forEach(Y=>{o(Y)&&(Y>C&&(C=Y),Y<b&&(b=Y))})}),e=E(e,b),a=E(a,C),[e,a])}checkOverlap(e,a){const b=e[0]-a[0],C=e[1]-a[1];return-.001>Math.sqrt(b*b+C*C)-Math.abs(e[2]+a[2])}createParentNodes(){const e=this.pointClass,a=this.chart,b=this.parentNodeLayout,C=this.layout.options;let S,Y=this.parentNode,H={radius:this.parentNodeRadius,lineColor:this.color,fillColor:N(this.color).brighten(.4).get()};C.parentNodeOptions&&(H=P(C.parentNodeOptions.marker||{},H)),this.parentNodeMass=0,this.points.forEach(U=>{this.parentNodeMass+=Math.PI*Math.pow(U.marker.radius,2)}),this.calculateParentRadius(),b.nodes.forEach(U=>{U.seriesIndex===this.index&&(S=!0)}),b.setArea(0,0,a.plotWidth,a.plotHeight),S||(Y||(Y=new e().init(this,{mass:this.parentNodeRadius/2,marker:H,dataLabels:{inside:!1},states:{normal:{marker:H},hover:{marker:H}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(Y.plotX=this.parentNode.plotX,Y.plotY=this.parentNode.plotY),this.parentNode=Y,b.addElementsToCollection([this],b.series),b.addElementsToCollection([Y],b.nodes))}deferLayout(){const e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(e=>{e.removeElementFromCollection(this,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),D.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(D.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",D.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var e=this.chart,a=this.layout.options.parentNodeOptions.marker;a={fill:a.fillColor||N(this.color).brighten(.4).get(),opacity:a.fillOpacity,stroke:a.lineColor||this.color,"stroke-width":E(a.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var b=P({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},a);this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(a.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(b)}}drawTracker(){const e=this.parentNode;let a;super.drawTracker(),e&&(a=v(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),a.forEach(b=>{b.div?b.div.point=e:b.element.point=e}))}getPointRadius(){const e=this.chart,a=this.options,b=a.useSimulation,C=Math.min(e.plotWidth,e.plotHeight),S={},Y=[],H=e.allDataPoints||[],U=H.length;let lt,pt,I,y;["minSize","maxSize"].forEach(O=>{const z=parseInt(a[O],10),W=/%$/.test(a[O]);S[O]=W?C*z/100:z*Math.sqrt(U)}),e.minRadius=lt=S.minSize/Math.sqrt(U),e.maxRadius=pt=S.maxSize/Math.sqrt(U);const L=b?this.calculateZExtremes():[lt,pt];H.forEach((O,z)=>{I=b?r(O[2],L[0],L[1]):O[2],y=this.getRadius(L[0],L[1],lt,pt,I),y===0&&(y=null),H[z][2]=y,Y.push(y)}),this.radii=Y}init(){return D.init.apply(this,arguments),t.call(this),this.eventsToUnbind.push(s(this,"updatedData",function(){this.chart.series.forEach(e=>{e.type===this.type&&(e.isDirty=!0)},this)})),this}onMouseUp(e){const a=e;if(a.fixedPosition&&!a.removed){const b=this.layout,C=this.parentNodeLayout;let S,Y;C&&b.options.dragBetweenSeries&&C.nodes.forEach(H=>{a&&a.marker&&H!==a.series.parentNode&&(S=b.getDistXY(a,H),Y=b.vectorLength(S)-H.marker.radius-a.marker.radius,0>Y&&(H.series.addPoint(P(a.options,{plotX:a.plotX,plotY:a.plotY}),!1),b.removeElementFromCollection(a,b.nodes),a.remove()))}),p.onMouseUp.apply(this,arguments)}}placeBubbles(e){const a=this.checkOverlap,b=this.positionBubble,C=[];let S=1,Y=0,H=0;var U=[];let lt;if(e=e.sort((pt,I)=>I[2]-pt[2]),e.length){if(C.push([[0,0,e[0][2],e[0][3],e[0][4]]]),1<e.length)for(C.push([[0,0-e[1][2]-e[0][2],e[1][2],e[1][3],e[1][4]]]),lt=2;lt<e.length;lt++)e[lt][2]=e[lt][2]||1,U=b(C[S][Y],C[S-1][H],e[lt]),a(U,C[S][0])?(C.push([]),H=0,C[S+1].push(b(C[S][Y],C[S][0],e[lt])),S++,Y=0):1<S&&C[S-1][H+1]&&a(U,C[S-1][H+1])?(H++,C[S].push(b(C[S][Y],C[S-1][H],e[lt])),Y++):(Y++,C[S].push(U));this.chart.stages=C,this.chart.rawPositions=[].concat.apply([],C),this.resizeRadius(),U=this.chart.rawPositions}return U}pointAttribs(e,a){var b=this.options;let C=b.marker;return e&&e.isParentNode&&b.layoutAlgorithm&&b.layoutAlgorithm.parentNodeOptions&&(C=b.layoutAlgorithm.parentNodeOptions.marker),b=C.fillOpacity,e=D.pointAttribs.call(this,e,a),b!==1&&(e["fill-opacity"]=b),e}positionBubble(e,a,b){var C=Math.sqrt,S=Math.asin,Y=Math.acos;const H=Math.pow,U=Math.abs;return C=C(H(e[0]-a[0],2)+H(e[1]-a[1],2)),Y=Y((H(C,2)+H(b[2]+a[2],2)-H(b[2]+e[2],2))/(2*(b[2]+a[2])*C)),S=S(U(e[0]-a[0])/C),e=(0>e[1]-a[1]?0:Math.PI)+Y+S*(0>(e[0]-a[0])*(e[1]-a[1])?1:-1),[a[0]+(a[2]+b[2])*Math.sin(e),a[1]-(a[2]+b[2])*Math.cos(e),b[2],b[3],b[4]]}render(){const e=[];D.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(a=>{v(a.dataLabels)&&a.dataLabels.forEach(b=>{e.push(b)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))}resizeRadius(){const e=this.chart,a=e.rawPositions;var b=Math.min,C=Math.max;const S=e.plotLeft,Y=e.plotTop,H=e.plotHeight,U=e.plotWidth;let lt,pt,I,y,L;lt=I=Number.POSITIVE_INFINITY,pt=y=Number.NEGATIVE_INFINITY;for(const O of a)L=O[2],lt=b(lt,O[0]-L),pt=C(pt,O[0]+L),I=b(I,O[1]-L),y=C(y,O[1]+L);if(C=[pt-lt,y-I],b=b.apply([],[(U-S)/C[0],(H-Y)/C[1]]),1e-10<Math.abs(b-1)){for(const O of a)O[2]*=b;this.placeBubbles(a)}else e.diffY=H/2+Y-I-(y-I)/2,e.diffX=U/2+S-lt-(pt-lt)/2}seriesBox(){const e=this.chart,a=Math.max,b=Math.min,C=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];let S;return this.data.forEach(Y=>{o(Y.plotX)&&o(Y.plotY)&&Y.marker.radius&&(S=Y.marker.radius,C[0]=b(C[0],Y.plotX-S),C[1]=a(C[1],Y.plotX+S),C[2]=b(C[2],Y.plotY-S),C[3]=a(C[3],Y.plotY+S))}),d(C.width/C.height)?C:null}setVisible(){const e=this;D.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(a=>{e.layout.removeElementFromCollection(a,e.layout.nodes)}))}translate(){const e=this.chart,a=this.data,b=this.index,C=this.options.useSimulation;let S;if(this.processedXData=this.xData,this.generatePoints(),o(e.allDataPoints)||(e.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),C)var Y=e.allDataPoints;else Y=this.placeBubbles(e.allDataPoints),this.options.draggable=!1;for(const H of Y)H[3]===b&&(Y=a[H[4]],S=E(H[2],void 0),C||(Y.plotX=H[0]-e.plotLeft+e.diffX,Y.plotY=H[1]-e.plotTop+e.diffY),d(S)&&(Y.marker=f(Y.marker,{radius:S,width:2*S,height:2*S}),Y.radius=S));C&&this.deferLayout(),M(this,"afterTranslate")}}return R.defaultOptions=P(J.defaultOptions,h),f(R.prototype,{pointClass:g,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:i,alignDataLabel:D.alignDataLabel,indexateNodes:n,onMouseDown:p.onMouseDown,onMouseMove:p.onMouseMove,redrawHalo:p.redrawHalo,searchPoint:n}),G.registerSeriesType("packedbubble",R),R}),at(l,"Series/Polygon/PolygonSeries.js",[l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"]],function(n,p,c){({noop:n}=n);const{series:u,seriesTypes:{area:g,line:h,scatter:T}}=p,{extend:G,merge:w}=c;class m extends T{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let N=h.prototype.getGraphPath.call(this),D=N.length+1;for(;D--;)(D===N.length||N[D][0]==="M")&&0<D&&N.splice(D,0,["Z"]);return this.areaPath=N}drawGraph(){this.options.fillColor=this.color,g.prototype.drawGraph.call(this)}}return m.defaultOptions=w(T.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),G(m.prototype,{type:"polygon",drawTracker:u.prototype.drawTracker,setStackedPoints:n}),p.registerSeriesType("polygon",m),m}),at(l,"Core/Axis/WaterfallAxis.js",[l["Core/Axis/Stacking/StackItem.js"],l["Core/Utilities.js"]],function(n,p){const{addEvent:c,objectEach:u}=p;var g;return function(h){function T(){const N=this.waterfall.stacks;N&&(N.changed=!1,delete N.alreadyChanged)}function G(){const N=this.options.stackLabels;N&&N.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function w(){let N=this.axes,D=this.series,J=D.length;for(;J--;)D[J].options.stacking&&(N.forEach(function(i){i.isXAxis||(i.waterfall.stacks.changed=!0)}),J=0)}function m(){this.waterfall||(this.waterfall=new X(this))}class X{constructor(D){this.axis=D,this.stacks={changed:!1}}renderStackTotals(){const D=this.axis,J=D.waterfall.stacks,i=D.stacking&&D.stacking.stackTotalGroup,t=new n(D,D.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=t,i&&u(J,function(s){u(s,function(r,o){t.total=r.stackTotal,t.x=+o,r.label&&(t.label=r.label),n.prototype.render.call(t,i),r.label=t.label,delete t.label})}),t.total=null}}h.Composition=X,h.compose=function(N,D){c(N,"init",m),c(N,"afterBuildStacks",T),c(N,"afterRender",G),c(D,"beforeRedraw",w)}}(g||(g={})),g}),at(l,"Series/Waterfall/WaterfallPoint.js",[l["Series/Column/ColumnSeries.js"],l["Core/Series/Point.js"],l["Core/Utilities.js"]],function(n,p,c){const{isNumber:u}=c;class g extends n.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let T=p.prototype.getClassName.call(this);return this.isSum?T+=" highcharts-sum":this.isIntermediateSum&&(T+=" highcharts-intermediate-sum"),T}isValid(){return u(this.y)||this.isSum||!!this.isIntermediateSum}}return g}),at(l,"Series/Waterfall/WaterfallSeries.js",[l["Core/Axis/Axis.js"],l["Core/Chart/Chart.js"],l["Core/Series/SeriesRegistry.js"],l["Core/Utilities.js"],l["Core/Axis/WaterfallAxis.js"],l["Series/Waterfall/WaterfallPoint.js"]],function(n,p,c,u,g,h){const{seriesTypes:{column:T,line:G}}=c,{addEvent:w,arrayMax:m,arrayMin:X,correctFloat:N,extend:D,isNumber:J,merge:i,objectEach:t,pick:s}=u;class r extends T{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){T.prototype.generatePoints.apply(this);for(let f=0,M=this.points.length;f<M;f++){const v=this.points[f],d=this.processedYData[f];J(d)&&(v.isIntermediateSum||v.isSum)&&(v.y=N(d))}}processData(f){let M=this.options,v=this.yData,d=M.data,P,E=v.length,R=M.threshold||0,F,e,a,b,C,S;for(S=e=F=a=b=0;S<E;S++)C=v[S],P=d&&d[S]?d[S]:{},C==="sum"||P.isSum?v[S]=N(e):C==="intermediateSum"||P.isIntermediateSum?(v[S]=N(F),F=0):(e+=C,F+=C),a=Math.min(e,a),b=Math.max(e,b);super.processData.call(this,f),M.stacking||(this.dataMin=a+R,this.dataMax=b)}toYData(f){return f.isSum?"sum":f.isIntermediateSum?"intermediateSum":f.y}updateParallelArrays(f,M){super.updateParallelArrays.call(this,f,M),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(f,M){const v=this.options.upColor;return v&&!f.options.color&&J(f.y)&&(f.color=0<f.y?v:void 0),f=T.prototype.pointAttribs.call(this,f,M),delete f.dashstyle,f}getGraphPath(){return[["M",0,0]]}getCrispPath(){let f=this.data.filter(S=>J(S.y)),M=this.yAxis,v=f.length,d=Math.round(this.graph.strokeWidth())%2/2,P=Math.round(this.borderWidth)%2/2,E=this.xAxis.reversed,R=this.yAxis.reversed,F=this.options.stacking,e=[];for(let S=1;S<v;S++){if(!this.options.connectNulls&&!J(this.data[f[S].index-1].y))continue;var a=f[S].box,b=f[S-1];const Y=b.y||0,H=f[S-1].box;if(!a||!H)continue;var C=M.waterfall.stacks[this.stackKey];const U=0<Y?-H.height:0;C&&H&&a&&(C=C[S-1],b=F?Math.round(M.translate(C.connectorThreshold,!1,!0,!1,!0)+(R?U:0))-d:H.y+b.minPointLengthOffset+P-d,e.push(["M",(H.x||0)+(E?0:H.width||0),b],["L",(a.x||0)+(E&&a.width||0),b])),H&&e.length&&(!F&&0>Y&&!R||0<Y&&R)&&((a=e[e.length-2])&&typeof a[2]=="number"&&(a[2]+=H.height||0),(a=e[e.length-1])&&typeof a[2]=="number"&&(a[2]+=H.height||0))}return e}drawGraph(){G.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function f(L,O,z,W){if(a){if(Y)for(z;z<Y;z++)a.stackState[z]+=W;else a.stackState[0]=L,Y=a.stackState.length;a.stackState.push(a.stackState[Y-1]+O)}}let M=this.options,v=this.yAxis.waterfall.stacks,d=M.threshold||0,P=d,E=P,R=this.stackKey,F=this.xData,e=F.length,a,b,C,S,Y,H,U,lt;var pt;let I;if(this.yAxis.stacking.usePercentage=!1,b=C=S=P,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(I=v.changed,(pt=v.alreadyChanged)&&0>pt.indexOf(R)&&(I=!0),v[R]||(v[R]={}),pt=v[R])for(let L=0;L<e;L++){var y=F[L];(!pt[y]||I)&&(pt[y]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:I&&pt[y]?pt[y].label:void 0}),a=pt[y],lt=this.yData[L],0<=lt?a.posTotal+=lt:a.negTotal+=lt,U=M.data[L],y=a.absolutePos=a.posTotal,H=a.absoluteNeg=a.negTotal,a.stackTotal=y+H,Y=a.stackState.length,U&&U.isIntermediateSum?(f(S,C,0,S),S=C,C=d,P^=E,E^=P,P^=E):U&&U.isSum?(f(d,b,Y,0),P=d):(f(P,lt,0,b),U&&(b+=lt,C+=lt)),a.stateIndex++,a.threshold=P,P+=a.stackTotal}v.changed=!1,v.alreadyChanged||(v.alreadyChanged=[]),v.alreadyChanged.push(R)}}getExtremes(){let f=this.options.stacking,M,v;if(f){var d=this.yAxis;return d=d.waterfall.stacks,M=this.stackedYNeg=[],v=this.stackedYPos=[],f==="overlap"?t(d[this.stackKey],function(P){M.push(X(P.stackState)),v.push(m(P.stackState))}):t(d[this.stackKey],function(P){M.push(P.negTotal+P.threshold),v.push(P.posTotal+P.threshold)}),{dataMin:X(M),dataMax:m(v)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return r.defaultOptions=i(T.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),w(r,"afterColumnTranslate",function(){const{options:o,points:f,yAxis:M}=this,v=s(o.minPointLength,5),d=v/2,P=o.threshold||0,E=o.stacking,R=M.waterfall.stacks[this.stackKey];let F=P,e=P;for(let Y=0;Y<f.length;Y++){const H=f[Y];var a=this.processedYData[Y];const U=D({x:0,y:0,width:0,height:0},H.shapeArgs||{});H.box=U;var b=[0,a],C=H.y||0;if(E){if(R){if(b=R[Y],E==="overlap"){var S=b.stackState[b.stateIndex--];S=0<=C?S:S-C,Object.hasOwnProperty.call(b,"absolutePos")&&delete b.absolutePos,Object.hasOwnProperty.call(b,"absoluteNeg")&&delete b.absoluteNeg}else 0<=C?(S=b.threshold+b.posTotal,b.posTotal-=C):(S=b.threshold+b.negTotal,b.negTotal-=C,S-=C),!b.posTotal&&J(b.absolutePos)&&Object.hasOwnProperty.call(b,"absolutePos")&&(b.posTotal=b.absolutePos,delete b.absolutePos),!b.negTotal&&J(b.absoluteNeg)&&Object.hasOwnProperty.call(b,"absoluteNeg")&&(b.negTotal=b.absoluteNeg,delete b.absoluteNeg);H.isSum||(b.connectorThreshold=b.threshold+b.stackTotal),M.reversed?a=0<=C?S-C:S+C:(a=S,S-=C),H.below=a<=P,U.y=M.translate(a,!1,!0,!1,!0),U.height=Math.abs(U.y-M.translate(S,!1,!0,!1,!0)),(S=M.waterfall.dummyStackItem)&&(S.x=Y,S.label=R[Y].label,S.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[Y],this.stackedYPos[Y],void 0,this.xAxis))}}else S=Math.max(e,e+C)+b[0],U.y=M.translate(S,!1,!0,!1,!0),H.isSum?(U.y=M.translate(b[1],!1,!0,!1,!0),U.height=Math.min(M.translate(b[0],!1,!0,!1,!0),M.len)-U.y,H.below=b[1]<=P):H.isIntermediateSum?(0<=C?(a=b[1]+F,S=F):(a=F,S=b[1]+F),M.reversed&&(a^=S,S^=a,a^=S),U.y=M.translate(a,!1,!0,!1,!0),U.height=Math.abs(U.y-Math.min(M.translate(S,!1,!0,!1,!0),M.len)),F+=b[1],H.below=a<=P):(U.height=0<a?M.translate(e,!1,!0,!1,!0)-U.y:M.translate(e,!1,!0,!1,!0)-M.translate(e-a,!1,!0,!1,!0),e+=a,H.below=e<P),0>U.height&&(U.y+=U.height,U.height*=-1);H.plotY=U.y=Math.round(U.y||0)-this.borderWidth%2/2,U.height=Math.max(Math.round(U.height||0),.001),H.yBottom=U.y+U.height,U.height<=v&&!H.isNull?(U.height=v,U.y-=d,H.plotY=U.y,H.minPointLengthOffset=0>C?-d:d):(H.isNull&&(U.width=0),H.minPointLengthOffset=0),C=H.plotY+(H.negative?U.height:0),H.below&&(H.plotY+=U.height),H.tooltipPos&&(this.chart.inverted?H.tooltipPos[0]=M.len-C:H.tooltipPos[1]=C),H.isInside=this.isPointInside(H),i(!0,H.shapeArgs,U)}},{order:2}),D(r.prototype,{getZonesGraphs:G.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:h}),c.registerSeriesType("waterfall",r),g.compose(n,p),r}),at(l,"Core/Axis/RadialAxis.js",[l["Core/Axis/AxisDefaults.js"],l["Core/Defaults.js"],l["Core/Globals.js"],l["Core/Utilities.js"]],function(n,p,c,u){const{defaultOptions:g}=p,{noop:h}=c,{addEvent:T,correctFloat:G,defined:w,extend:m,fireEvent:X,merge:N,pick:D,relativeLength:J,wrap:i}=u;var t;return function(s){function r(){this.autoConnect=this.isCircular&&typeof D(this.userMax,this.options.max)>"u"&&G(this.endAngleRad-this.startAngleRad)===G(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function o(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(x=>this.ticks[x]&&this.ticks[x].label).filter(x=>!!x)}}function f(){return h}function M(x,j,B){const $=this.pane.center;let Z=x.value,V;if(this.isCircular){if(w(Z))x.point&&(it=x.point.shapeArgs||{},it.start&&(Z=this.chart.inverted?this.translate(x.point.rectPlotY,!0):x.point.x));else{var it=x.chartX||0;V=x.chartY||0,Z=this.translate(Math.atan2(V-B,it-j)-this.startAngleRad,!0)}x=this.getPosition(Z),it=x.x,V=x.y}else w(Z)||(it=x.chartX,V=x.chartY),w(it)&&w(V)&&(B=$[1]+this.chart.plotTop,Z=this.translate(Math.min(Math.sqrt(Math.pow(it-j,2)+Math.pow(V-B,2)),$[2]/2)-$[3]/2,!0));return[Z,it||0,V||0]}function v(x,j,B){x=this.pane.center;const $=this.chart,Z=this.left||0,V=this.top||0;let it=D(j,x[2]/2-this.offset);return typeof B>"u"&&(B=this.horiz?0:this.center&&-this.center[3]/2),B&&(it+=B),this.isCircular||typeof j<"u"?(j=this.chart.renderer.symbols.arc(Z+x[0],V+x[1],it,it,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),j.xBounds=[Z+x[0]],j.yBounds=[V+x[1]-it]):(j=this.postTranslate(this.angleRad,it),j=[["M",this.center[0]+$.plotLeft,this.center[1]+$.plotTop],["L",j.x,j.y]]),j}function d(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function P(x,j,B){const $=this.chart;var Z=rt=>{if(typeof rt=="string"){let ct=parseInt(rt,10);return _.test(rt)&&(ct=ct*Q/100),ct}return rt};const V=this.center;var it=this.startAngleRad;const Q=V[2]/2;var k=Math.min(this.offset,0),A=this.left||0;const K=this.top||0,_=/%$/;var tt=this.isCircular;let ot,nt=D(Z(B.outerRadius),Q),et=Z(B.innerRadius);return Z=D(Z(B.thickness),10),this.options.gridLineInterpolation==="polygon"?k=this.getPlotLinePath({value:x}).concat(this.getPlotLinePath({value:j,reverse:!0})):(x=Math.max(x,this.min),j=Math.min(j,this.max),x=this.translate(x),j=this.translate(j),tt||(nt=x||0,et=j||0),B.shape!=="circle"&&tt?(B=it+(x||0),it+=j||0):(B=-Math.PI/2,it=1.5*Math.PI,ot=!0),nt-=k,k=$.renderer.symbols.arc(A+V[0],K+V[1],nt,nt,{start:Math.min(B,it),end:Math.max(B,it),innerR:D(et,nt-(Z-k)),open:ot}),tt&&(tt=(it+B)/2,A=A+V[0]+V[2]/2*Math.cos(tt),k.xBounds=tt>-Math.PI/2&&tt<Math.PI/2?[A,$.plotWidth]:[0,A],k.yBounds=[K+V[1]+V[2]/2*Math.sin(tt)],k.yBounds[0]+=tt>-Math.PI&&0>tt||tt>Math.PI?-10:10)),k}function E(x){var j=this.pane.center,B=this.chart;const $=B.inverted;var Z=x.reverse,V=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const it=V.innerRadius||"0%",Q=V.outerRadius||"100%";var k=j[0]+B.plotLeft,A=j[1]+B.plotTop;const K=this.height,_=x.isCrosshair;V=j[3]/2;var tt=x.value;let ot;var nt=this.getPosition(tt);let et=nt.x;if(nt=nt.y,_&&(nt=this.getCrosshairPosition(x,k,A),tt=nt[0],et=nt[1],nt=nt[2]),this.isCircular)tt=Math.sqrt(Math.pow(et-k,2)+Math.pow(nt-A,2)),Z=typeof it=="string"?J(it,1):it/tt,B=typeof Q=="string"?J(Q,1):Q/tt,j&&V&&(V/=tt,Z<V&&(Z=V),B<V&&(B=V)),j=[["M",k+Z*(et-k),A-Z*(A-nt)],["L",et-(1-B)*(et-k),nt+(1-B)*(A-nt)]];else if((tt=this.translate(tt))&&(0>tt||tt>K)&&(tt=0),this.options.gridLineInterpolation==="circle")j=this.getLinePath(0,tt,V);else if(j=[],B[$?"yAxis":"xAxis"].forEach(rt=>{rt.pane===this.pane&&(ot=rt)}),ot)for(k=ot.tickPositions,ot.autoConnect&&(k=k.concat([k[0]])),Z&&(k=k.slice().reverse()),tt&&(tt+=V),A=0;A<k.length;A++)V=ot.getPosition(k[A],tt),j.push(A?["L",V.x,V.y]:["M",V.x,V.y]);return j}function R(x,j){return x=this.translate(x),this.postTranslate(this.isCircular?x:this.angleRad,D(this.isCircular?j:0>x?0:x,this.center[2]/2)-this.offset)}function F(){const x=this.center,j=this.chart,B=this.options.title;return{x:j.plotLeft+x[0]+(B.x||0),y:j.plotTop+x[1]-{high:.5,middle:.25,low:0}[B.align]*x[2]+(B.y||0)}}function e(x){x.beforeSetTickPositions=r,x.createLabelCollector=o,x.getCrosshairPosition=M,x.getLinePath=v,x.getOffset=d,x.getPlotBandPath=P,x.getPlotLinePath=E,x.getPosition=R,x.getTitlePosition=F,x.postTranslate=lt,x.setAxisSize=I,x.setAxisTranslation=y,x.setOptions=L}function a(){var x=this.chart,j=this.options,B=this.pane,$=B&&B.options;x.angular&&this.isXAxis||!B||!x.angular&&!x.polar||(x=2*Math.PI,B=(D($.startAngle,0)-90)*Math.PI/180,$=(D($.endAngle,D($.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(j.angle||0)*Math.PI/180,this.startAngleRad=B,this.endAngleRad=$,this.offset=j.offset||0,j=(B%x+x)%x,$=($%x+x)%x,j>Math.PI&&(j-=x),$>Math.PI&&($-=x),this.normalizedStartAngleRad=j,this.normalizedEndAngleRad=$)}function b(x){this.isRadial&&(x.align=void 0,x.preventDefault())}function C(){if(this.chart&&this.chart.labelCollectors){const x=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=x&&this.chart.labelCollectors.splice(x,1)}}function S(x){const j=this.chart,B=j.inverted,$=j.angular,Z=j.polar,V=this.isXAxis,it=this.coll,Q=$&&V;x=x.userOptions.pane||0,x=this.pane=j.pane&&j.pane[x];let k;it==="colorAxis"?this.isRadial=!1:($?(Q?(this.isHidden=!0,this.createLabelCollector=f,this.getOffset=h,this.render=this.redraw=pt,this.setTitle=this.setCategories=this.setScale=h):e(this),(k=!V)&&(this.defaultPolarOptions=q)):Z&&(e(this),this.defaultPolarOptions=(k=this.horiz)?W:N(it==="xAxis"?n.defaultXAxisOptions:n.defaultYAxisOptions,st),B&&it==="yAxis"&&(this.defaultPolarOptions.stackLabels=n.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),$||Z?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&j.labelCollectors.push(this.labelCollector)):this.isRadial=!1,x&&k&&(x.axis=this),this.isCircular=k)}function Y(){this.isRadial&&this.beforeSetTickPositions()}function H(x){const j=this.label;if(j){var B=this.axis,$=j.getBBox(),Z=B.options.labels,V=(B.translate(this.pos)+B.startAngleRad+Math.PI/2)/Math.PI*180%360,it=Math.round(V),Q=w(Z.y)?0:.3*-$.height,k=Z.y,A=20,K=Z.align,_="end",tt=0>it?it+360:it,ot=tt,nt=0,et=0;if(B.isRadial){var rt=B.getPosition(this.pos,B.center[2]/2+J(D(Z.distance,-25),B.center[2]/2,-B.center[2]/2));Z.rotation==="auto"?j.attr({rotation:V}):w(k)||(k=B.chart.renderer.fontMetrics(j).b-$.height/2),w(K)||(B.isCircular?($.width>B.len*B.tickInterval/(B.max-B.min)&&(A=0),K=V>A&&V<180-A?"left":V>180+A&&V<360-A?"right":"center"):K="center",j.attr({align:K})),K==="auto"&&B.tickPositions.length===2&&B.isCircular&&(90<tt&&180>tt?tt=180-tt:270<tt&&360>=tt&&(tt=540-tt),180<ot&&360>=ot&&(ot=360-ot),(B.pane.options.startAngle===it||B.pane.options.startAngle===it+360||B.pane.options.startAngle===it-360)&&(_="start"),K=-90<=it&&90>=it||-360<=it&&-270>=it||270<=it&&360>=it?_==="start"?"right":"left":_==="start"?"left":"right",70<ot&&110>ot&&(K="center"),15>tt||180<=tt&&195>tt?nt=.3*$.height:15<=tt&&35>=tt?nt=_==="start"?0:.75*$.height:195<=tt&&215>=tt?nt=_==="start"?.75*$.height:0:35<tt&&90>=tt?nt=_==="start"?.25*-$.height:$.height:215<tt&&270>=tt&&(nt=_==="start"?$.height:.25*-$.height),15>ot?et=_==="start"?.15*-$.height:.15*$.height:165<ot&&180>=ot&&(et=_==="start"?.15*$.height:.15*-$.height),j.attr({align:K}),j.translate(et,nt+Q)),x.pos.x=rt.x+(Z.x||0),x.pos.y=rt.y+(k||0)}}}function U(x){this.axis.getPosition&&m(x.pos,this.axis.getPosition(this.pos))}function lt(x,j){const B=this.chart,$=this.center;return x=this.startAngleRad+x,{x:B.plotLeft+$[0]+Math.cos(x)*j,y:B.plotTop+$[1]+Math.sin(x)*j}}function pt(){this.isDirty=!1}function I(){let x,j;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),x=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(j=this.postTranslate(this.angleRad,x[3]/2),x[0]=j.x-this.chart.plotLeft,x[1]=j.y-this.chart.plotTop),this.len=this.width=this.height=(x[2]-x[3])*D(this.sector,1)/2)}function y(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function L(x){x=this.options=N(this.constructor.defaultOptions,this.defaultPolarOptions,g[this.coll],x),x.plotBands||(x.plotBands=[]),X(this,"afterSetOptions")}function O(x,j,B,$,Z,V,it){const Q=this.axis;return Q.isRadial?(x=Q.getPosition(this.pos,Q.center[2]/2+$),j=["M",j,B,"L",x.x,x.y]):j=x.call(this,j,B,$,Z,V,it),j}const z=[],W={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},q={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},st={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};s.compose=function(x,j){return u.pushUnique(z,x)&&(T(x,"afterInit",a),T(x,"autoLabelAlign",b),T(x,"destroy",C),T(x,"init",S),T(x,"initialAxisTranslation",Y)),u.pushUnique(z,j)&&(T(j,"afterGetLabelPosition",H),T(j,"afterGetPosition",U),i(j.prototype,"getMarkPath",O)),x}}(t||(t={})),t}),at(l,"Series/PolarComposition.js",[l["Core/Animation/AnimationUtilities.js"],l["Core/Globals.js"],l["Core/Series/Series.js"],l["Extensions/Pane.js"],l["Core/Axis/RadialAxis.js"],l["Core/Utilities.js"]],function(n,p,c,u,g,h){function T(I,y,L,O){var z=O?1:0,W=0<=y&&y<=I.length-1?y:0>y?I.length-1+y:0;y=0>W-1?I.length-(1+z):W-1;var q=I[y];z=I[W+1>I.length-1?z:W+1];var st=q.plotY,x=z.plotX,j=z.plotY;z=I[W].plotX,W=I[W].plotY,q=(1.5*z+q.plotX)/2.5,st=(1.5*W+st)/2.5,x=(1.5*z+x)/2.5;var B=(1.5*W+j)/2.5;j=Math.sqrt(Math.pow(q-z,2)+Math.pow(st-W,2));const $=Math.sqrt(Math.pow(x-z,2)+Math.pow(B-W,2));return q=Math.atan2(st-W,q-z),B=Math.PI/2+(q+Math.atan2(B-W,x-z))/2,Math.abs(q-B)>Math.PI/2&&(B-=Math.PI),q=z+Math.cos(B)*j,st=W+Math.sin(B)*j,x=z+Math.cos(Math.PI+B)*$,B=W+Math.sin(Math.PI+B)*$,z={rightContX:x,rightContY:B,leftContX:q,leftContY:st,plotX:z,plotY:W},L&&(z.prevPointCont=T(I,y,!1,O)),z}function G(){(this.pane||[]).forEach(I=>{I.render()})}function w(I){const y=I.args[0].xAxis,L=I.args[0].yAxis;I=I.args[0].chart,y&&L&&(L.gridLineInterpolation==="polygon"?(y.startOnTick=!0,y.endOnTick=!0):y.gridLineInterpolation==="polygon"&&I.inverted&&(L.startOnTick=!0,L.endOnTick=!0))}function m(){this.pane||(this.pane=[]),this.options.pane=Y(this.options.pane),this.options.pane.forEach(I=>{new u(I,this)},this)}function X(I){var y=I.args.marker,L=this.chart.xAxis[0],O=this.chart.yAxis[0],z=this.chart.inverted;const W=z?O:L;if(L=z?L:O,this.chart.polar){I.preventDefault(),O=(y.attr?y.attr("start"):y.start)-W.startAngleRad,z=y.attr?y.attr("r"):y.r;let q=(y.attr?y.attr("end"):y.end)-W.startAngleRad;y=y.attr?y.attr("innerR"):y.innerR,I.result.x=O+W.pos,I.result.width=q-O,I.result.y=L.len+L.pos-y,I.result.height=y-z}}function N(I){var y=this.chart;if(y.polar&&y.hoverPane&&y.hoverPane.axis){I.preventDefault();var L=y.hoverPane.center,O=this.mouseDownX||0;const V=this.mouseDownY||0;var z=I.args.chartY;const it=I.args.chartX;var W=2*Math.PI,q=y.hoverPane.axis.startAngleRad,st=y.hoverPane.axis.endAngleRad,x=y.inverted?y.xAxis[0]:y.yAxis[0];const Q={};var j="arc";if(Q.x=L[0]+y.plotLeft,Q.y=L[1]+y.plotTop,this.zoomHor){var B=0<q?st-q:Math.abs(q)+Math.abs(st),$=Math.atan2(V-y.plotTop-L[1],O-y.plotLeft-L[0])-q,Z=Math.atan2(z-y.plotTop-L[1],it-y.plotLeft-L[0])-q;if(Q.r=L[2]/2,Q.innerR=L[3]/2,0>=$&&($+=W),0>=Z&&(Z+=W),Z<$&&(Z=[$,$=Z][0]),B<W&&q+Z>st+(W-B)/2&&(Z=$,$=0>=q?q:0),W=Q.start=Math.max($+q,q),B=Q.end=Math.min(Z+q,st),x.options.gridLineInterpolation==="polygon"){if(j=y.hoverPane.axis,Z=W-j.startAngleRad+j.pos,$=B-W,W=x.getPlotLinePath({value:x.max}),B=j.toValue(Z),Z=j.toValue(Z+$),B<j.getExtremes().min){const{min:k,max:A}=j.getExtremes();B=A-(k-B)}if(Z<j.getExtremes().min){const{min:k,max:A}=j.getExtremes();Z=A-(k-Z)}Z<B&&(Z=[B,B=Z][0]),W=t(W,B,Z,j),W.push(["L",L[0]+y.plotLeft,y.plotTop+L[1]]),Q.d=W,j="path"}}this.zoomVert&&(Z=y.inverted?y.xAxis[0]:y.yAxis[0],O=Math.sqrt(Math.pow(O-y.plotLeft-L[0],2)+Math.pow(V-y.plotTop-L[1],2)),z=Math.sqrt(Math.pow(it-y.plotLeft-L[0],2)+Math.pow(z-y.plotTop-L[1],2)),z<O&&(O=[z,z=O][0]),z>L[2]/2&&(z=L[2]/2),O<L[3]/2&&(O=L[3]/2),this.zoomHor||(Q.start=q,Q.end=st),Q.r=z,Q.innerR=O,Z.options.gridLineInterpolation==="polygon"&&(L=Z.toValue(Z.len+Z.pos-O),q=Z.toValue(Z.len+Z.pos-z),L=Z.getPlotLinePath({value:q}).concat(Z.getPlotLinePath({value:L,reverse:!0})),Q.d=L,j="path")),this.zoomHor&&this.zoomVert&&x.options.gridLineInterpolation==="polygon"&&(L=y.hoverPane.axis,x=Q.start||0,q=x-L.startAngleRad+L.pos,st=(Q.end||0)-x,x=L.toValue(q),L=L.toValue(q+st),Q.d instanceof Array&&(q=Q.d.slice(0,Q.d.length/2),st=Q.d.slice(Q.d.length/2,Q.d.length),st=[...st].reverse(),y=y.hoverPane.axis,q=t(q,x,L,y),(st=t(st,x,L,y))&&(st[0][0]="L"),st=[...st].reverse(),Q.d=q.concat(st),j="path")),I.attrs=Q,I.shapeType=j}}function D(){const I=this.chart;I.polar&&(this.polar=new pt(this),I.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function J(){if(this.chart.polar&&this.xAxis){const{xAxis:I,yAxis:y}=this,L=this.chart;(this.kdByAngle=L.tooltip&&L.tooltip.shared)?this.searchPoint=i:this.options.findNearestPointBy="xy";const O=this.points;let z=O.length;for(;z--;)this.is("column")||this.is("columnrange")||this.polar.toXY(O[z]),L.hasParallelCoordinates||this.yAxis.reversed||(C(O[z].y,Number.MIN_VALUE)<y.min||O[z].x<I.min||O[z].x>I.max?(O[z].isNull=!0,O[z].plotY=NaN):O[z].isNull=O[z].isValid&&!O[z].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(R(this,"afterRender",function(){if(L.polar){var W=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:W[0],y:W[1],r:W[2]/2,innerR:W[3]/2});else{{var q=L.renderer,st=W[0],x=W[1],j=W[2]/2,B=W[3]/2;W=H();const $=q.createElement("clipPath").attr({id:W}).add(q.defs);q=B?q.arc(st,x,j,B,0,2*Math.PI).add($):q.circle(st,x,j).add($),q.id=W,q.clipPath=$}this.clipCircle=q}this.group.clip(this.clipCircle),this.setClip=p.noop}})))}}function i(I){const y=this.chart;var L=this.xAxis;return L=L.pane&&L.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(I.chartX-(L&&L[0]||0)-y.plotLeft,I.chartY-(L&&L[1]||0)-y.plotTop)})}function t(I,y,L,O){const z=O.tickInterval;O=O.tickPositions;let W=e(O,st=>st>=L),q=e([...O].reverse(),st=>st<=y);return F(W)||(W=O[O.length-1]),F(q)||(q=O[0],W+=z,I[0][0]="L",I.unshift(I[I.length-3])),I=I.slice(O.indexOf(q),O.indexOf(W)+1),I[0][0]="M",I}function s(I,y){return e(this.pane||[],function(L){return L.options.id===y})||I.call(this,y)}function r(I,y,L,O,z,W){const q=this.chart;var st=C(O.inside,!!this.options.stacking);q.polar?(I=y.rectPlotX/Math.PI*180,q.inverted?(this.forceDL=q.isInsidePlot(y.plotX,y.plotY),st&&y.shapeArgs?(st=y.shapeArgs,st=this.yAxis.postTranslate(((st.start||0)+(st.end||0))/2-this.xAxis.startAngleRad,y.barX+y.pointWidth/2),z=b(z,{x:st.x-q.plotLeft,y:st.y-q.plotTop})):y.tooltipPos&&(z=b(z,{x:y.tooltipPos[0],y:y.tooltipPos[1]})),O.align=C(O.align,"center"),O.verticalAlign=C(O.verticalAlign,"middle")):(O.align===null&&(O.align=20<I&&160>I?"left":200<I&&340>I?"right":"center"),O.verticalAlign===null&&(O.verticalAlign=45>I||315<I?"bottom":135<I&&225>I?"top":"middle")),c.prototype.alignDataLabel.call(this,y,L,O,z,W),this.isRadialBar&&y.shapeArgs&&y.shapeArgs.start===y.shapeArgs.end?L.hide():L.show()):I.call(this,y,L,O,z,W)}function o(){const I=this.options,y=I.stacking,L=this.chart;var O=this.xAxis;const z=this.yAxis,W=z.reversed,q=z.center,st=O.startAngleRad,x=O.endAngleRad-st;let j=0,B,$,Z,V=0;var it=0;if(O.isRadial){O=this.points,B=O.length,$=z.translate(z.min),Z=z.translate(z.max);var Q=I.threshold||0;for(L.inverted&&a(Q)&&(j=z.translate(Q),F(j)&&(0>j?j=0:j>x&&(j=x),this.translatedThreshold=j+st));B--;){Q=O[B];var k=Q.barX,A=Q.x,K=Q.y;if(Q.shapeType="arc",L.inverted){Q.plotY=z.translate(K),y&&z.stacking?(K=z.stacking.stacks[(0>K?"-":"")+this.stackKey],this.visible&&K&&K[A]&&!Q.isNull&&(it=K[A].points[this.getStackIndicator(void 0,A,this.index).key],V=z.translate(it[0]),it=z.translate(it[1]),F(V)&&(V=h.clamp(V,0,x)))):(V=j,it=Q.plotY),V>it&&(it=[V,V=it][0]),W?it>$?it=$:V<Z?V=Z:(V>$||it<Z)&&(V=it=x):V<$?V=$:it>Z?it=Z:(it<$||V>Z)&&(V=it=0),z.min>z.max&&(V=it=W?x:0),V+=st,it+=st,q&&(Q.barX=k+=q[3]/2),A=Math.max(k,0),K=Math.max(k+Q.pointWidth,0);var _=I.borderRadius;_=S((typeof _=="object"?_.radius:_)||0,K-A),Q.shapeArgs={x:q[0],y:q[1],r:K,innerR:A,start:V,end:it,borderRadius:_},Q.opacity=V===it?0:void 0,Q.plotY=(F(this.translatedThreshold)&&(V<this.translatedThreshold?V:it))-st}else V=k+st,Q.shapeArgs=this.polar.arc(Q.yBottom,Q.plotY,V,V+Q.pointWidth),Q.shapeArgs.borderRadius=0;this.polar.toXY(Q),L.inverted?(k=z.postTranslate(Q.rectPlotY,k+Q.pointWidth/2),Q.tooltipPos=[k.x-L.plotLeft,k.y-L.plotTop]):Q.tooltipPos=[Q.plotX,Q.plotY],q&&(Q.ttBelow=Q.plotY>q[1])}}}function f(I,y){const L=this;let O;if(this.chart.polar){y=y||this.points;for(let W=0;W<y.length;W++)if(!y[W].isNull){var z=W;break}this.options.connectEnds!==!1&&typeof z<"u"&&(this.connectEnds=!0,y.splice(y.length,0,y[z]),O=!0),y.forEach(W=>{typeof W.polarPlotY>"u"&&L.polar.toXY(W)})}return z=I.apply(this,[].slice.call(arguments,1)),O&&y.pop(),z}function M(I,y){const L=this.chart;let O={xAxis:[],yAxis:[]};return L.polar?L.axes.forEach(z=>{if(z.coll!=="colorAxis"){var W=z.isXAxis,q=z.center,st=y.chartX-q[0]-L.plotLeft;q=y.chartY-q[1]-L.plotTop,O[W?"xAxis":"yAxis"].push({axis:z,value:z.translate(W?Math.PI-Math.atan2(st,q):Math.sqrt(Math.pow(st,2)+Math.pow(q,2)),!0)})}}):O=I.call(this,y),O}function v(I,y){this.chart.polar||I.call(this,y)}function d(I,y){const L=this,O=this.chart,z=this.group,W=this.markerGroup,q=this.xAxis&&this.xAxis.center,st=O.plotLeft,x=O.plotTop;let j=this.options.animation,B,$,Z,V,it;O.polar?L.isRadialBar?y||(L.startAngleRad=C(L.translatedThreshold,L.xAxis.startAngleRad),p.seriesTypes.pie.prototype.animate.call(L,y)):(j=E(j),L.is("column")?y||(B=q[3]/2,L.points.forEach(Q=>{$=Q.graphic,V=(Z=Q.shapeArgs)&&Z.r,it=Z&&Z.innerR,$&&Z&&($.attr({r:B,innerR:B}),$.animate({r:V,innerR:it},L.options.animation))})):y?(I={translateX:q[0]+st,translateY:q[1]+x,scaleX:.001,scaleY:.001},z.attr(I),W&&W.attr(I)):(I={translateX:st,translateY:x,scaleX:1,scaleY:1},z.animate(I,j),W&&W.animate(I,j))):I.call(this,y)}function P(I,y,L,O){return this.chart.polar?O?(I=T(y,O,!0,this.connectEnds),y=I.prevPointCont&&I.prevPointCont.rightContX,L=I.prevPointCont&&I.prevPointCont.rightContY,I=["C",a(y)?y:I.plotX,a(L)?L:I.plotY,a(I.leftContX)?I.leftContX:I.plotX,a(I.leftContY)?I.leftContY:I.plotY,I.plotX,I.plotY]):I=["M",L.plotX,L.plotY]:I=I.call(this,y,L,O),I}const{animObject:E}=n,{addEvent:R,defined:F,find:e,isNumber:a,merge:b,pick:C,relativeLength:S,splat:Y,uniqueKey:H,wrap:U}=h,lt=[];class pt{static compose(y,L,O,z,W,q,st,x,j){g.compose(y,W),h.pushUnique(lt,L)&&(R(L,"afterDrawChartBox",G),R(L,"getAxes",m),R(L,"init",w),U(L.prototype,"get",s)),h.pushUnique(lt,O)&&(y=O.prototype,U(y,"getCoordinates",M),U(y,"pinch",v),R(O,"getSelectionMarkerAttrs",N),R(O,"getSelectionBox",X)),h.pushUnique(lt,z)&&(R(z,"afterInit",D),R(z,"afterTranslate",J,{order:2}),R(z,"afterColumnTranslate",o,{order:4}),U(z.prototype,"animate",d)),st&&h.pushUnique(lt,st)&&(O=st.prototype,U(O,"alignDataLabel",r),U(O,"animate",d)),x&&h.pushUnique(lt,x)&&U(x.prototype,"getGraphPath",f),j&&h.pushUnique(lt,j)&&(x=j.prototype,U(x,"getPointSpline",P),q&&h.pushUnique(lt,q)&&(q.prototype.getPointSpline=x.getPointSpline))}constructor(y){this.series=y}arc(y,L,O,z){const W=this.series,q=W.xAxis.center,st=W.yAxis.len,x=q[3]/2;return L=st-L+x,y=st-C(y,st)+x,W.yAxis.reversed&&(0>L&&(L=x),0>y&&(y=x)),{x:q[0],y:q[1],r:L,innerR:y,start:O,end:z}}toXY(y){var L=this.series;const O=L.chart,z=L.xAxis;var W=L.yAxis;const q=y.plotX,st=O.inverted,x=y.y;let j=y.plotY,B=st?q:W.len-j;st&&L&&!L.isRadialBar&&(y.plotY=j=a(x)?W.translate(x):0),y.rectPlotX=q,y.rectPlotY=j,W.center&&(B+=W.center[3]/2),a(j)&&(W=st?W.postTranslate(j,B):z.postTranslate(q,B),y.plotX=y.polarPlotX=W.x-O.plotLeft,y.plotY=y.polarPlotY=W.y-O.plotTop),L.kdByAngle?(L=(q/Math.PI*180+z.pane.options.startAngle)%360,0>L&&(L+=360),y.clientX=L):y.clientX=y.plotX}}return pt}),at(l,"masters/highcharts-more.src.js",[l["Core/Globals.js"],l["Core/Series/SeriesRegistry.js"],l["Series/Bubble/BubbleSeries.js"],l["Series/PackedBubble/PackedBubbleSeries.js"],l["Series/PolarComposition.js"]],function(n,p,c,u,g){c.compose(n.Axis,n.Chart,n.Legend,n.Series),u.compose(n.Axis,n.Chart,n.Legend,n.Series),g.compose(n.Axis,n.Chart,n.Pointer,n.Series,n.Tick,p.seriesTypes.areasplinerange,p.seriesTypes.column,p.seriesTypes.line,p.seriesTypes.spline)})})})(Pt);var Ct=Pt.exports;const At=bt(Ct);var St={exports:{}};(function(yt){(function(l){yt.exports?(l.default=l,yt.exports=l):l(typeof Highcharts<"u"?Highcharts:void 0)})(function(l){function at(n,p,c,u){n.hasOwnProperty(p)||(n[p]=u.apply(null,c),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:p,module:n[p]}})))}l=l?l._modules:{},at(l,"Core/Chart/ChartNavigationComposition.js",[],function(){var n;return function(p){p.compose=function(u){return u.navigation||(u.navigation=new c(u)),u};class c{constructor(g){this.updates=[],this.chart=g}addUpdate(g){this.chart.navigation.updates.push(g)}update(g,h){this.updates.forEach(T=>{T.call(this.chart,g,h)})}}p.Additions=c}(n||(n={})),n}),at(l,"Extensions/Exporting/ExportingDefaults.js",[l["Core/Globals.js"]],function(n){return{isTouchDevice:n}=n,{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:n?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),at(l,"Extensions/Exporting/ExportingSymbols.js",[],function(){var n;return function(p){function c(h,T,G,w){return[["M",h,T+2.5],["L",h+G,T+2.5],["M",h,T+w/2+.5],["L",h+G,T+w/2+.5],["M",h,T+w-1.5],["L",h+G,T+w-1.5]]}function u(h,T,G,w){return h=w/3-2,w=[],w=w.concat(this.circle(G-h,T,h,h),this.circle(G-h,T+h+4,h,h),this.circle(G-h,T+2*(h+4),h,h))}const g=[];p.compose=function(h){g.indexOf(h)===-1&&(g.push(h),h=h.prototype.symbols,h.menu=c,h.menuball=u.bind(h))}}(n||(n={})),n}),at(l,"Extensions/Exporting/Fullscreen.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Utilities.js"]],function(n,p){function c(){this.fullscreen=new T(this)}const{addEvent:u,fireEvent:g}=p,h=[];class T{static compose(w){p.pushUnique(h,w)&&u(w,"beforeRender",c)}constructor(w){this.chart=w,this.isOpen=!1,w=w.renderTo,this.browserProps||(typeof w.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:w.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:w.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:w.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const w=this,m=w.chart,X=m.options.chart;g(m,"fullscreenClose",null,function(){w.isOpen&&w.browserProps&&m.container.ownerDocument instanceof Document&&m.container.ownerDocument[w.browserProps.exitFullscreen](),w.unbindFullscreenEvent&&(w.unbindFullscreenEvent=w.unbindFullscreenEvent()),m.setSize(w.origWidth,w.origHeight,!1),w.origWidth=void 0,w.origHeight=void 0,X.width=w.origWidthOption,X.height=w.origHeightOption,w.origWidthOption=void 0,w.origHeightOption=void 0,w.isOpen=!1,w.setButtonText()})}open(){const w=this,m=w.chart,X=m.options.chart;g(m,"fullscreenOpen",null,function(){if(X&&(w.origWidthOption=X.width,w.origHeightOption=X.height),w.origWidth=m.chartWidth,w.origHeight=m.chartHeight,w.browserProps){const N=u(m.container.ownerDocument,w.browserProps.fullscreenChange,function(){w.isOpen?(w.isOpen=!1,w.close()):(m.setSize(null,null,!1),w.isOpen=!0,w.setButtonText())}),D=u(m,"destroy",N);w.unbindFullscreenEvent=()=>{N(),D()};const J=m.renderTo[w.browserProps.requestFullscreen]();J&&J.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var w=this.chart,m=w.exportDivElements;const X=w.options.exporting,N=X&&X.buttons&&X.buttons.contextButton.menuItems;w=w.options.lang,X&&X.menuItemDefinitions&&w&&w.exitFullscreen&&w.viewFullscreen&&N&&m&&(m=m[N.indexOf("viewFullscreen")])&&n.setElementHTML(m,this.isOpen?w.exitFullscreen:X.menuItemDefinitions.viewFullscreen.text||w.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return T}),at(l,"Core/HttpUtilities.js",[l["Core/Globals.js"],l["Core/Utilities.js"]],function(n,p){const{doc:c}=n,{createElement:u,discardElement:g,merge:h,objectEach:T}=p,G={ajax:function(w){const m={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},X=new XMLHttpRequest;if(!w.url)return!1;X.open((w.type||"get").toUpperCase(),w.url,!0),w.headers&&w.headers["Content-Type"]||X.setRequestHeader("Content-Type",m[w.dataType||"json"]||m.text),T(w.headers,function(N,D){X.setRequestHeader(D,N)}),w.responseType&&(X.responseType=w.responseType),X.onreadystatechange=function(){let N;if(X.readyState===4){if(X.status===200){if(w.responseType!=="blob"&&(N=X.responseText,w.dataType==="json"))try{N=JSON.parse(N)}catch(D){if(D instanceof Error){w.error&&w.error(X,D);return}}return w.success&&w.success(N,X)}w.error&&w.error(X,X.responseText)}},w.data&&typeof w.data!="string"&&(w.data=JSON.stringify(w.data)),X.send(w.data)},getJSON:function(w,m){G.ajax({url:w,success:m,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(w,m,X){const N=u("form",h({method:"post",action:w,enctype:"multipart/form-data"},X),{display:"none"},c.body);T(m,function(D,J){u("input",{type:"hidden",name:J,value:D},void 0,N)}),N.submit(),g(N)}};return G}),at(l,"Extensions/Exporting/Exporting.js",[l["Core/Renderer/HTML/AST.js"],l["Core/Chart/Chart.js"],l["Core/Chart/ChartNavigationComposition.js"],l["Core/Defaults.js"],l["Extensions/Exporting/ExportingDefaults.js"],l["Extensions/Exporting/ExportingSymbols.js"],l["Extensions/Exporting/Fullscreen.js"],l["Core/Globals.js"],l["Core/HttpUtilities.js"],l["Core/Utilities.js"]],function(n,p,c,u,g,h,T,G,w,m){const{defaultOptions:X,setOptions:N}=u,{doc:D,SVG_NS:J,win:i}=G,{addEvent:t,css:s,createElement:r,discardElement:o,extend:f,find:M,fireEvent:v,isObject:d,merge:P,objectEach:E,pick:R,removeEvent:F,uniqueKey:e}=m;var a;return function(b){function C(k){const A=this,K=A.renderer,_=P(A.options.navigation.buttonOptions,k),tt=_.onclick,ot=_.menuItems,nt=_.symbolSize||12;let et;if(A.btnCount||(A.btnCount=0),A.exportDivElements||(A.exportDivElements=[],A.exportSVGElements=[]),_.enabled!==!1&&_.theme){var rt=_.theme,ct;A.styledMode||(rt.fill=R(rt.fill,"#ffffff"),rt.stroke=R(rt.stroke,"none")),tt?ct=function(ut){ut&&ut.stopPropagation(),tt.call(A,ut)}:ot&&(ct=function(ut){ut&&ut.stopPropagation(),A.contextMenu(dt.menuClassName,ot,dt.translateX,dt.translateY,dt.width,dt.height,dt),dt.setState(2)}),_.text&&_.symbol?rt.paddingLeft=R(rt.paddingLeft,30):_.text||f(rt,{width:_.width,height:_.height,padding:0}),A.styledMode||(rt["stroke-linecap"]="round",rt.fill=R(rt.fill,"#ffffff"),rt.stroke=R(rt.stroke,"none"));var dt=K.button(_.text,0,0,ct,rt,void 0,void 0,void 0,void 0,_.useHTML).addClass(k.className).attr({title:R(A.options.lang[_._titleKey||_.titleKey],"")});dt.menuClassName=k.menuClassName||"highcharts-menu-"+A.btnCount++,_.symbol&&(et=K.symbol(_.symbol,_.symbolX-nt/2,_.symbolY-nt/2,nt,nt,{width:nt,height:nt}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(dt),A.styledMode||et.attr({stroke:_.symbolStroke,fill:_.symbolFill,"stroke-width":_.symbolStrokeWidth||1})),dt.add(A.exportingGroup).align(f(_,{width:dt.width,x:R(_.x,A.buttonOffset)}),!0,"spacingBox"),A.buttonOffset+=(dt.width+_.buttonSpacing)*(_.align==="right"?-1:1),A.exportSVGElements.push(dt,et)}}function S(){if(this.printReverseInfo){var{childNodes:k,origDisplay:A,resetParams:K}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(k,function(_,tt){_.nodeType===1&&(_.style.display=A[tt]||"")}),this.isPrinting=!1,K&&this.setSize.apply(this,K),delete this.printReverseInfo,Q=void 0,v(this,"afterPrint")}}function Y(){const k=D.body,A=this.options.exporting.printMaxWidth,K={childNodes:k.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),v(this,"beforePrint"),A&&this.chartWidth>A&&(K.resetParams=[this.options.chart.width,void 0,!1],this.setSize(A,void 0,!1)),[].forEach.call(K.childNodes,function(_,tt){_.nodeType===1&&(K.origDisplay[tt]=_.style.display,_.style.display="none")}),this.moveContainers(k),this.printReverseInfo=K}function H(k){k.renderExporting(),t(k,"redraw",k.renderExporting),t(k,"destroy",k.destroyExport)}function U(k,A,K,_,tt,ot,nt){const et=this,rt=et.options.navigation,ct=et.chartWidth,dt=et.chartHeight,ut="cache-"+k,ft=Math.max(tt,ot);let mt,ht=et[ut];ht||(et.exportContextMenu=et[ut]=ht=r("div",{className:k},{position:"absolute",zIndex:1e3,padding:ft+"px",pointerEvents:"auto"},et.fixedDiv||et.container),mt=r("ul",{className:"highcharts-menu"},et.styledMode?{}:{listStyle:"none",margin:0,padding:0},ht),et.styledMode||s(mt,f({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},rt.menuStyle)),ht.hideMenu=function(){s(ht,{display:"none"}),nt&&nt.setState(0),et.openMenu=!1,s(et.renderTo,{overflow:"hidden"}),s(et.container,{overflow:"hidden"}),m.clearTimeout(ht.hideTimer),v(et,"exportMenuHidden")},et.exportEvents.push(t(ht,"mouseleave",function(){ht.hideTimer=i.setTimeout(ht.hideMenu,500)}),t(ht,"mouseenter",function(){m.clearTimeout(ht.hideTimer)}),t(D,"mouseup",function(gt){et.pointer.inClass(gt.target,k)||ht.hideMenu()}),t(ht,"click",function(){et.openMenu&&ht.hideMenu()})),A.forEach(function(gt){if(typeof gt=="string"&&(gt=et.options.exporting.menuItemDefinitions[gt]),d(gt,!0)){let xt;gt.separator?xt=r("hr",void 0,void 0,mt):(gt.textKey==="viewData"&&et.isDataTableVisible&&(gt.textKey="hideData"),xt=r("li",{className:"highcharts-menu-item",onclick:function(vt){vt&&vt.stopPropagation(),ht.hideMenu(),gt.onclick&&gt.onclick.apply(et,arguments)}},void 0,mt),n.setElementHTML(xt,gt.text||et.options.lang[gt.textKey]),et.styledMode||(xt.onmouseover=function(){s(this,rt.menuItemHoverStyle)},xt.onmouseout=function(){s(this,rt.menuItemStyle)},s(xt,f({cursor:"pointer"},rt.menuItemStyle||{})))),et.exportDivElements.push(xt)}}),et.exportDivElements.push(mt,ht),et.exportMenuWidth=ht.offsetWidth,et.exportMenuHeight=ht.offsetHeight),A={display:"block"},K+et.exportMenuWidth>ct?A.right=ct-K-tt-ft+"px":A.left=K-ft+"px",_+ot+et.exportMenuHeight>dt&&nt.alignOptions.verticalAlign!=="top"?A.bottom=dt-_-ft+"px":A.top=_+ot-ft+"px",s(ht,A),s(et.renderTo,{overflow:""}),s(et.container,{overflow:""}),et.openMenu=!0,v(et,"exportMenuShown")}function lt(k){const A=k?k.target:this,K=A.exportSVGElements,_=A.exportDivElements;k=A.exportEvents;let tt;K&&(K.forEach((ot,nt)=>{ot&&(ot.onclick=ot.ontouchstart=null,tt="cache-"+ot.menuClassName,A[tt]&&delete A[tt],K[nt]=ot.destroy())}),K.length=0),A.exportingGroup&&(A.exportingGroup.destroy(),delete A.exportingGroup),_&&(_.forEach(function(ot,nt){ot&&(m.clearTimeout(ot.hideTimer),F(ot,"mouseleave"),_[nt]=ot.onmouseout=ot.onmouseover=ot.ontouchstart=ot.onclick=null,o(ot))}),_.length=0),k&&(k.forEach(function(ot){ot()}),k.length=0)}function pt(k,A){A=this.getSVGForExport(k,A),k=P(this.options.exporting,k),w.post(k.url,{filename:k.filename?k.filename.replace(/\//g,"-"):this.getFilename(),type:k.type,width:k.width,scale:k.scale,svg:A},k.formAttributes)}function I(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function y(){const k=this.userOptions.title&&this.userOptions.title.text;let A=this.options.exporting.filename;return A?A.replace(/\//g,"-"):(typeof k=="string"&&(A=k.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!A||5>A.length)&&(A="chart"),A)}function L(k){let A,K=P(this.options,k);K.plotOptions=P(this.userOptions.plotOptions,k&&k.plotOptions),K.time=P(this.userOptions.time,k&&k.time);const _=r("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},D.body);var tt=this.renderTo.style.width,ot=this.renderTo.style.height;tt=K.exporting.sourceWidth||K.chart.width||/px$/.test(tt)&&parseInt(tt,10)||(K.isGantt?800:600),ot=K.exporting.sourceHeight||K.chart.height||/px$/.test(ot)&&parseInt(ot,10)||400,f(K.chart,{animation:!1,renderTo:_,forExport:!0,renderer:"SVGRenderer",width:tt,height:ot}),K.exporting.enabled=!1,delete K.data,K.series=[],this.series.forEach(function(rt){A=P(rt.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:rt.visible}),A.isInternal||K.series.push(A)});const nt={};this.axes.forEach(function(rt){rt.userOptions.internalKey||(rt.userOptions.internalKey=e()),rt.options.isInternal||(nt[rt.coll]||(nt[rt.coll]=!0,K[rt.coll]=[]),K[rt.coll].push(P(rt.userOptions,{visible:rt.visible})))});const et=new this.constructor(K,this.callback);return k&&["xAxis","yAxis","series"].forEach(function(rt){const ct={};k[rt]&&(ct[rt]=k[rt],et.update(ct))}),this.axes.forEach(function(rt){const ct=M(et.axes,function(ft){return ft.options.internalKey===rt.userOptions.internalKey});var dt=rt.getExtremes();const ut=dt.userMin;dt=dt.userMax,ct&&(typeof ut<"u"&&ut!==ct.min||typeof dt<"u"&&dt!==ct.max)&&ct.setExtremes(ut,dt,!0,!1)}),ot=et.getChartHTML(),v(this,"getSVG",{chartCopy:et}),ot=this.sanitizeSVG(ot,K),K=null,et.destroy(),o(_),ot}function O(k,A){const K=this.options.exporting;return this.getSVG(P({chart:{borderRadius:0}},K.chartOptions,A,{exporting:{sourceWidth:k&&k.sourceWidth||K.sourceWidth,sourceHeight:k&&k.sourceHeight||K.sourceHeight}}))}function z(k){return k.replace(/([A-Z])/g,function(A,K){return"-"+K.toLowerCase()})}function W(){function k(et){const rt={};let ct,dt;if(nt&&et.nodeType===1&&it.indexOf(et.nodeName)===-1){if(ct=i.getComputedStyle(et,null),dt=et.nodeName==="svg"?{}:i.getComputedStyle(et.parentNode,null),!_[et.nodeName]){tt=nt.getElementsByTagName("svg")[0];var ut=nt.createElementNS(et.namespaceURI,et.nodeName);tt.appendChild(ut);var ft=i.getComputedStyle(ut,null),mt={};for(var ht in ft)typeof ft[ht]!="string"||/^[0-9]+$/.test(ht)||(mt[ht]=ft[ht]);_[et.nodeName]=mt,et.nodeName==="text"&&delete _.text.fill,tt.removeChild(ut)}for(const xt in ct)if(G.isFirefox||G.isMS||G.isSafari||Object.hasOwnProperty.call(ct,xt)){ht=ct[xt];var gt=xt;if(ut=ft=!1,K.length){for(mt=K.length;mt--&&!ft;)ft=K[mt].test(gt);ut=!ft}for(gt==="transform"&&ht==="none"&&(ut=!0),mt=A.length;mt--&&!ut;)ut=A[mt].test(gt)||typeof ht=="function";ut||dt[gt]===ht&&et.nodeName!=="svg"||_[et.nodeName][gt]===ht||(V&&V.indexOf(gt)===-1?rt[gt]=ht:ht&&et.setAttribute(z(gt),ht))}s(et,rt),et.nodeName==="svg"&&et.setAttribute("stroke-width","1px"),et.nodeName!=="text"&&[].forEach.call(et.children||et.childNodes,k)}}const A=Z,K=b.inlineAllowlist,_={};let tt;const ot=D.createElement("iframe");s(ot,{width:"1px",height:"1px",visibility:"hidden"}),D.body.appendChild(ot);const nt=ot.contentWindow&&ot.contentWindow.document;nt&&nt.body.appendChild(nt.createElementNS(J,"svg")),k(this.container.querySelector("svg")),tt.parentNode.removeChild(tt),ot.parentNode.removeChild(ot)}function q(k){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(A){k.appendChild(A)})}function st(){const k=this;k.exporting={update:function(A,K){k.isDirtyExporting=!0,P(!0,k.options.exporting,A),R(K,!0)&&k.redraw()}},c.compose(k).navigation.addUpdate((A,K)=>{k.isDirtyExporting=!0,P(!0,k.options.navigation,A),R(K,!0)&&k.redraw()})}function x(){const k=this;k.isPrinting||(Q=k,G.isSafari||k.beforePrint(),setTimeout(()=>{i.focus(),i.print(),G.isSafari||setTimeout(()=>{k.afterPrint()},1e3)},1))}function j(){const k=this,A=k.options.exporting,K=A.buttons,_=k.isDirtyExporting||!k.exportSVGElements;k.buttonOffset=0,k.isDirtyExporting&&k.destroyExport(),_&&A.enabled!==!1&&(k.exportEvents=[],k.exportingGroup=k.exportingGroup||k.renderer.g("exporting-group").attr({zIndex:3}).add(),E(K,function(tt){k.addButton(tt)}),k.isDirtyExporting=!1)}function B(k,A){const K=k.indexOf("</svg>")+6;let _=k.substr(K);return k=k.substr(0,K),A&&A.exporting&&A.exporting.allowHTML&&_&&(_='<foreignObject x="0" y="0" width="'+A.chart.width+'" height="'+A.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+_.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",k=k.replace("</svg>",_+"</svg>")),k=k.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"¬†").replace(/&shy;/g,"¬≠")}const $=[],Z=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],V="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");b.inlineAllowlist=[];const it=["clipPath","defs","desc"];let Q;b.compose=function(k,A){h.compose(A),T.compose(k),m.pushUnique($,k)&&(A=k.prototype,A.afterPrint=S,A.exportChart=pt,A.inlineStyles=W,A.print=x,A.sanitizeSVG=B,A.getChartHTML=I,A.getSVG=L,A.getSVGForExport=O,A.getFilename=y,A.moveContainers=q,A.beforePrint=Y,A.contextMenu=U,A.addButton=C,A.destroyExport=lt,A.renderExporting=j,A.callbacks.push(H),t(k,"init",st),G.isSafari&&G.win.matchMedia("print").addListener(function(K){Q&&(K.matches?Q.beforePrint():Q.afterPrint())})),m.pushUnique($,N)&&(X.exporting=P(g.exporting,X.exporting),X.lang=P(g.lang,X.lang),X.navigation=P(g.navigation,X.navigation))}}(a||(a={})),a}),at(l,"masters/modules/exporting.src.js",[l["Core/Globals.js"],l["Extensions/Exporting/Exporting.js"],l["Core/HttpUtilities.js"]],function(n,p,c){n.HttpUtilities=c,n.ajax=c.ajax,n.getJSON=c.getJSON,n.post=c.post,p.compose(n.Chart,n.Renderer)})})})(St);var kt=St.exports;const Tt=bt(kt);export{Nt as H,At as a,Tt as e};
