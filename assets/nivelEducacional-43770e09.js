import{r,d as q,o as F,e as A,w as h,_ as X,b as d,a as c,f as Y}from"./index-909a904c.js";import{_ as z}from"./CSpinner-02a6450e.js";import{_ as W}from"./CHeaderBar-ce8cbd6a.js";import{u as M,_ as R,a as C}from"./CCard-7ec801a1.js";import{_ as U}from"./CColunmChart-dd59c009.js";import{a as j}from"./dimensionHistory-b6bfb333.js";import"./exporting-89b1efd4.js";import"./api-7944baea.js";const G={class:"regimen-carcel"},J={class:"chart-section"},K=c("span",{class:"card-title"},"Suma de p3 ¿Hasta qué curso llegó (en la calle)?",-1),Q=c("span",{class:"question--value"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam ",-1),Z=c("span",{class:"card-title"},"Pregunta",-1),E=c("span",{class:"question--value"},"FP 3 ¿Hasta qué curso llegó (en la calle)?",-1),y=7,ce={__name:"nivelEducacional",setup(ee){const s=M(),l=r(!1),P=r("Trayectoria / ¿Hasta qué curso llegó (en la calle)?"),$=r({categories:["sin estudios formales","primero básico","segundo básico","tercero básico","cuarto básico","quinto básico","sexto básico","séptimo básico","octavo básico","I medio","II medio","III medio","IV medio completo","superior incompleta","superior completa","no asignado"],crosshair:!1}),H=r({min:0,allowDecimals:!1,title:{text:"Suma por categoría"}}),V=r({column:{pointPadding:.2,borderWidth:3}}),k=r({headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0}),L=e=>{let i=0,a=0,u=0,p=0,o=0,m=0,f=0,g=0,v=0,_=0,x=0,I=0,B=0,S=0,w=0,D=null;for(let t=0;t<e.length;t++)e[t].value===0&&i++,e[t].value===1&&a++,e[t].value===2&&u++,e[t].value===3&&p++,e[t].value===4&&o++,e[t].value===5&&m++,e[t].value===6&&f++,e[t].value===7&&g++,e[t].value===8&&v++,e[t].value===9&&_++,e[t].value===10&&x++,e[t].value===11&&I++,e[t].value===12&&B++,e[t].value===13&&S++,e[t].value===14&&w++,e[t].value===-1&&(D+=e[t].value*-1);return[i,a,u,p,o,m,f,g,v,_,x,I,B,S,w,D]},n=q([]),N=(e,i,a)=>q({id:e,name:i,data:a,dataLabels:{enabled:!0,color:"#fff",align:"center",y:70,style:{inside:!0,fontSize:"10px",fontFamily:"helvetica, arial, sans-serif",textShadow:!1,fontWeight:"normal"}}}),O=async e=>{l.value=!0;const i=n.filter(a=>a.id!==e);n.splice(0,n.length),i.map(a=>n.push(a)),await s.sleep(50),l.value=!1},b=async(e,i,a)=>{var u,p;try{let o=((u=s==null?void 0:s.penitenciaria)==null?void 0:u.id)??null,m=((p=s==null?void 0:s.penitenciaria)==null?void 0:p.description)??null,f=s.historyId;if(a&&(o=e,m=i),f&&o){l.value=!0;let v=await j({historyId:f,carcelId:o,categoryId:y,subCategoryId:23,embedDetail:!0,dimensionId:126});const _=L(v.items);n.push(N(o,m,_))}}catch(o){console.log(o)}finally{a||(l.value=!1)}},T=async()=>{l.value=!0,s.carcelesSelected&&s.carcelesSelected.length>0&&await Promise.all(s.carcelesSelected.map(async e=>await b(e.id,e.description,!0))),l.value=!1};return(e,i)=>(F(),A(X,null,{default:h(()=>[d(W,{title:P.value,"section-value":y},null,8,["title"]),d(z,{"active-spin":l.value},null,8,["active-spin"]),d(R,{baseFilter:y,multipleDisabled:!1,onExecuteMount:T,onExecuteAction:b,onExecuteRemove:O}),c("div",G,[c("div",J,[d(C,{class:"card-information"},{default:h(()=>[K,Q]),_:1}),l.value?Y("",!0):(F(),A(U,{key:0,optionsAxisX:$.value,optionsAxisY:H.value,plotOptions:V.value,tooltip:k.value,series:n},null,8,["optionsAxisX","optionsAxisY","plotOptions","tooltip","series"]))]),d(C,{class:"card-preguntas"},{default:h(()=>[Z,E]),_:1})])]),_:1}))}};export{ce as default};
