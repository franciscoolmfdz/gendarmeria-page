import{g as o,h as C,o as N,f as x,j as f,_ as $,q as h,C as I,I as q,m as i,b as a,x as p}from"./index-21f23004.js";import{_ as A}from"./CHeaderBar-cbc33fae.js";import{_ as D}from"./CCard-83fab194.js";import{_ as L}from"./CButton-107a322a.js";import{_ as T}from"./CTable-dbea869c.js";import{s as B}from"./filterSituacion-6730afca.js";const M={class:"selected-options"},S={class:"information__section"},U=a("span",{class:"card-title"},"Registro eventos",-1),b=a("span",null," Cantidad y tipo de registros de eventos registrados ",-1),j={class:"content__section"},k=3,K={__name:"registroViolencia",setup(E){const c=B(),t=o({id:15,description:"Región Metropolitana de Santiago"}),m=o([]),l=o({id:16,description:"CCP Colina 1"}),_=o([]),r=o({id:1,description:"N° de eventos de riñas en el período."}),y=o([{id:1,description:"N° de eventos de riñas en el período."},{id:2,description:"N° de agresiones con resultado de muerte en el año t."},{id:3,description:"N° de funcionarios que en ejercicio de sus funciones resulten heridos o lesionados por uno o más internos."},{id:4,description:"N° de decesos por suicidio."},{id:5,description:"N° de decesos por enfermedades"},{id:6,description:"N° de decesos por otras causas."},{id:7,description:"N° de decesos por accidentes."}]),V=o("Estado situación carcelaria / Registro de eventos"),w=o([{rowReference:"year",description:"Año"},{rowReference:"month",description:"Mes"},{rowReference:"gender",description:"sexo"},{rowReference:"quantity",description:"Cantidad"}]),d=o([]),R=async n=>{if(!c.listadoRegiones.length>0){let e=await h();m.value=e,c.setRegionesList(e)}},g=async()=>{const n={regionId:t.value};_.value=await I(n)},v=async()=>{var n,e,s;try{if(t.value){const u={regionId:((n=t.value)==null?void 0:n.id)??t.value,carcelId:((e=l.value)==null?void 0:e.id)??l.value,aggresionTypeId:((s=r.value)==null?void 0:s.id)??r.value};d.value=await q(u)}else d.value=[]}catch(u){console.log(u)}};return C(async()=>{t.value=c.regionSelected.id,await R(),await g(),await v()}),(n,e)=>(N(),x($,{class:"contenido-eventos"},{default:f(()=>[i(A,{title:V.value,"section-value":k},null,8,["title"]),a("div",M,[i(p,{class:"select-region",options:m.value,modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value=s),onChangeValue:e[1]||(e[1]=s=>g())},null,8,["options","modelValue"]),i(p,{class:"select-carcel",options:_.value,modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value=s)},null,8,["options","modelValue"]),i(p,{class:"select-question",options:y.value,modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=s=>r.value=s)},null,8,["options","modelValue"]),i(L,{class:"btn-search",title:"",onExecuteAction:v})]),a("div",S,[i(D,{class:"card-information"},{default:f(()=>[U,b]),_:1})]),a("div",j,[i(T,{columns:w.value,rows:d.value},null,8,["columns","rows"])])]),_:1}))}};export{K as default};
