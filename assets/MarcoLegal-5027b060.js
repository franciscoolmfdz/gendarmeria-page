import{o as d,c as g,t as x,r as o,i as k,d as b,w as _,_ as A,b as i,a as h}from"./index-4bf4a7de.js";import{_ as w}from"./CHeaderBar-922b50aa.js";import{_ as B}from"./CTable-28ef051b.js";import{s as $}from"./marcoLegalStore-844d5015.js";import{F as q}from"./FileSaver.min-6e0acbf1.js";const y={__name:"CButton",props:{title:{type:String,required:!0}},emits:["executeAction"],setup(n,{emit:s}){return(t,a)=>(d(),g("button",{class:"c-button",onClick:a[0]||(a[0]=r=>s("executeAction"))},x(n.title),1))}},u=(n,s)=>{if(!n){error.value="Archivo no encontrado";return}if(s==="file"){const t=new Blob([n],{type:"text/plain;charset=utf-8"});q.saveAs(t,n.name),success.value=!0}else if(s==="link"){const t=document.createElement("a");t.href="https://dev-proyectos-o.cl/repo/test.pdf",t.target="_blank",t.click()}};const D={class:"content-document__section"},L={__name:"MarcoLegal",setup(n){o();const s=o([{rowReference:"name",description:"Nombre archivo"},{rowReference:"periodo",description:"Fecha de carga"}]),t=()=>[{name:"descargar",iconName:"pageview"}],a=$(),r=o(a.documentData);o(null),o(null),o(null);const p=e=>{console.log(e)},f=e=>{var c,l,m;e.actionName==="descargar"&&(console.log(e.request.name),(c=e.request)!=null&&c.file?u((l=e.request)==null?void 0:l.file,"file"):(console.log(u),u((m=e.request)==null?void 0:m.name,"link")))},v=o("Marco legal");return k(()=>{console.log(a.documentData),r.value.map(e=>(e.actions=t(),e))}),(e,c)=>(d(),b(A,null,{default:_(()=>[i(w,{title:v.value},null,8,["title"]),h("div",D,[i(B,{columns:s.value,rows:r.value,"actions-active":"",onExecuteActionlist:f},{default:_(()=>[i(y,{onExecuteAction:c[0]||(c[0]=l=>p(e.row))})]),_:1},8,["columns","rows"])])]),_:1}))}};export{L as default};
