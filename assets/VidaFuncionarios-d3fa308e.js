import{_ as Q}from"./CButton-9b5b716d.js";import{_ as l}from"./CChartDonutSection-b8d245cd.js";import{g as b,u as S,h as F,i as M,o as p,f as g,j as t,_ as T,k as N,l as I,m as s,c as v,a as d,n as O,b as e}from"./index-32237ca5.js";import{_ as E}from"./CHeaderBar-314fbfbd.js";import{_ as w}from"./CCard-d1e39816.js";const L={key:0,class:"c-option-volver"},J={key:1,class:"principal-section section-funcionarios"},U={class:"principal-section"},q={key:0,class:"principal-section__top position-one"},K=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),W=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),X=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),Y=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),Z={key:1,class:"principal-section__top position-two"},tt=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),st=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),ot=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),et=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),nt={key:2,class:"principal-section__top position-three"},at=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),it=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),lt=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),ut=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),ct=e("span",{class:"sub-menu__option--title"}," Ver más ",-1),rt={class:"principal-section__bottom"},_t=e("span",{class:"sub-menu__option--title"},"Relación con jefatura",-1),pt=e("span",{class:"sub-menu__option--text"}," Consulta a los funcionarios sobre su relación con sus jefaturas ",-1),dt=e("span",{class:"sub-menu__option--title"},"Confianza y valoración",-1),mt=e("span",{class:"sub-menu__option--text"}," Consulta a los funcionarios sobre confianza y valoración entre sus pares ",-1),bt=e("span",{class:"sub-menu__option--title"},"Apego institucional",-1),vt=e("span",{class:"sub-menu__option--text"},"Consulta a los funcionarios sobre el apego institucional",-1),ft=e("span",{class:"sub-menu__option--title"},"Carga trabajo",-1),ht=e("span",{class:"sub-menu__option--text"},"Consulta a los funcionarios sobre la carga trabajo",-1),Ct=e("span",{class:"sub-menu__option--title"},"Motivación en el trabajo",-1),gt=e("span",{class:"sub-menu__option--text"}," Consulta sobre su motivación en el trabajo ",-1),yt=e("span",{class:"sub-menu__option--title"},"Relación compañeros/as",-1),wt=e("span",{class:"sub-menu__option--text"}," Consulta sobre su relación entre compañeros/as ",-1),Vt=e("span",{class:"sub-menu__option--title"},"Seguridad personal",-1),kt=e("span",{class:"sub-menu__option--text"}," Consulta sobre su seguridad personal",-1),xt=e("span",{class:"sub-menu__option--title"},"Organización y orden",-1),It=e("span",{class:"sub-menu__option--text"}," Consulta sobre la Organización y el orden",-1),jt=e("span",{class:"sub-menu__option--title"},"Apoyo a la reinserción ",-1),Rt=e("span",{class:"sub-menu__option--text"}," Consulta sobre su rol en el apoyo a la reinserción ",-1),zt=e("span",{class:"sub-menu__option--title"},"Relación con internos ",-1),Dt=e("span",{class:"sub-menu__option--text"}," Consulta sobre su relación con los internos ",-1),Ht=e("span",{class:"sub-menu__option--title"},"Conocimiento normativas ",-1),$t=e("span",{class:"sub-menu__option--text"}," Consulta sobre su conocimiento de normativas ",-1),At=e("span",{class:"sub-menu__option--title"},"Presión para tomar decisiones ",-1),Bt=e("span",{class:"sub-menu__option--text"}," Consulta sobre la toma de decisiones ",-1),Pt=e("span",{class:"sub-menu__option--title"}," Cuestionario salud GHQ-12 ",-1),Gt=e("span",{class:"sub-menu__option--text"}," Consulta de resultados cuestionario de salud GHQ-12 ",-1),Qt=2,Et={__name:"VidaFuncionarios",setup(St){const j=b("Calidad de vida de los funcionarios"),c=b(!1),V=S(),a=b([]),r=b(1),f=b(null),h=b(null),R=n=>n>0?Math.round(n*100)/100:0,z=()=>{r.value=0},y=async n=>{c.value=!0,r.value=n,c.value=!1},k=async()=>{let n={categoryId:2,lastPeriod:!0};return n={categoryId:2,historyId:(await I(n)).id},f.value&&(n.regionId=f.value),h.value&&(n.carcelId=h.value),n},D=async(n=9,i=20)=>{try{c.value=!0;const o=await k();let _=await N(o),u=null;for(let m=n;m<=i;m++){const B=m,x=_.filter(C=>C.subCategoryId===B&&C.valueUsed===1),P=x.length;u=x.reduce((C,G)=>C+G.valuePound,0),u=u/P,u=R(u),a.value.push(u)}}catch(o){console.log(o)}},H=n=>{let i=0,o=0,_=0;for(let u=0;u<n.length;u++){let m=n[u];m.pound>=0&&(i+=m.pound,o+=m.pound,_++)}return o=o*10/_,o},$=n=>n?Math.round(n*100)/100:0,A=async()=>{try{let n=await k();c.value=!0;const i={...n,subCategoryId:22,embedDetail:!0};let o=await I(i);const _=H(o.items);a.value.push($(_))}catch(n){console.log(n)}};return F(async()=>{c.value=!0;const n=V.user.restrictions.find(o=>o.typeId===2),i=V.user.restrictions.find(o=>o.typeId===3);n?f.value=parseInt(n.restriction):i?h.value=parseInt(i.restriction):(h.value=null,f.value=null),await D(),await A(),console.log(a.value),c.value=!1}),(n,i)=>{const o=M("RouterLink");return p(),g(T,{class:"panel-vida-funcionarios"},{default:t(()=>[s(E,{title:j.value,"section-value":Qt},null,8,["title"]),!c.value&&r.value!==0?(p(),v("div",L,[s(Q,{class:"btn-volver",title:"Volver",onExecuteAction:z,disabled:n.blockButton},null,8,["disabled"])])):d("",!0),s(O,{"active-spin":c.value},null,8,["active-spin"]),!c.value&&a.value.length>0?(p(),v("div",J,[e("div",U,[r.value==1?(p(),v("div",q,[s(l,{class:"section-donut",title:"Relación con jefatura",subtitle:"Consulta a los funcionarios sobre su relación con sus jefaturas","point-value":a.value[0]},{default:t(()=>[s(o,{to:"relacionJefatura",class:"sub-menu--option white btn-small"},{default:t(()=>[K]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Confianza y valoración",subtitle:"Consulta a los funcionarios sobre confianza y valoración entre sus pares","point-value":a.value[1]},{default:t(()=>[s(o,{to:"confianzaValoracion",class:"sub-menu--option white btn-small"},{default:t(()=>[W]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Apego institucional",subtitle:"Consulta a los funcionarios sobre el apego institucional","point-value":a.value[2]},{default:t(()=>[s(o,{to:"apegoInstitucional",class:"sub-menu--option white btn-small"},{default:t(()=>[X]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Carga trabajo",subtitle:"Consulta a los funcionarios sobre la carga trabajo","point-value":a.value[3]},{default:t(()=>[s(o,{to:"cargaTrabajo",class:"sub-menu--option white btn-small"},{default:t(()=>[Y]),_:1})]),_:1},8,["point-value"])])):d("",!0),r.value==2?(p(),v("div",Z,[s(l,{class:"section-donut",title:"Motivación en el trabajo",subtitle:"Consulta sobre su motivación en el trabajo","point-value":a.value[4]},{default:t(()=>[s(o,{to:"motivacionTrabajo",class:"sub-menu--option white btn-small"},{default:t(()=>[tt]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Relación compañeros/as",subtitle:"Consulta sobre su relación entre compañeros/as ","point-value":a.value[5]},{default:t(()=>[s(o,{to:"relacionCoop",class:"sub-menu--option white btn-small"},{default:t(()=>[st]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Seguridad personal",subtitle:"Consulta sobre su seguridad personal","point-value":a.value[6]},{default:t(()=>[s(o,{to:"seguridad",class:"sub-menu--option white btn-small"},{default:t(()=>[ot]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Organización y orden",subtitle:"Consulta sobre organización y el orden","point-value":a.value[7]},{default:t(()=>[s(o,{to:"organizacionOrden",class:"sub-menu--option white btn-small"},{default:t(()=>[et]),_:1})]),_:1},8,["point-value"])])):d("",!0),r.value==3?(p(),v("div",nt,[s(l,{class:"section-donut",title:"Apoyo a la reinserción",subtitle:"Consulta sobre su rol en el apoyo a la reinserción","point-value":a.value[8]},{default:t(()=>[s(o,{to:"apoyoReinsercion",class:"sub-menu--option white btn-small"},{default:t(()=>[at]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Relación con internos",subtitle:"Consulta sobre su relación con los internos","point-value":a.value[9]},{default:t(()=>[s(o,{to:"funcionarioInternos",class:"sub-menu--option white btn-small"},{default:t(()=>[it]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Conocimiento normativas",subtitle:"Consulta sobre su conocimiento de normativas","point-value":a.value[10]},{default:t(()=>[s(o,{to:"conocimientoNormativa",class:"sub-menu--option white btn-small"},{default:t(()=>[lt]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Toma de decisiones",subtitle:"Consulta sobre la toma de decisiones","point-value":a.value[11]},{default:t(()=>[s(o,{to:"TomaDecisiones",class:"sub-menu--option white btn-small"},{default:t(()=>[ut]),_:1})]),_:1},8,["point-value"]),s(l,{class:"section-donut",title:"Cuestionario salud GHQ-12",subtitle:"Consulta de resultados cuestionario de Salud GHQ-12","point-value":a.value[12],type:5},{default:t(()=>[s(o,{to:"cuestionarioGHQFuncionario",class:"sub-menu--option white btn-small"},{default:t(()=>[ct]),_:1})]),_:1},8,["point-value"])])):d("",!0)]),e("div",rt,[r.value!==1?(p(),g(w,{key:0,class:"card-information",onClick:i[0]||(i[0]=_=>y(1))},{default:t(()=>[s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[_t,pt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[dt,mt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[bt,vt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[ft,ht]),_:1})]),_:1})):d("",!0),r.value!==2?(p(),g(w,{key:1,class:"card-information",onClick:i[1]||(i[1]=_=>y(2))},{default:t(()=>[s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[Ct,gt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[yt,wt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[Vt,kt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[xt,It]),_:1})]),_:1})):d("",!0),r.value!==3?(p(),g(w,{key:2,class:"card-information",onClick:i[2]||(i[2]=_=>y(3))},{default:t(()=>[s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[jt,Rt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[zt,Dt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[Ht,$t]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[At,Bt]),_:1}),s(o,{to:"#",class:"sub-menu--option options-bottom"},{default:t(()=>[Pt,Gt]),_:1})]),_:1})):d("",!0)])])):d("",!0)]),_:1})}}};export{Et as default};
