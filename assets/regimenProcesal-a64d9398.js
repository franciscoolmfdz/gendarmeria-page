import{_ as $}from"./CSpinner-f8021ced.js";import{r as l,d as y,o as g,e as h,w as x,_ as k,b as r,a as c,f as B}from"./index-828d6b4e.js";import{_ as L}from"./CHeaderBar-9f7183cd.js";import{_ as V}from"./CFilterbar-eefdd7fd.js";import{u as G,_ as H}from"./CCard-ddf66874.js";import{_ as N}from"./CColunmChart-f7db4373.js";import{g as O}from"./dimensionHistory-b6bfb333.js";import"./exporting-50898081.js";import"./api-7944baea.js";const R={class:"regimen-carcel"},X={class:"chart-section"},Y=c("span",{class:"card-title"},"Proporción (%) Internos reincidentes IGI ",-1),q=c("span",{class:"question--value"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam ",-1),d=4,te={__name:"regimenProcesal",setup(z){const e=G(),o=l(!1),b=l("Elementos de reinserción / Internos reincidentes IGI"),I=l({categories:["Condenado","Imputado","Procesado","Condenado","Imputado","Procesado"],plotBands:[{color:"#E5F6F6",from:-.5,to:2.5,label:{text:"Hombre",align:"center",verticalAlign:"top",style:{color:"#666666"}}},{color:"#F3E2A9",from:2.5,to:5.5,label:{text:"Mujer",align:"center",verticalAlign:"top",style:{color:"#666666"}}}]}),w=l({min:0,allowDecimals:!1,title:{text:"Reincidencia IGI"}}),F=l({column:{pointPadding:.2,borderWidth:3}}),S=l({headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0}),s=y([]),A=(t,i,a)=>y({id:t,name:i,data:a,dataLabels:{enabled:!0,color:"#fff",align:"center",y:70,style:{inside:!0,fontSize:"10px",fontFamily:"helvetica, arial, sans-serif",textShadow:!1,fontWeight:"normal"}}}),D=async t=>{o.value=!0;const i=s.filter(a=>a.id!==t);s.splice(0,s.length),i.map(a=>s.push(a)),await e.sleep(50),o.value=!1},p=async(t,i,a)=>{var u,m;try{let n=((u=e==null?void 0:e.penitenciaria)==null?void 0:u.id)??null,f=((m=e==null?void 0:e.penitenciaria)==null?void 0:m.description)??null,_=e.historyId;if(a&&(n=t,f=i),_&&n){o.value=!0;let C=await O({historyId:_,carcelId:n,categoryId:d,subCategoryId:25});const v=[];C.map(E=>{v.push(E.pound)}),s.push(A(n,f,v))}}catch(n){console.log(n)}finally{a||(o.value=!1)}},P=async()=>{o.value=!0,e.carcelesSelected&&e.carcelesSelected.length>0&&await Promise.all(e.carcelesSelected.map(async t=>await p(t.id,t.description,!0))),o.value=!1};return(t,i)=>(g(),h(k,null,{default:x(()=>[r(L,{title:b.value,"section-value":d},null,8,["title"]),r($,{"active-spin":o.value},null,8,["active-spin"]),r(V,{baseFilter:d,monthDisabled:!0,multipleDisabled:!1,onExecuteMount:P,onExecuteAction:p,onExecuteRemove:D}),c("div",R,[c("div",X,[r(H,{class:"card-information"},{default:x(()=>[Y,q]),_:1}),o.value?B("",!0):(g(),h(N,{key:0,optionsAxisX:I.value,optionsAxisY:w.value,plotOptions:F.value,tooltip:S.value,series:s},null,8,["optionsAxisX","optionsAxisY","plotOptions","tooltip","series"]))])])]),_:1}))}};export{te as default};
