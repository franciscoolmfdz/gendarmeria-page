import{r as u,o as i,c as l,a as _,b as s,w as c,v as d,d as p,e as m,f as v}from"./index-5fb026f8.js";import{a as f}from"./api-5b4ce668.js";const h="/users/validate/_authenticate",w=async(r,e)=>await f(h,"PATCH",r,e);const g={class:"row class-login"},y=s("div",{class:"container"},[s("h1",null,"Ingreso de usuario"),s("hr")],-1),b={key:0,class:"col s12 m7"},k=s("div",{class:"card horizontal"},[s("div",{class:"card-stacked"},[s("div",{class:"card-content"},[s("h5",null,"usuario o password invÃ¡lidos")])])],-1),x=[k],C={class:"row"},B={class:"input-field col s12"},U=s("label",{for:"email"},"Email",-1),V={class:"input-field col s12"},I=s("label",{for:"password"},"Password",-1),N=s("button",{class:"waves-effect waves-light btn",type:"submit"}," Ingresar ",-1),S={__name:"CLogin",setup(r){const e=u({username:"",password:"",errors:!1}),n=async()=>{if(e.password.length>=2&&e.username!="")try{const t=await w(e);t?t!=null&&t.code&&t.code===401?e.errors=!0:(e.errors=!1,console.log(t),localStorage.setItem("user",JSON.stringify(t)),m.push("/")):e.errors=!0}catch(t){console.log(t)}else return};return(t,o)=>(i(),l("div",g,[y,e.errors?(i(),l("div",b,x)):_("",!0),s("form",{onSubmit:o[2]||(o[2]=p(a=>n(),["prevent"])),class:"col s12"},[s("div",C,[s("div",B,[c(s("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.username=a),id:"email",type:"email",class:"validate"},null,512),[[d,e.username,void 0,{trim:!0}]]),U]),s("div",V,[c(s("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),id:"password",type:"password",class:"validate"},null,512),[[d,e.password,void 0,{trim:!0}]]),I])]),N],32)]))}},M={__name:"login",setup(r){return(e,n)=>(i(),v(S))}};export{M as default};
