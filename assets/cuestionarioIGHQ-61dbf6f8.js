import{i as k,h as r,r as g,o as y,f as b,j as x,_ as E,g as c,b as u,a as L}from"./index-aa05dffe.js";import{_ as N}from"./CSpinner-223de7f4.js";import{_ as B}from"./CHeaderBar-519cc880.js";import{_ as O}from"./CFilterbar-d03914c5.js";import{_ as X}from"./CCard-411be956.js";import{_ as Y}from"./CColunmChart-f483e943.js";import"./dimensionHistory-7e4bceff.js";import"./api-5f293200.js";import"./exporting-72b25a22.js";const q={class:"evaluacion-general"},z={class:"chart-section"},T=u("span",{class:"card-title"},"Promedio respuestas cuestionario General de Salud GHQ-12 de Goldberg",-1),W=u("span",{class:"question--value"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam ",-1),S=1,se={__name:"cuestionarioIGHQ",setup(j){const t=k(),s=r(!1),I=r("Calidad de vida de los internos / Cuestionario de Salud GHQ-12 de Goldberg"),w=r({categories:["Ausencia","Sospecha","Presencia","No asignado"],crosshair:!1}),G=r({min:0,allowDecimals:!1,title:{text:"Escala de frecuencia"}}),A=r({column:{pointPadding:.2,borderWidth:3}}),C=r({headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0}),a=g([]),F=(e,n,o)=>g({id:e,name:n,data:o,dataLabels:{enabled:!0,color:"#fff",align:"center",y:70,style:{inside:!0,fontSize:"10px",fontFamily:"helvetica, arial, sans-serif",textShadow:!1,fontWeight:"normal"}}}),H=async e=>{s.value=!0;const n=a.filter(o=>o.id!==e);a.splice(0,a.length),n.map(o=>a.push(o)),await t.sleep(50),s.value=!1},$=e=>{e[i]>3,e[i+1]>3,e[i+2]>3,e[i+3]>3,e[i+4]>3,e[i+5]>3,e[i+6]<3,e[i+7]<3,e[i+8]<3,e[i+9]<3,e[i+10]<3,e[i+11]<3},p=async(e,n,o)=>{var m,f;try{let l=((m=t==null?void 0:t.penitenciaria)==null?void 0:m.id)??null,_=((f=t==null?void 0:t.penitenciaria)==null?void 0:f.description)??null,v=t.historyId;if(o&&(l=e,_=n),v&&l){s.value=!0;const Q={historyId:v,carcelId:l,categoryId:1,subCategoryId:21,embedDetail:!0};let h=await getDimensionHistories(Q);const V=[];for(let d=0;d<h.length;d+12){const M=$(h,d)}a.push(F(l,_,V))}}catch(l){console.log(l)}finally{o||(s.value=!1)}},P=async()=>{s.value=!0,t.carcelesSelected&&t.carcelesSelected.length>0&&await Promise.all(t.carcelesSelected.map(async e=>await p(e.id,e.description,!0))),s.value=!1};return(e,n)=>(y(),b(E,null,{default:x(()=>[c(B,{title:I.value,"section-value":S},null,8,["title"]),c(N,{"active-spin":s.value},null,8,["active-spin"]),c(O,{baseFilter:S,multipleDisabled:!1,onExecuteMount:P,onExecuteAction:p,onExecuteRemove:H}),u("div",q,[u("div",z,[c(X,{class:"card-information"},{default:x(()=>[T,W]),_:1}),s.value?L("",!0):(y(),b(Y,{key:0,optionsAxisX:w.value,optionsAxisY:G.value,plotOptions:A.value,tooltip:C.value,series:a},null,8,["optionsAxisX","optionsAxisY","plotOptions","tooltip","series"]))])])]),_:1}))}};export{se as default};
