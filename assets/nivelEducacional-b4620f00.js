import{u as M,g as c,r as T,o as x,f as I,j as h,_ as R,m as u,n as U,b as i,a as X,l as G}from"./index-21166dae.js";import{_ as J}from"./CHeaderBar-25b66bad.js";import{_ as K}from"./CFilterbar-0fcf70e2.js";import{_ as Q}from"./subSideNav-fa8710bf.js";import{_ as S}from"./CCard-2679b4c0.js";import{_ as Y}from"./CColunmChart-e1017be9.js";import"./CButton-02a38a2a.js";import"./CChartDonutSection-87e6722c.js";const Z={class:"chart-section-principal"},E={class:"section-nivel-educ"},ee={class:"chart-section"},te=i("span",{class:"card-title"},"Pregunta",-1),se=i("span",{class:"question--value"},"FP 3 ¿Hasta qué curso llegó (en la calle)?",-1),ae={class:"ection-nivel-educ"},ie={class:"chart-section"},le=i("span",{class:"card-title"},"Suma de p3 ¿Hasta qué curso llegó (en la calle)?",-1),oe=i("span",{class:"question--value"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam ",-1),ne=i("span",{class:"card-title"},"Pregunta",-1),re=i("span",{class:"question--value"},"FP 3 ¿Hasta qué curso llegó (en la calle)?",-1),y=7,he={__name:"nivelEducacional",setup(ce){const s=M(),l=c(!1),q=c("Trayectoria / ¿Hasta qué curso llegó (en la calle)?"),B=c(""),A=c({categories:["sin estudios formales","primero básico","segundo básico","tercero básico","cuarto básico","quinto básico","sexto básico","séptimo básico","octavo básico","I medio","II medio","III medio","IV medio completo","superior incompleta","superior completa","no asignado"],crosshair:!1}),D=c({min:0,allowDecimals:!1,title:{text:"Suma por categoría"}}),F=c({column:{pointPadding:.2,borderWidth:3}}),P=c({headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0}),L=e=>{let o=0,a=0,p=0,m=0,n=0,f=0,v=0,b=0,d=0,_=0,C=0,H=0,V=0,$=0,k=0,g=null,O=0;for(let t=0;t<e.length;t++)e[t].value===-1?g+=e[t].value*-1:O+=e[t].value,e[t].value===0&&o++,e[t].value===1&&a++,e[t].value===2&&p++,e[t].value===3&&m++,e[t].value===4&&n++,e[t].value===5&&f++,e[t].value===6&&v++,e[t].value===7&&b++,e[t].value===8&&d++,e[t].value===9&&_++,e[t].value===10&&C++,e[t].value===11&&H++,e[t].value===12&&V++,e[t].value===13&&$++,e[t].value===14&&k++,e[t].value===-1&&(g+=e[t].value*-1);const j=e.length-g;return B.value=parseInt(O/j),[o,a,p,m,n,f,v,b,d,_,C,H,V,$,k,g]},r=T([]),N=(e,o,a)=>T({id:e,name:o,data:a,dataLabels:{enabled:!0,color:"#fff",align:"center",x:-15,style:{inside:!0,fontSize:"10px",fontFamily:"helvetica, arial, sans-serif",textShadow:!1,fontWeight:"normal"}}}),z=async e=>{l.value=!0;const o=r.filter(a=>a.id!==e);r.splice(0,r.length),o.map(a=>r.push(a)),await s.sleep(50),l.value=!1},w=async(e,o,a)=>{var p,m;try{let n=((p=s==null?void 0:s.penitenciaria)==null?void 0:p.id)??null,f=((m=s==null?void 0:s.penitenciaria)==null?void 0:m.description)??null,v=s.historyId;if(a&&(n=e,f=o),v&&n){l.value=!0;let d=await G({historyId:v,carcelId:n,categoryId:y,subCategoryId:23,embedDetail:!0,dimensionId:126});const _=L(d.items);r.push(N(n,f,_))}}catch(n){console.log(n)}finally{a||(l.value=!1)}},W=async()=>{l.value=!0,s.carcelesSelected&&s.carcelesSelected.length>0&&await Promise.all(s.carcelesSelected.map(async e=>await w(e.id,e.description,!0))),l.value=!1};return(e,o)=>(x(),I(R,null,{default:h(()=>[u(J,{title:q.value,"section-value":y},null,8,["title"]),u(U,{"active-spin":l.value},null,8,["active-spin"]),u(K,{baseFilter:y,multipleDisabled:!1,onExecuteMount:W,onExecuteAction:w,onExecuteRemove:z}),i("div",Z,[u(Q,{class:"ection-nivel-educacional",title:q.value,"section-value":y,pointValue:B.value,pointTitle:"FP 3 	¿Hasta qué curso llegó (en la calle)?",pointSubtitle:"",type:2},null,8,["title","pointValue"]),i("div",E,[i("div",ee,[l.value?X("",!0):(x(),I(Y,{key:0,chartType:"bar",optionsAxisX:A.value,optionsAxisY:D.value,plotOptions:F.value,tooltip:P.value,series:r},null,8,["optionsAxisX","optionsAxisY","plotOptions","tooltip","series"]))]),u(S,{class:"card-preguntas"},{default:h(()=>[te,se]),_:1})])]),i("div",ae,[i("div",ie,[u(S,{class:"card-information"},{default:h(()=>[le,oe]),_:1}),l.value?X("",!0):(x(),I(Y,{key:0,optionsAxisX:A.value,optionsAxisY:D.value,plotOptions:F.value,tooltip:P.value,series:r},null,8,["optionsAxisX","optionsAxisY","plotOptions","tooltip","series"]))]),u(S,{class:"card-preguntas"},{default:h(()=>[ne,re]),_:1})])]),_:1}))}};export{he as default};
