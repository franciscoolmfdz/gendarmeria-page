import{g as t,h as y,o as d,f as D,j as P,_ as V,l as T,q as S,m as i,b as c,x as j,c as C,a as H,e as M}from"./index-8d4f2d0d.js";import{_ as $}from"./subSideNav-6a4a3c87.js";import{_ as k}from"./CHeaderBar-7efe5fed.js";import{_ as u}from"./CButton-8c26c48a.js";import{_ as x}from"./CTable-18a4dd69.js";import{s as B}from"./filterSituacion-3793df01.js";import"./CChartDonutSection-15b10d00.js";const E={class:"selected-options"},A={key:0,class:"c-option-volver"},L={class:"table-section-principal"},I={class:"content__section"},m=3,K={__name:"dotacionPoblacion",setup(N){const n=B(),_=t(null),a=t({id:15,description:"Región Metropolitana de Santiago"}),l=t([]),r=t("Estado situación carcelaria / Dotación vs población"),f=t([{description:"Centro penitenciario",colspan:1},{description:"Dotación total",colspan:1},{description:"Total PPL. 24h",colspan:3},{description:"Capacidad según diseño (Incluye 24 hrs y juveniles)",colspan:3},{description:"Rrelación dotación/ Total PPL. 24H ",colspan:1},{description:"En % relación dotación vs total ppl",colspan:1}]),v=t([{rowReference:"establecimiento",description:""},{rowReference:"dotacionTotal",description:""},{rowReference:"totalPplHombre",description:"Hombre"},{rowReference:"totalPplMujer",description:"Mujer"},{rowReference:"totalPplTotal",description:"Total"},{rowReference:"capacidadHombre",description:"Hombre"},{rowReference:"capacidadMujer",description:"Mujer"},{rowReference:"capacidadTotal",description:"Total"},{rowReference:"dotacionRotacion",description:"(cantidad de internos por funcionario)"},{rowReference:"porcRotacionDotacion",description:""}]),b=t([]),g=()=>{M.push("/situacionCarcelaria")},w=e=>{e.map(o=>{})},p=async(e=null)=>{try{if(e){activeSpin.value=!0;let s=await T({year:2022,month:12,regionId:e,embedPopulation:!0});const h=w(s.items);optionSeries.push(newOptionsSeries(carcelId,carcelDescription,h))}}catch(o){console.log(o)}},R=async e=>{if(!n.listadoRegiones.length>0){let o=await S();l.value=o,n.setRegionesList(o)}};return y(async()=>{a.value=n.regionSelected,await R(),await p()}),(e,o)=>(d(),D(V,{class:"contenido-dotacion"},{default:P(()=>[i(k,{title:r.value,"section-value":m},null,8,["title"]),c("div",E,[i(j,{class:"select-region",options:l.value,modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=s=>a.value=s)},null,8,["options","modelValue"]),i(u,{class:"btn-search",title:"",onExecuteAction:p})]),!e.activeSpin&&e.topPosition!==0?(d(),C("div",A,[i(u,{class:"btn-volver",title:"Volver",onExecuteAction:g,disabled:e.blockButton},null,8,["disabled"])])):H("",!0),c("div",L,[i($,{class:"subsection-poblacion",title:r.value,"section-value":m,pointValue:_.value,pointTitle:"Apego institucional",pointSubtitle:"Frecuencia de respuestas apego institucional"},null,8,["title","pointValue"]),c("div",I,[i(x,{"parent-columns":f.value,columns:v.value,rows:b.value},null,8,["parent-columns","columns","rows"])])])]),_:1}))}};export{K as default};
