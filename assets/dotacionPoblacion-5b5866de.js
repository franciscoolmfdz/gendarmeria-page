import{g as t,h as w,o as R,f as b,j as d,_ as h,l as D,q as y,m as a,b as i,x as P}from"./index-21f23004.js";import{_ as T}from"./CHeaderBar-cbc33fae.js";import{_ as j}from"./CCard-83fab194.js";import{_ as x}from"./CButton-107a322a.js";import{_ as H}from"./CTable-dbea869c.js";import{s as M}from"./filterSituacion-6730afca.js";const S={class:"selected-options"},V={class:"information__section"},$=i("span",{class:"card-title"},"Dotación vs población",-1),L=i("span",null," Tasa de dotación de profesionales activos por población penitenciaria ",-1),B={class:"content__section"},C=3,O={__name:"dotacionPoblacion",setup(E){const n=M(),s=t({id:15,description:"Región Metropolitana de Santiago"}),r=t([]),p=t("Estado situación carcelaria / Dotación vs población"),u=t([{description:"Centro penitenciario",colspan:1},{description:"Dotación total",colspan:1},{description:"Total PPL. 24h",colspan:3},{description:"Capacidad según diseño (Incluye 24 hrs y juveniles)",colspan:3},{description:"Rrelación dotación/ Total PPL. 24H ",colspan:1},{description:"En % relación dotación vs total ppl",colspan:1}]),_=t([{rowReference:"establecimiento",description:""},{rowReference:"dotacionTotal",description:""},{rowReference:"totalPplHombre",description:"Hombre"},{rowReference:"totalPplMujer",description:"Mujer"},{rowReference:"totalPplTotal",description:"Total"},{rowReference:"capacidadHombre",description:"Hombre"},{rowReference:"capacidadMujer",description:"Mujer"},{rowReference:"capacidadTotal",description:"Total"},{rowReference:"dotacionRotacion",description:"(cantidad de internos por funcionario)"},{rowReference:"porcRotacionDotacion",description:""}]),m=t([]),f=o=>{o.map(e=>{})},l=async(o=null)=>{try{if(o){activeSpin.value=!0;let c=await D({year:2022,month:12,regionId:o,embedPopulation:!0});const g=f(c.items);optionSeries.push(newOptionsSeries(carcelId,carcelDescription,g))}}catch(e){console.log(e)}},v=async o=>{if(!n.listadoRegiones.length>0){let e=await y();r.value=e,n.setRegionesList(e)}};return w(async()=>{s.value=n.regionSelected,await v(),await l()}),(o,e)=>(R(),b(h,{class:"contenido-dotacion"},{default:d(()=>[a(T,{title:p.value,"section-value":C},null,8,["title"]),i("div",S,[a(P,{class:"select-region",options:r.value,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=c=>s.value=c)},null,8,["options","modelValue"]),a(x,{class:"btn-search",title:"",onExecuteAction:l})]),i("div",V,[a(j,{class:"card-information"},{default:d(()=>[$,L]),_:1})]),i("div",B,[a(H,{"parent-columns":u.value,columns:_.value,rows:m.value},null,8,["parent-columns","columns","rows"])])]),_:1}))}};export{O as default};
