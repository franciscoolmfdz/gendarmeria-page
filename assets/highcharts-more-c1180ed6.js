import{f as gt,g as ct}from"./index-22552132.js";var ft=gt();const bt=ct(ft);var ut={exports:{}};(function(dt){(function(c){dt.exports?(c.default=c,dt.exports=c):c(typeof Highcharts<"u"?Highcharts:void 0)})(function(c){function et(n,u,g,b){n.hasOwnProperty(u)||(n[u]=b.apply(null,g),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:n[u]}})))}c=c?c._modules:{},et(c,"Extensions/Pane.js",[c["Core/Chart/Chart.js"],c["Series/CenteredUtilities.js"],c["Core/Globals.js"],c["Core/Pointer.js"],c["Core/Utilities.js"]],function(n,u,g,b,x){function M(i,t,s,r,o){let d=!0;const v=s[0],m=s[1],h=Math.sqrt(Math.pow(i-v,2)+Math.pow(t-m,2));return _(r)&&_(o)&&(i=Math.atan2(F(t-m,8),F(i-v,8)),o!==r&&(d=r>o?i>=r&&i<=Math.PI||i<=o&&i>=-Math.PI:i>=r&&i<=F(o,8))),h<=Math.ceil(s[2]/2)&&d}const{addEvent:I,correctFloat:F,defined:_,extend:L,merge:W,pick:N,splat:D}=x;n.prototype.collectionsWithUpdate.push("pane");class K{constructor(t,s){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,s)}init(t,s){this.chart=s,this.background=[],s.pane.push(this),this.setOptions(t)}setOptions(t){this.options=W(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)}render(){var t=this.options;let s=this.options.background;var r=this.chart.renderer;if(this.group||(this.group=r.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),s)for(s=D(s),t=Math.max(s.length,this.background.length||0),r=0;r<t;r++)s[r]&&this.axis?this.renderBackground(W(this.defaultBackgroundOptions,s[r]),r):this.background[r]&&(this.background[r]=this.background[r].destroy(),this.background.splice(r,1))}renderBackground(t,s){let r="animate",o={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||L(o,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[s]||(this.background[s]=this.chart.renderer.path().add(this.group),r="attr"),this.background[s][r]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(o)}updateCenter(t){this.center=(t||this.axis||{}).center=u.getCenter.call(this)}update(t,s){W(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(r){r.pane===this&&(r.pane=null,r.update({},s))},this)}}return n.prototype.getHoverPane=function(i){const t=this;let s;return i&&t.pane.forEach(r=>{M(i.chartX-t.plotLeft,i.chartY-t.plotTop,r.center)&&(s=r)}),s},I(n,"afterIsInsidePlot",function(i){this.polar&&(i.options.inverted&&([i.x,i.y]=[i.y,i.x]),i.isInsidePlot=this.pane.some(t=>M(i.x,i.y,t.center,t.axis&&t.axis.normalizedStartAngleRad,t.axis&&t.axis.normalizedEndAngleRad)))}),I(b,"beforeGetHoverData",function(i){const t=this.chart;t.polar?(t.hoverPane=t.getHoverPane(i),i.filter=function(s){return s.visible&&!(!i.shared&&s.directTouch)&&N(s.options.enableMouseTracking,!0)&&(!t.hoverPane||s.xAxis.pane===t.hoverPane)}):t.hoverPane=void 0}),I(b,"afterGetHoverData",function(i){const t=this.chart;i.hoverPoint&&i.hoverPoint.plotX&&i.hoverPoint.plotY&&t.hoverPane&&!M(i.hoverPoint.plotX,i.hoverPoint.plotY,t.hoverPane.center)&&(i.hoverPoint=void 0)}),g.Pane=K,g.Pane}),et(c,"Series/AreaRange/AreaRangePoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u){const{area:{prototype:{pointClass:g,pointClass:{prototype:b}}}}=n.seriesTypes,{defined:x,isNumber:M}=u;class I extends g{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const _=this.state,L=this.series,W=L.chart.polar;x(this.plotHigh)||(this.plotHigh=L.yAxis.toPixels(this.high,!0)),x(this.plotLow)||(this.plotLow=this.plotY=L.yAxis.toPixels(this.low,!0)),L.stateMarkerGraphic&&(L.lowerStateMarkerGraphic=L.stateMarkerGraphic,L.stateMarkerGraphic=L.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,W&&M(this.plotHighX)&&(this.plotX=this.plotHighX),b.setState.apply(this,arguments),this.state=_,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],W&&M(this.plotLowX)&&(this.plotX=this.plotLowX),L.stateMarkerGraphic&&(L.upperStateMarkerGraphic=L.stateMarkerGraphic,L.stateMarkerGraphic=L.lowerStateMarkerGraphic,L.lowerStateMarkerGraphic=void 0),b.setState.apply(this,arguments)}haloPath(){const _=this.series.chart.polar;let L=[];return this.plotY=this.plotLow,_&&M(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(L=b.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,_&&M(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(L=L.concat(b.haloPath.apply(this,arguments))),L}isValid(){return M(this.low)&&M(this.high)}}return I}),et(c,"Series/AreaRange/AreaRangeSeries.js",[c["Series/AreaRange/AreaRangePoint.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g,b){({noop:u}=u);const{area:x,area:{prototype:M},column:{prototype:I}}=g.seriesTypes,{addEvent:F,defined:_,extend:L,isArray:W,isNumber:N,pick:D,merge:K}=b;class i extends x{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(s){return[s.low,s.high]}highToXY(s){const r=this.chart,o=this.xAxis.postTranslate(s.rectPlotX||0,this.yAxis.len-(s.plotHigh||0));s.plotHighX=o.x-r.plotLeft,s.plotHigh=o.y-r.plotTop,s.plotLowX=s.plotX}getGraphPath(s){var r=[],o=[];const d=M.getGraphPath;var v=this.options;const m=this.chart.polar,h=m&&v.connectEnds!==!1,P=v.connectNulls;let C,T,E,e=v.step;for(s=s||this.points,C=s.length;C--;){T=s[C];const a=m?{plotX:T.rectPlotX,plotY:T.yBottom,doCurve:!1}:{plotX:T.plotX,plotY:T.plotY,doCurve:!1};T.isNull||h||P||s[C+1]&&!s[C+1].isNull||o.push(a),E={polarPlotY:T.polarPlotY,rectPlotX:T.rectPlotX,yBottom:T.yBottom,plotX:D(T.plotHighX,T.plotX),plotY:T.plotHigh,isNull:T.isNull},o.push(E),r.push(E),T.isNull||h||P||s[C-1]&&!s[C-1].isNull||o.push(a)}return s=d.call(this,s),e&&(e===!0&&(e="left"),v.step={left:"right",center:"center",right:"left"}[e]),r=d.call(this,r),o=d.call(this,o),v.step=e,v=[].concat(s,r),!this.chart.polar&&o[0]&&o[0][0]==="M"&&(o[0]=["L",o[0][1],o[0][2]]),this.graphPath=v,this.areaPath=s.concat(o),v.isArea=!0,v.xMap=s.xMap,this.areaPath.xMap=s.xMap,v}drawDataLabels(){const s=this.points,r=s.length,o=[],d=this.options.dataLabels,v=this.chart.inverted;let m,h,P,C,T;if(d){if(W(d)?(C=d[0]||{enabled:!1},T=d[1]||{enabled:!1}):(C=L({},d),C.x=d.xHigh,C.y=d.yHigh,T=L({},d),T.x=d.xLow,T.y=d.yLow),C.enabled||this._hasPointLabels){for(m=r;m--;)if(h=s[m]){const{plotHigh:E=0,plotLow:e=0}=h;P=C.inside?E<e:E>e,h.y=h.high,h._plotY=h.plotY,h.plotY=E,o[m]=h.dataLabel,h.dataLabel=h.dataLabelUpper,h.below=P,v?C.align||(C.align=P?"right":"left"):C.verticalAlign||(C.verticalAlign=P?"top":"bottom")}for(this.options.dataLabels=C,M.drawDataLabels&&M.drawDataLabels.apply(this,arguments),m=r;m--;)(h=s[m])&&(h.dataLabelUpper=h.dataLabel,h.dataLabel=o[m],delete h.dataLabels,h.y=h.low,h.plotY=h._plotY)}if(T.enabled||this._hasPointLabels){for(m=r;m--;)if(h=s[m]){const{plotHigh:E=0,plotLow:e=0}=h;P=T.inside?E<e:E>e,h.below=!P,v?T.align||(T.align=P?"left":"right"):T.verticalAlign||(T.verticalAlign=P?"bottom":"top")}this.options.dataLabels=T,M.drawDataLabels&&M.drawDataLabels.apply(this,arguments)}if(C.enabled)for(m=r;m--;)(h=s[m])&&(h.dataLabels=[h.dataLabelUpper,h.dataLabel].filter(function(E){return!!E}));this.options.dataLabels=d}}alignDataLabel(){I.alignDataLabel.apply(this,arguments)}drawPoints(){const s=this.points.length;let r,o;for(M.drawPoints.apply(this,arguments),r=0;r<s;)o=this.points[r],o.graphics=o.graphics||[],o.origProps={plotY:o.plotY,plotX:o.plotX,isInside:o.isInside,negative:o.negative,zone:o.zone,y:o.y},(o.graphic||o.graphics[0])&&(o.graphics[0]=o.graphic),o.graphic=o.graphics[1],o.plotY=o.plotHigh,_(o.plotHighX)&&(o.plotX=o.plotHighX),o.y=D(o.high,o.origProps.y),o.negative=o.y<(this.options.threshold||0),this.zones.length&&(o.zone=o.getZone()),this.chart.polar||(o.isInside=o.isTopInside=typeof o.plotY<"u"&&0<=o.plotY&&o.plotY<=this.yAxis.len&&0<=o.plotX&&o.plotX<=this.xAxis.len),r++;for(M.drawPoints.apply(this,arguments),r=0;r<s;)o=this.points[r],o.graphics=o.graphics||[],(o.graphic||o.graphics[1])&&(o.graphics[1]=o.graphic),o.graphic=o.graphics[0],o.origProps&&(L(o,o.origProps),delete o.origProps),r++}}return i.defaultOptions=K(x.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),F(i,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(t=>{const s=t.high,r=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=r,t.plotHigh=N(s)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(s):s,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))})},{order:0}),F(i,"afterTranslate",function(){this.points.forEach(t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{const s=t.pos(!1,t.plotLow),r=t.pos(!1,t.plotHigh);s&&r&&(s[0]=(s[0]+r[0])/2,s[1]=(s[1]+r[1])/2),t.tooltipPos=s}})},{order:3}),L(i.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:n,pointValKey:"low",setStackedPoints:u}),g.registerSeriesType("arearange",i),i}),et(c,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[c["Series/AreaRange/AreaRangeSeries.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g){const{spline:{prototype:b}}=u.seriesTypes,{merge:x,extend:M}=g;class I extends n{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return I.defaultOptions=x(n.defaultOptions),M(I.prototype,{getPointSpline:b.getPointSpline}),u.registerSeriesType("areasplinerange",I),I}),et(c,"Series/BoxPlot/BoxPlotSeries.js",[c["Series/Column/ColumnSeries.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g,b){({noop:u}=u);const{extend:x,merge:M,pick:I}=b;class F extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const L=this.yAxis,W=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(N){W.forEach(function(D){N[D]!==null&&(N[D+"Plot"]=L.translate(N[D],0,1,0,1))}),N.plotHigh=N.highPlot})}drawPoints(){let L=this,W=L.options,N=L.chart,D=N.renderer,K,i,t,s,r,o,d=0,v,m,h,P,C=L.doQuartiles!==!1,T,E=L.options.whiskerLength;L.points.forEach(function(e){var a=e.graphic;let f=a?"animate":"attr",S=e.shapeArgs,y={},X={},B={},O={},tt=e.color||L.color;typeof e.plotY<"u"&&(v=Math.round(S.width),m=Math.floor(S.x),h=m+v,P=Math.round(v/2),K=Math.floor(C?e.q1Plot:e.lowPlot),i=Math.floor(C?e.q3Plot:e.lowPlot),t=Math.floor(e.highPlot),s=Math.floor(e.lowPlot),a||(e.graphic=a=D.g("point").add(L.group),e.stem=D.path().addClass("highcharts-boxplot-stem").add(a),E&&(e.whiskers=D.path().addClass("highcharts-boxplot-whisker").add(a)),C&&(e.box=D.path(void 0).addClass("highcharts-boxplot-box").add(a)),e.medianShape=D.path(void 0).addClass("highcharts-boxplot-median").add(a)),N.styledMode||(X.stroke=e.stemColor||W.stemColor||tt,X["stroke-width"]=I(e.stemWidth,W.stemWidth,W.lineWidth),X.dashstyle=e.stemDashStyle||W.stemDashStyle||W.dashStyle,e.stem.attr(X),E&&(B.stroke=e.whiskerColor||W.whiskerColor||tt,B["stroke-width"]=I(e.whiskerWidth,W.whiskerWidth,W.lineWidth),B.dashstyle=e.whiskerDashStyle||W.whiskerDashStyle||W.dashStyle,e.whiskers.attr(B)),C&&(y.fill=e.fillColor||W.fillColor||tt,y.stroke=W.lineColor||tt,y["stroke-width"]=W.lineWidth||0,y.dashstyle=e.boxDashStyle||W.boxDashStyle||W.dashStyle,e.box.attr(y)),O.stroke=e.medianColor||W.medianColor||tt,O["stroke-width"]=I(e.medianWidth,W.medianWidth,W.lineWidth),O.dashstyle=e.medianDashStyle||W.medianDashStyle||W.dashStyle,e.medianShape.attr(O)),o=e.stem.strokeWidth()%2/2,d=m+P+o,a=[["M",d,i],["L",d,t],["M",d,K],["L",d,s]],e.stem[f]({d:a}),C&&(o=e.box.strokeWidth()%2/2,K=Math.floor(K)+o,i=Math.floor(i)+o,m+=o,h+=o,a=[["M",m,i],["L",m,K],["L",h,K],["L",h,i],["L",m,i],["Z"]],e.box[f]({d:a})),E&&(o=e.whiskers.strokeWidth()%2/2,t+=o,s+=o,T=/%$/.test(E)?P*parseFloat(E)/100:E/2,a=[["M",d-T,t],["L",d+T,t],["M",d-T,s],["L",d+T,s]],e.whiskers[f]({d:a})),r=Math.round(e.medianPlot),o=e.medianShape.strokeWidth()%2/2,r+=o,a=[["M",m,r],["L",h,r]],e.medianShape[f]({d:a}))})}toYData(L){return[L.low,L.q1,L.median,L.q3,L.high]}}return F.defaultOptions=M(n.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),x(F.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:u,setStackedPoints:u}),g.registerSeriesType("boxplot",F),F}),et(c,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.7em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),et(c,"Series/Bubble/BubbleLegendItem.js",[c["Core/Color/Color.js"],c["Core/FormatUtilities.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(n,u,g,b){const{parse:x}=n,{noop:M}=g,{arrayMax:I,arrayMin:F,isNumber:_,merge:L,pick:W,stableSort:N}=b;class D{constructor(i,t){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=M,this.init(i,t)}init(i,t){this.options=i,this.visible=!0,this.chart=t.chart,this.legend=t}addToLegend(i){i.splice(this.options.legendIndex,0,this)}drawLegendSymbol(i){const t=W(i.options.itemDistance,20),s=this.legendItem||{},r=this.options;var o=r.ranges,d=r.connectorDistance;if(o&&o.length&&_(o[0].value)){N(o,function(m,h){return h.value-m.value}),this.ranges=o,this.setOptions(),this.render(),i=this.getMaxLabelSize();var v=this.ranges[0].radius;o=2*v,d=d-v+i.width,d=0<d?d:0,this.maxLabel=i,this.movementX=r.labels.align==="left"?d:0,s.labelWidth=o+d+t,s.labelHeight=o+i.height/2}else i.options.bubbleLegend.autoRanges=!0}setOptions(){const i=this.ranges,t=this.options,s=this.chart.series[t.seriesIndex],r=this.legend.baseline,o={zIndex:t.zIndex,"stroke-width":t.borderWidth},d={zIndex:t.zIndex,"stroke-width":t.connectorWidth},v={align:this.legend.options.rtl||t.labels.align==="left"?"right":"left",zIndex:t.zIndex},m=s.options.marker.fillOpacity,h=this.chart.styledMode;i.forEach(function(P,C){h||(o.stroke=W(P.borderColor,t.borderColor,s.color),o.fill=W(P.color,t.color,m!==1?x(s.color).setOpacity(m).get("rgba"):s.color),d.stroke=W(P.connectorColor,t.connectorColor,s.color)),i[C].radius=this.getRangeRadius(P.value),i[C]=L(i[C],{center:i[0].radius-i[C].radius+r}),h||L(!0,i[C],{bubbleAttribs:L(o),connectorAttribs:L(d),labelAttribs:v})},this)}getRangeRadius(i){const t=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,t.ranges[t.ranges.length-1].value,t.ranges[0].value,t.minSize,t.maxSize,i)}render(){const i=this.legendItem||{},t=this.chart.renderer,s=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),i.symbol=t.g("bubble-legend"),i.label=t.g("bubble-legend-item"),i.symbol.translateX=0,i.symbol.translateY=0,i.symbol.add(i.label),i.label.add(i.group);for(const r of this.ranges)r.value>=s&&this.renderRange(r);this.hideOverlappingLabels()}renderRange(i){var t=this.options;const s=t.labels;var r=this.chart;const o=r.series[t.seriesIndex],d=r.renderer,v=this.symbols;r=v.labels;const m=i.center,h=Math.abs(i.radius);var P=t.connectorDistance||0;const C=s.align,T=t.connectorWidth,E=this.ranges[0].radius||0,e=m-h-t.borderWidth/2+T/2,a=d.styledMode;P=this.legend.options.rtl||C==="left"?-P:P,C==="center"&&(P=0,t.connectorDistance=0,i.labelAttribs.align="center"),v.bubbleItems.push(d.circle(E,m+((e%1?1:.5)-(T%2?0:.5)),h).attr(a?{}:i.bubbleAttribs).addClass((a?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(t.className||"")).add(this.legendItem.symbol)),v.connectors.push(d.path(d.crispLine([["M",E,e],["L",E+P,e]],t.connectorWidth)).attr(a?{}:i.connectorAttribs).addClass((a?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(t.connectorClassName||"")).add(this.legendItem.symbol)),i=d.text(this.formatLabel(i)).attr(a?{}:i.labelAttribs).css(a?{}:s.style).addClass("highcharts-bubble-legend-labels "+(t.labels.className||"")).add(this.legendItem.symbol),t={x:E+P+t.labels.x,y:e+t.labels.y+.4*i.getBBox().height},i.attr(t),r.push(i),i.placed=!0,i.alignAttr=t}getMaxLabelSize(){let i,t;return this.symbols.labels.forEach(function(s){t=s.getBBox(!0),i=i?t.width>i.width?t:i:t}),i||{}}formatLabel(i){var t=this.options;const s=t.labels.formatter;t=t.labels.format;const{numberFormatter:r}=this.chart;return t?u.format(t,i):s?s.call(i):r(i.value,1)}hideOverlappingLabels(){const i=this.chart,t=this.symbols;!this.options.labels.allowOverlap&&t&&(i.hideOverlappingLabels(t.labels),t.labels.forEach(function(s,r){s.newOpacity?s.newOpacity!==s.oldOpacity&&t.connectors[r].show():t.connectors[r].hide()}))}getRanges(){const i=this.legend.bubbleLegend,t=i.options.ranges;let s,r,o=Number.MAX_VALUE,d=-Number.MAX_VALUE;return i.chart.series.forEach(function(v){v.isBubble&&!v.ignoreSeries&&(r=v.zData.filter(_),r.length&&(o=W(v.options.zMin,Math.min(o,Math.max(F(r),v.options.displayNegative===!1?v.options.zThreshold:-Number.MAX_VALUE))),d=W(v.options.zMax,Math.max(d,I(r)))))}),s=o===d?[{value:d}]:[{value:o},{value:(o+d)/2},{value:d,autoRanges:!0}],t.length&&t[0].radius&&s.reverse(),s.forEach(function(v,m){t&&t[m]&&(s[m]=L(t[m],v))}),s}predictBubbleSizes(){var i=this.chart,t=i.legend.options,s=t.floating;const r=(t=t.layout==="horizontal")?i.legend.lastLineHeight:0,o=i.plotSizeX,d=i.plotSizeY;var v=i.series[this.options.seriesIndex],m=v.getPxExtremes();i=Math.ceil(m.minPxSize),m=Math.ceil(m.maxPxSize);const h=Math.min(d,o);return v=v.options.maxSize,s||!/%$/.test(v)?s=m:(v=parseFloat(v),s=(h+r)*v/100/(v/100+1),(t&&d-s>=o||!t&&o-s>=d)&&(s=m)),[i,Math.ceil(s)]}updateRanges(i,t){const s=this.legend.options.bubbleLegend;s.minSize=i,s.maxSize=t,s.ranges=this.getRanges()}correctSizes(){const i=this.legend,t=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(t.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,t.maxPxSize),i.render())}}return D}),et(c,"Series/Bubble/BubbleLegendComposition.js",[c["Series/Bubble/BubbleLegendDefaults.js"],c["Series/Bubble/BubbleLegendItem.js"],c["Core/Defaults.js"],c["Core/Utilities.js"]],function(n,u,g,b){function x(t,s,r){const o=this.legend;var d=0<=M(this);let v,m;o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&d?(v=o.bubbleLegend.options,d=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(d[0],d[1]),v.placed||(o.group.placed=!1,o.allItems.forEach(h=>{m=h.legendItem||{},m.group&&(m.group.translateY=null)})),o.render(),this.getMargins(),this.axes.forEach(function(h){h.visible&&h.render(),v.placed||(h.setScale(),h.updateNames(),D(h.ticks,function(P){P.isNew=!0,P.isNewLabel=!0}))}),v.placed=!0,this.getMargins(),t.call(this,s,r),o.bubbleLegend.correctSizes(),L(o,I(o))):(t.call(this,s,r),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),L(o,I(o))))}function M(t){t=t.series;let s=0;for(;s<t.length;){if(t[s]&&t[s].isBubble&&t[s].visible&&t[s].zData.length)return s;s++}return-1}function I(t){t=t.allItems;const s=[],r=t.length;let o,d,v=0;for(d=0;d<r;d++){var m=t[d].legendItem||{};if(o=(t[d+1]||{}).legendItem||{},m.labelHeight&&(t[d].itemHeight=m.labelHeight),t[d]===t[r-1]||m.y!==o.y){for(s.push({height:0}),m=s[s.length-1],v;v<=d;v++)t[v].itemHeight>m.height&&(m.height=t[v].itemHeight);m.step=d}}return s}function F(t){const s=this.bubbleLegend,r=this.options,o=r.bubbleLegend,d=M(this.chart);s&&s.ranges&&s.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(s)),0<=d&&r.enabled&&o.enabled&&(o.seriesIndex=d,this.bubbleLegend=new u(o,this),this.bubbleLegend.addToLegend(t.allItems))}function _(t){if(t.defaultPrevented)return!1;var s=this.chart;t=this.visible;const r=this.chart.legend;r&&r.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,s=0<=M(s),r.bubbleLegend.visible!==s&&(r.update({bubbleLegend:{enabled:s}}),r.bubbleLegend.visible=s),this.visible=t)}function L(t,s){const r=t.options.rtl;let o,d,v,m,h=0;t.allItems.forEach((P,C)=>{m=P.legendItem||{},m.group&&(o=m.group.translateX||0,d=m.y||0,((v=P.movementX)||r&&P.ranges)&&(v=r?o-P.options.maxSize/2:o+v,m.group.attr({translateX:v})),C>s[h].step&&h++,m.group.attr({translateY:Math.round(d+s[h].height/2)}),m.y=d+s[h].height/2)})}const{setOptions:W}=g,{addEvent:N,objectEach:D,wrap:K}=b,i=[];return{compose:function(t,s,r){b.pushUnique(i,t)&&(W({legend:{bubbleLegend:n}}),K(t.prototype,"drawChartBox",x)),b.pushUnique(i,s)&&N(s,"afterGetAllItems",F),b.pushUnique(i,r)&&N(r,"legendItemClick",_)}}}),et(c,"Series/Bubble/BubblePoint.js",[c["Core/Series/Point.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g){({seriesTypes:{scatter:{prototype:{pointClass:u}}}}=u),{extend:g}=g;class b extends u{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(M){return n.prototype.haloPath.call(this,M===0?0:(this.marker&&this.marker.radius||0)+M)}}return g(b.prototype,{ttBelow:!1}),b}),et(c,"Series/Bubble/BubbleSeries.js",[c["Series/Bubble/BubbleLegendComposition.js"],c["Series/Bubble/BubblePoint.js"],c["Core/Color/Color.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g,b,x,M){function I(){const m=this.len,h=this.chart,P=this.isXAxis,C=P?"xData":"yData",T=this.min,E=this.max-T;let e=0,a=m,f=m/E,S;this.series.forEach(y=>{if(y.bubblePadding&&(y.visible||!h.options.chart.ignoreHiddenSeries)){S=this.allowZoomOutside=!0;const X=y[C];if(P&&((y.onPoint||y).getRadii(0,0,y),y.onPoint&&(y.radii=y.onPoint.radii)),0<E){let B=X.length;for(;B--;)if(s(X[B])&&this.dataMin<=X[B]&&X[B]<=this.max){const O=y.radii&&y.radii[B]||0;e=Math.min((X[B]-T)*f-O,e),a=Math.max((X[B]-T)*f+O,a)}}}}),S&&0<E&&!this.logarithmic&&(a-=m,f*=(m+Math.max(0,e)-Math.min(a,m))/m,[["min","userMin",e],["max","userMax",a]].forEach(y=>{typeof o(this.options[y[0]],this[y[1]])>"u"&&(this[y[0]]+=y[2]/f)}))}const{parse:F}=g;({noop:g}=b);const{series:_,seriesTypes:{column:{prototype:L},scatter:W}}=x,{addEvent:N,arrayMax:D,arrayMin:K,clamp:i,extend:t,isNumber:s,merge:r,pick:o}=M,d=[];class v extends W{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(h,P,C,T){n.compose(P,C,T),M.pushUnique(d,h)&&(h.prototype.beforePadding=I)}animate(h){!h&&this.points.length<this.options.animationLimit&&this.points.forEach(function(P){const{graphic:C}=P;C&&C.width&&(this.hasRendered||C.attr({x:P.plotX,y:P.plotY,width:1,height:1}),C.animate(this.markerAttribs(P),this.options.animation))},this)}getRadii(){const h=this.zData,P=this.yData,C=[];let T,E,e,a=this.chart.bubbleZExtremes;const{minPxSize:f,maxPxSize:S}=this.getPxExtremes();if(!a){let y=Number.MAX_VALUE,X=-Number.MAX_VALUE,B;this.chart.series.forEach(O=>{O.bubblePadding&&(O.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(O=(O.onPoint||O).getZExtremes())&&(y=Math.min(o(y,O.zMin),O.zMin),X=Math.max(o(X,O.zMax),O.zMax),B=!0)}),B?(a={zMin:y,zMax:X},this.chart.bubbleZExtremes=a):a={zMin:0,zMax:0}}for(E=0,T=h.length;E<T;E++)e=h[E],C.push(this.getRadius(a.zMin,a.zMax,f,S,e,P&&P[E]));this.radii=C}getRadius(h,P,C,T,E,e){const a=this.options,f=a.sizeBy!=="width",S=a.zThreshold;let y=P-h,X=.5;if(e===null||E===null)return null;if(s(E)){if(a.sizeByAbsoluteValue&&(E=Math.abs(E-S),y=Math.max(P-S,Math.abs(h-S)),h=0),E<h)return C/2-1;0<y&&(X=(E-h)/y)}return f&&0<=X&&(X=Math.sqrt(X)),Math.ceil(C+X*(T-C))/2}hasData(){return!!this.processedXData.length}pointAttribs(h,P){const C=this.options.marker.fillOpacity;return h=_.prototype.pointAttribs.call(this,h,P),C!==1&&(h.fill=F(h.fill).setOpacity(C).get("rgba")),h}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:h,radii:P}=this,{minPxSize:C}=this.getPxExtremes();let T=h.length;for(;T--;){const E=h[T],e=P?P[T]:0;s(e)&&e>=C/2?(E.marker=t(E.marker,{radius:e,width:2*e,height:2*e}),E.dlBox={x:E.plotX-e,y:E.plotY-e,width:2*e,height:2*e}):(E.shapeArgs=E.plotY=E.dlBox=void 0,E.isInside=!1)}}getPxExtremes(){const h=Math.min(this.chart.plotWidth,this.chart.plotHeight);var P=T=>{let E;return typeof T=="string"&&(E=/%$/.test(T),T=parseInt(T,10)),E?h*T/100:T};const C=P(o(this.options.minSize,8));return P=Math.max(P(o(this.options.maxSize,"20%")),C),{minPxSize:C,maxPxSize:P}}getZExtremes(){var h=this.options;const P=(this.zData||[]).filter(s);if(P.length){const C=o(h.zMin,i(K(P),h.displayNegative===!1?h.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(h=o(h.zMax,D(P)),s(C)&&s(h))return{zMin:C,zMax:h}}}}return v.defaultOptions=r(W.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:m}=this.series.chart,{z:h}=this.point;return s(h)?m(h,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),t(v.prototype,{alignDataLabel:L.alignDataLabel,applyZones:g,bubblePadding:!0,buildKDTree:g,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:u,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),N(v,"updatedData",m=>{delete m.target.chart.bubbleZExtremes}),N(v,"remove",m=>{delete m.target.chart.bubbleZExtremes}),x.registerSeriesType("bubble",v),v}),et(c,"Series/ColumnRange/ColumnRangePoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u){const{seriesTypes:{column:{prototype:{pointClass:{prototype:g}}},arearange:{prototype:{pointClass:b}}}}=n,{extend:x,isNumber:M}=u;class I extends b{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return M(this.low)}}return x(I.prototype,{setState:g.setState}),I}),et(c,"Series/ColumnRange/ColumnRangeSeries.js",[c["Series/ColumnRange/ColumnRangePoint.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g,b){({noop:u}=u);const{seriesTypes:{arearange:x,column:M,column:{prototype:I}}}=g,{addEvent:F,clamp:_,extend:L,isNumber:W,merge:N,pick:D}=b;class K extends x{setOptions(){return N(!0,arguments[0],{stacking:void 0}),x.prototype.setOptions.apply(this,arguments)}translate(){return I.translate.apply(this)}pointAttribs(){return I.pointAttribs.apply(this,arguments)}translate3dPoints(){return I.translate3dPoints.apply(this,arguments)}translate3dShapes(){return I.translate3dShapes.apply(this,arguments)}}return K.defaultOptions=N(M.defaultOptions,x.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),F(K,"afterColumnTranslate",function(){const i=this.yAxis,t=this.xAxis,s=t.startAngleRad,r=this.chart,o=this.xAxis.isRadial,d=Math.max(r.chartWidth,r.chartHeight)+999;let v,m,h,P;this.points.forEach(C=>{const T=C.shapeArgs||{},E=this.options.minPointLength,e=C.plotY,a=i.translate(C.high,0,1,0,1);if(W(a)&&W(e))if(C.plotHigh=_(a,-d,d),C.plotLow=_(e,-d,d),P=C.plotHigh,v=D(C.rectPlotY,C.plotY)-C.plotHigh,Math.abs(v)<E?(m=E-v,v+=m,P-=m/2):0>v&&(v*=-1,P-=v),o&&this.polar)h=C.barX+s,C.shapeType="arc",C.shapeArgs=this.polar.arc(P+v,P,h,h+C.pointWidth);else{T.height=v,T.y=P;const{x:f=0,width:S=0}=T;C.shapeArgs=N(C.shapeArgs,this.crispCol(f,P,S,v)),C.tooltipPos=r.inverted?[i.len+i.pos-r.plotLeft-P-v/2,t.len+t.pos-r.plotTop-f-S/2,v]:[t.left-r.plotLeft+f+S/2,i.pos-r.plotTop+P+v/2,v]}})},{order:5}),L(K.prototype,{directTouch:!0,pointClass:n,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:I.adjustForMissingColumns,animate:I.animate,crispCol:I.crispCol,drawGraph:u,drawPoints:I.drawPoints,getSymbol:u,drawTracker:I.drawTracker,getColumnMetrics:I.getColumnMetrics}),g.registerSeriesType("columnrange",K),K}),et(c,"Series/ColumnPyramid/ColumnPyramidSeries.js",[c["Series/Column/ColumnSeries.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g){const{prototype:b}=n,{clamp:x,merge:M,pick:I}=g;class F extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let L=this,W=L.chart,N=L.options;var D=L.dense=2>L.closestPointRange*L.xAxis.transA;D=L.borderWidth=I(N.borderWidth,D?0:1);let K=L.yAxis,i=N.threshold,t=L.translatedThreshold=K.getThreshold(i),s=I(N.minPointLength,5),r=L.getColumnMetrics(),o=r.width,d=L.barW=Math.max(o,1+2*D),v=L.pointXOffset=r.offset;W.inverted&&(t-=.5),N.pointPadding&&(d=Math.ceil(d)),b.translate.apply(L),L.points.forEach(function(m){var h=I(m.yBottom,t),P=999+Math.abs(h),C=x(m.plotY,-P,K.len+P);P=m.plotX+v;let T=d/2,E=Math.min(C,h);h=Math.max(C,h)-E;var e;let a,f;m.barX=P,m.pointWidth=o,m.tooltipPos=W.inverted?[K.len+K.pos-W.plotLeft-C,L.xAxis.len-P-T,h]:[P+T,C+K.pos-W.plotTop,h],C=i+(m.total||m.y),N.stacking==="percent"&&(C=i+(0>m.y)?-100:100),C=K.toPixels(C,!0);var S=(e=W.plotHeight-C-(W.plotHeight-t))?T*(E-C)/e:0,y=e?T*(E+h-C)/e:0;e=P-S+T,S=P+S+T;var X=P+y+T;y=P-y+T,a=E-s,f=E+h,0>m.y&&(a=E,f=E+h+s),W.inverted&&(X=K.width-E,e=C-(K.width-t),S=T*(C-X)/e,y=T*(C-(X-h))/e,e=P+T+S,S=e-2*S,X=P-y+T,y=P+y+T,a=E,f=E+h-s,0>m.y&&(f=E+h+s)),m.shapeType="path",m.shapeArgs={x:e,y:a,width:S-e,height:h,d:[["M",e,a],["L",S,a],["L",X,f],["L",y,f],["Z"]]}})}}return F.defaultOptions=M(n.defaultOptions,{}),u.registerSeriesType("columnpyramid",F),F}),et(c,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),et(c,"Series/ErrorBar/ErrorBarSeries.js",[c["Series/BoxPlot/BoxPlotSeries.js"],c["Series/Column/ColumnSeries.js"],c["Series/ErrorBar/ErrorBarSeriesDefaults.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g,b,x){const{arearange:M}=b.seriesTypes,{addEvent:I,merge:F,extend:_}=x;class L extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||u.prototype.getColumnMetrics.call(this)}drawDataLabels(){const N=this.pointValKey;M&&(M.prototype.drawDataLabels.call(this),this.data.forEach(function(D){D.y=D[N]}))}toYData(N){return[N.low,N.high]}}return L.defaultOptions=F(n.defaultOptions,g),I(L,"afterTranslate",function(){this.points.forEach(W=>{W.plotLow=W.plotY})},{order:0}),_(L.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),b.registerSeriesType("errorbar",L),L}),et(c,"Series/Gauge/GaugePoint.js",[c["Core/Series/SeriesRegistry.js"]],function(n){({series:{prototype:{pointClass:n}}}=n);class u extends n{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(b){this.state=b}}return u}),et(c,"Series/Gauge/GaugeSeries.js",[c["Series/Gauge/GaugePoint.js"],c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g,b){({noop:u}=u);const{series:x,seriesTypes:{column:M}}=g,{clamp:I,isNumber:F,extend:_,merge:L,pick:W,pInt:N,defined:D}=b;class K extends x{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const t=this.yAxis,s=this.options,r=t.center;this.generatePoints(),this.points.forEach(o=>{const d=L(s.dial,o.dial),v=N(d.radius)*r[2]/200,m=N(d.baseLength)*v/100,h=N(d.rearLength)*v/100,P=d.baseWidth,C=d.topWidth;let T=s.overshoot,E=t.startAngleRad+t.translate(o.y,void 0,void 0,void 0,!0);(F(T)||s.wrap===!1)&&(T=F(T)?T/180*Math.PI:0,E=I(E,t.startAngleRad-T,t.endAngleRad+T)),E=180*E/Math.PI,o.shapeType="path",o.shapeArgs={d:d.path||[["M",-h,-P/2],["L",m,-P/2],["L",v,-C/2],["L",v,C/2],["L",m,P/2],["L",-h,P/2],["Z"]],translateX:r[0],translateY:r[1],rotation:E},o.plotX=r[0],o.plotY=r[1],D(o.y)&&t.max-t.min&&(o.percentage=(o.y-t.min)/(t.max-t.min)*100)})}drawPoints(){const t=this,s=t.chart,r=t.yAxis.center,o=t.pivot,d=t.options,v=d.pivot,m=s.renderer;t.points.forEach(h=>{const P=h.graphic,C=h.shapeArgs,T=C.d,E=L(d.dial,h.dial);P?(P.animate(C),C.d=T):h.graphic=m[h.shapeType](C).addClass("highcharts-dial").add(t.group),s.styledMode||h.graphic[P?"animate":"attr"]({stroke:E.borderColor,"stroke-width":E.borderWidth,fill:E.backgroundColor})}),o?o.animate({translateX:r[0],translateY:r[1]}):v&&(t.pivot=m.circle(0,0,v.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(r[0],r[1]).add(t.group),s.styledMode||t.pivot.attr({fill:v.backgroundColor,stroke:v.borderColor,"stroke-width":v.borderWidth}))}animate(t){const s=this;t||s.points.forEach(r=>{const o=r.graphic;o&&(o.attr({rotation:180*s.yAxis.startAngleRad/Math.PI}),o.animate({rotation:r.shapeArgs.rotation},s.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),x.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,s){x.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),W(s,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return K.defaultOptions=L(x.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),_(K.prototype,{angular:!0,directTouch:!0,drawGraph:u,drawTracker:M.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:n,trackerGroups:["group","dataLabelsGroup"]}),g.registerSeriesType("gauge",K),K}),et(c,"Series/DragNodesComposition.js",[c["Core/Utilities.js"]],function(n){function u(){const x=this;let M,I,F;x.container&&(M=g(x.container,"mousedown",_=>{const L=x.hoverPoint;L&&L.series&&L.series.hasDraggableNodes&&L.series.options.draggable&&(L.series.onMouseDown(L,_),I=g(x.container,"mousemove",W=>L&&L.series&&L.series.onMouseMove(L,W)),F=g(x.container.ownerDocument,"mouseup",W=>(I(),F(),L&&L.series&&L.series.onMouseUp(L,W))))})),g(x,"destroy",function(){M()})}const{addEvent:g}=n,b=[];return{compose:function(x){n.pushUnique(b,x)&&g(x,"load",u)},onMouseDown:function(x,M){M=this.chart.pointer.normalize(M),x.fixedPosition={chartX:M.chartX,chartY:M.chartY,plotX:x.plotX,plotY:x.plotY},x.inDragMode=!0},onMouseMove:function(x,M){if(x.fixedPosition&&x.inDragMode){const _=this.chart;M=_.pointer.normalize(M);var I=x.fixedPosition.chartX-M.chartX,F=x.fixedPosition.chartY-M.chartY;M=_.graphLayoutsLookup,(5<Math.abs(I)||5<Math.abs(F))&&(I=x.fixedPosition.plotX-I,F=x.fixedPosition.plotY-F,_.isInsidePlot(I,F)&&(x.plotX=I,x.plotY=F,x.hasDragged=!0,this.redrawHalo(x),M.forEach(L=>{L.restartSimulation()})))}},onMouseUp:function(x,M){x.fixedPosition&&(x.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),x.inDragMode=x.hasDragged=!1,this.options.fixedDraggable||delete x.fixedPosition)},redrawHalo:function(x){x&&this.halo&&this.halo.attr({d:x.haloPath(this.options.states.hover.halo.size)})}}}),et(c,"Series/GraphLayoutComposition.js",[c["Core/Animation/AnimationUtilities.js"],c["Core/Utilities.js"]],function(n,u){function g(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(L=>{L.updateSimulation()}),this.redraw())}function b(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(L=>{L.updateSimulation(!1)}),this.redraw())}function x(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(L=>{L.stop()})}function M(){let L,W=!1;const N=D=>{D.maxIterations--&&isFinite(D.temperature)&&!D.isStable()&&!D.enableSimulation&&(D.beforeStep&&D.beforeStep(),D.step(),L=!1,W=!0)};if(this.graphLayoutsLookup){for(I(!1,this),this.graphLayoutsLookup.forEach(D=>D.start());!L;)L=!0,this.graphLayoutsLookup.forEach(N);W&&this.series.forEach(D=>{D&&D.layout&&D.render()})}}const{setAnimation:I}=n,{addEvent:F}=u,_=[];return{compose:function(L){u.pushUnique(_,L)&&(F(L,"afterPrint",g),F(L,"beforePrint",b),F(L,"predraw",x),F(L,"render",M))},integrations:{},layouts:{}}}),et(c,"Series/PackedBubble/PackedBubblePoint.js",[c["Core/Chart/Chart.js"],c["Core/Series/Point.js"],c["Core/Series/SeriesRegistry.js"]],function(n,u,g){({seriesTypes:{bubble:{prototype:{pointClass:g}}}}=g);class b extends g{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),u.prototype.destroy.apply(this,arguments)}firePointEvent(){const M=this.series.options;if(this.isParentNode&&M.parentNode){const I=M.allowPointSelect;M.allowPointSelect=M.parentNode.allowPointSelect,u.prototype.firePointEvent.apply(this,arguments),M.allowPointSelect=I}else u.prototype.firePointEvent.apply(this,arguments)}select(){const M=this.series.chart;this.isParentNode?(M.getSelectedPoints=M.getSelectedParentNodes,u.prototype.select.apply(this,arguments),M.getSelectedPoints=n.prototype.getSelectedPoints):u.prototype.select.apply(this,arguments)}}return b}),et(c,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[c["Core/Utilities.js"]],function(n){const{isNumber:u}=n;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:g}=this.series.chart,{value:b}=this.point;return u(b)?g(b,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),et(c,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(n,u,g){const b=n.getMass(),x=-g.x*u*this.diffTemperature;u=-g.y*u*this.diffTemperature,n.fromNode.fixedPosition||(n.fromNode.plotX-=x*b.fromNode/n.fromNode.degree,n.fromNode.plotY-=u*b.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.plotX+=x*b.toNode/n.toNode.degree,n.toNode.plotY+=u*b.toNode/n.toNode.degree)},attractiveForceFunction:function(n,u){return(u-n)/n},barycenter:function(){let n=this.options.gravitationalConstant,u=this.barycenter.xFactor,g=this.barycenter.yFactor;u=(u-(this.box.left+this.box.width)/2)*n,g=(g-(this.box.top+this.box.height)/2)*n,this.nodes.forEach(function(b){b.fixedPosition||(b.plotX-=u/b.mass/b.degree,b.plotY-=g/b.mass/b.degree)})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.5)},integrate:function(n,u){var g=-n.options.friction;let b=n.options.maxSpeed,x=(u.plotX+u.dispX-u.prevX)*g;g*=u.plotY+u.dispY-u.prevY;var M=Math.abs;let I=M(x)/(x||1);M=M(g)/(g||1),x=I*Math.min(b,Math.abs(x)),g=M*Math.min(b,Math.abs(g)),u.prevX=u.plotX+u.dispX,u.prevY=u.plotY+u.dispY,u.plotX+=x,u.plotY+=g,u.temperature=n.vectorLength({x,y:g})},repulsive:function(n,u,g){u=u*this.diffTemperature/n.mass/n.degree,n.fixedPosition||(n.plotX+=g.x*u,n.plotY+=g.y*u)},repulsiveForceFunction:function(n,u){return(u-n)/n*(u>n?1:0)}}}),et(c,"Series/PackedBubble/PackedBubbleIntegration.js",[c["Core/Globals.js"],c["Series/Networkgraph/VerletIntegration.js"]],function(n,u){return{noop:n}=n,{barycenter:function(){const g=this.options.gravitationalConstant,b=this.box,x=this.nodes;let M,I;for(const F of x)this.options.splitSeries&&!F.isParentNode?(M=F.series.parentNode.plotX,I=F.series.parentNode.plotY):(M=b.width/2,I=b.height/2),F.fixedPosition||(F.plotX-=(F.plotX-M)*g/(F.mass*Math.sqrt(x.length)),F.plotY-=(F.plotY-I)*g/(F.mass*Math.sqrt(x.length)))},getK:n,integrate:u.integrate,repulsive:function(g,b,x,M){const I=b*this.diffTemperature/g.mass/g.degree;b=x.x*I,x=x.y*I,g.fixedPosition||(g.plotX+=b,g.plotY+=x),M.fixedPosition||(M.plotX-=b,M.plotY-=x)},repulsiveForceFunction:function(g,b,x,M){return Math.min(g,(x.marker.radius+M.marker.radius)/2)}}}),et(c,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(n,u,g,b){const x=n.getMass(),M=g.x/b*u;u*=g.y/b,n.fromNode.fixedPosition||(n.fromNode.dispX-=M*x.fromNode/n.fromNode.degree,n.fromNode.dispY-=u*x.fromNode/n.fromNode.degree),n.toNode.fixedPosition||(n.toNode.dispX+=M*x.toNode/n.toNode.degree,n.toNode.dispY+=u*x.toNode/n.toNode.degree)},attractiveForceFunction:function(n,u){return n*n/u},barycenter:function(){const n=this.options.gravitationalConstant,u=this.barycenter.xFactor,g=this.barycenter.yFactor;this.nodes.forEach(function(b){if(!b.fixedPosition){var x=b.getDegree();x*=1+x/2,b.dispX+=(u-b.plotX)*n*x/b.degree,b.dispY+=(g-b.plotY)*n*x/b.degree}})},getK:function(n){return Math.pow(n.box.width*n.box.height/n.nodes.length,.3)},integrate:function(n,u){let g;u.dispX+=u.dispX*n.options.friction,u.dispY+=u.dispY*n.options.friction,g=u.temperature=n.vectorLength({x:u.dispX,y:u.dispY}),g!==0&&(u.plotX+=u.dispX/g*Math.min(Math.abs(u.dispX),n.temperature),u.plotY+=u.dispY/g*Math.min(Math.abs(u.dispY),n.temperature))},repulsive:function(n,u,g,b){n.dispX+=g.x/b*u/n.degree,n.dispY+=g.y/b*u/n.degree},repulsiveForceFunction:function(n,u){return u*u/n}}}),et(c,"Series/Networkgraph/QuadTreeNode.js",[],function(){class n{constructor(g){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=g,this.boxSize=Math.min(g.width,g.height)}divideBox(){const g=this.box.width/2,b=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:g,height:b}),this.nodes[1]=new n({left:this.box.left+g,top:this.box.top,width:g,height:b}),this.nodes[2]=new n({left:this.box.left+g,top:this.box.top+b,width:g,height:b}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+b,width:g,height:b})}getBoxPosition(g){const b=g.plotY<this.box.top+this.box.height/2;return g.plotX<this.box.left+this.box.width/2?b?0:3:b?1:2}insert(g,b){this.isInternal?this.nodes[this.getBoxPosition(g)].insert(g,b-1):(this.isEmpty=!1,this.body?b?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,b-1),this.body=!0),this.nodes[this.getBoxPosition(g)].insert(g,b-1)):(b=new n({top:g.plotX||NaN,left:g.plotY||NaN,width:.1,height:.1}),b.body=g,b.isInternal=!1,this.nodes.push(b)):(this.isInternal=!1,this.body=g))}updateMassAndCenter(){let g=0,b=0,x=0;if(this.isInternal){for(const M of this.nodes)M.isEmpty||(g+=M.mass,b+=M.plotX*M.mass,x+=M.plotY*M.mass);b/=g,x/=g}else this.body&&(g=this.body.mass,b=this.body.plotX,x=this.body.plotY);this.mass=g,this.plotX=b,this.plotY=x}}return n}),et(c,"Series/Networkgraph/QuadTree.js",[c["Series/Networkgraph/QuadTreeNode.js"]],function(n){class u{constructor(b,x,M,I){this.box={left:b,top:x,width:M,height:I},this.maxDepth=25,this.root=new n(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(b){b.updateMassAndCenter()})}insertNodes(b){for(const x of b)this.root.insert(x,this.maxDepth)}visitNodeRecursive(b,x,M){let I;if(b||(b=this.root),b===this.root&&x&&(I=x(b)),I!==!1){for(const F of b.nodes){if(F.isInternal){if(x&&(I=x(F)),I===!1)continue;this.visitNodeRecursive(F,x,M)}else F.body&&x&&x(F.body);M&&M(F)}b===this.root&&M&&M(b)}}}return u}),et(c,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[c["Series/Networkgraph/EulerIntegration.js"],c["Core/Globals.js"],c["Series/GraphLayoutComposition.js"],c["Series/Networkgraph/QuadTree.js"],c["Core/Utilities.js"],c["Series/Networkgraph/VerletIntegration.js"]],function(n,u,g,b,x,M){const{win:I}=u,{clamp:F,defined:_,isFunction:L,fireEvent:W,pick:N}=x;class D{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(i){g.compose(i),g.integrations.euler=n,g.integrations.verlet=M,g.layouts["reingold-fruchterman"]=D}init(i){this.options=i,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=g.integrations[i.integration],this.enableSimulation=i.enableSimulation,this.attractiveForce=N(i.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=N(i.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=i.approximation}updateSimulation(i){this.enableSimulation=N(i,this.options.enableSimulation)}start(){const i=this.series,t=this.options;this.currentStep=0,this.forces=i[0]&&i[0].forces||[],this.chart=i[0]&&i[0].chart,this.initialRendering&&(this.initPositions(),i.forEach(function(s){s.finishedAnimating=!0,s.render()})),this.setK(),this.resetSimulation(t),this.enableSimulation&&this.step()}step(){const i=this.series;this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const t of this.forces||[])this[t+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const t of i)t.chart&&t.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&I.cancelAnimationFrame(this.simulation),this.simulation=I.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(t=>{W(t,"afterSimulation")}))}}stop(){this.simulation&&I.cancelAnimationFrame(this.simulation)}setArea(i,t,s,r){this.box={left:i,top:t,width:s,height:r}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(i,t){for(const s of i)t.indexOf(s)===-1&&t.push(s)}removeElementFromCollection(i,t){i=t.indexOf(i),i!==-1&&t.splice(i,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(i){this.maxIterations=N(i,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(i){this.initialRendering=i}createQuadTree(){this.quadTree=new b(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const i=this.options.initialPositions;if(L(i)){i.call(this);for(const t of this.nodes)_(t.prevX)||(t.prevX=t.plotX),_(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}else i==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const i=this.box;var t=this.nodes;const s=2*Math.PI/(t.length+1),r=t.filter(function(h){return h.linksTo.length===0}),o={},d=this.options.initialPositionRadius,v=h=>{for(const P of h.linksFrom||[])o[P.toNode.id]||(o[P.toNode.id]=!0,m.push(P.toNode),v(P.toNode))};let m=[];for(const h of r)m.push(h),v(h);if(m.length)for(const h of t)m.indexOf(h)===-1&&m.push(h);else m=t;for(let h=0,P=m.length;h<P;++h)t=m[h],t.plotX=t.prevX=N(t.plotX,i.width/2+d*Math.cos(h*s)),t.plotY=t.prevY=N(t.plotY,i.height/2+d*Math.sin(h*s)),t.dispX=0,t.dispY=0}setRandomPositions(){const i=this.box,t=this.nodes,s=t.length+1,r=d=>(d=d*d/Math.PI,d-=Math.floor(d));let o;for(let d=0,v=t.length;d<v;++d)o=t[d],o.plotX=o.prevX=N(o.plotX,i.width*r(d)),o.plotY=o.prevY=N(o.plotY,i.height*r(s+d)),o.dispX=0,o.dispY=0}force(i,...t){this.integration[i].apply(this,t)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let i=0,t=0,s=0;for(const r of this.nodes)t+=r.plotX*r.mass,s+=r.plotY*r.mass,i+=r.mass;return this.barycenter={x:t,y:s,xFactor:t/i,yFactor:s/i}}barnesHutApproximation(i,t){const s=this.getDistXY(i,t),r=this.vectorLength(s);let o,d;return i!==t&&r!==0&&(t.isInternal?t.boxSize/r<this.options.theta&&r!==0?(d=this.repulsiveForce(r,this.k),this.force("repulsive",i,d*t.mass,s,r),o=!1):o=!0:(d=this.repulsiveForce(r,this.k),this.force("repulsive",i,d*t.mass,s,r))),o}repulsiveForces(){if(this.approximation==="barnes-hut")for(const i of this.nodes)this.quadTree.visitNodeRecursive(null,t=>this.barnesHutApproximation(i,t));else{let i,t,s;for(const r of this.nodes)for(const o of this.nodes)r===o||r.fixedPosition||(s=this.getDistXY(r,o),t=this.vectorLength(s),t!==0&&(i=this.repulsiveForce(t,this.k),this.force("repulsive",r,i*o.mass,s,t)))}}attractiveForces(){let i,t,s;for(const r of this.links)r.fromNode&&r.toNode&&(i=this.getDistXY(r.fromNode,r.toNode),t=this.vectorLength(i),t!==0&&(s=this.attractiveForce(t,this.k),this.force("attractive",r,s,i,t)))}applyLimits(){const i=this.nodes;for(const t of i){if(t.fixedPosition)break;this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0}}applyLimitBox(i,t){const s=i.radius;i.plotX=F(i.plotX,t.left+s,t.width-s),i.plotY=F(i.plotY,t.top+s,t.height-s)}coolDown(i,t,s){return i-t*s}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let i=0;for(const t of this.nodes)i+=t.temperature;return i}vectorLength(i){return Math.sqrt(i.x*i.x+i.y*i.y)}getDistR(i,t){return i=this.getDistXY(i,t),this.vectorLength(i)}getDistXY(i,t){const s=i.plotX-t.plotX;return i=i.plotY-t.plotY,{x:s,y:i,absX:Math.abs(s),absY:Math.abs(i)}}}return D}),et(c,"Series/PackedBubble/PackedBubbleLayout.js",[c["Series/GraphLayoutComposition.js"],c["Series/PackedBubble/PackedBubbleIntegration.js"],c["Series/Networkgraph/ReingoldFruchtermanLayout.js"],c["Core/Utilities.js"]],function(n,u,g,b){function x(){const W=[];return this.series.forEach(N=>{N.parentNode&&N.parentNode.selected&&W.push(N.parentNode)}),W}function M(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:I,pick:F}=b,_=[];class L extends g{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(N){g.compose(N),n.integrations.packedbubble=u,n.layouts.packedbubble=L,b.pushUnique(_,N)&&(I(N,"beforeRedraw",M),N.prototype.getSelectedParentNodes=x)}beforeStep(){this.options.marker&&this.series.forEach(N=>{N&&N.calculateParentRadius()})}isStable(){const N=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>N||0>=this.temperature}setCircularPositions(){const N=this.box;var D=this.nodes;const K=2*Math.PI/(D.length+1),i=this.options.initialPositionRadius;let t,s=0;for(const r of D)this.options.splitSeries&&!r.isParentNode?(D=r.series.parentNode.plotX,t=r.series.parentNode.plotY):(D=N.width/2,t=N.height/2),r.plotX=r.prevX=F(r.plotX,D+i*Math.cos(r.index||s*K)),r.plotY=r.prevY=F(r.plotY,t+i*Math.sin(r.index||s*K)),r.dispX=0,r.dispY=0,s++}repulsiveForces(){const N=this,D=N.options.bubblePadding;let K,i,t;N.nodes.forEach(s=>{s.degree=s.mass,s.neighbours=0,N.nodes.forEach(r=>{K=0,s===r||s.fixedPosition||!N.options.seriesInteraction&&s.series!==r.series||(t=N.getDistXY(s,r),i=N.vectorLength(t)-(s.marker.radius+r.marker.radius+D),0>i&&(s.degree+=.01,s.neighbours++,K=N.repulsiveForce(-i/Math.sqrt(s.neighbours),N.k,s,r)),N.force("repulsive",s,K*r.mass,t,r,i))})})}applyLimitBox(N,D){let K,i;this.options.splitSeries&&!N.isParentNode&&this.options.parentNodeLimit&&(K=this.getDistXY(N,N.series.parentNode),i=N.series.parentNodeRadius-N.marker.radius-this.vectorLength(K),0>i&&i>-2*N.marker.radius&&(N.plotX-=.01*K.x,N.plotY-=.01*K.y)),super.applyLimitBox(N,D)}}return n.layouts.packedbubble=L}),et(c,"Series/SimulationSeriesUtilities.js",[c["Core/Utilities.js"],c["Core/Animation/AnimationUtilities.js"]],function(n,u){const{syncTimeout:g}=n,{animObject:b}=u;return{initDataLabels:function(){const x=this.options.dataLabels;if(!this.dataLabelsGroup){const M=this.initDataLabelsGroup();return!this.chart.styledMode&&(x!=null&&x.style)&&M.css(x.style),M.attr({opacity:0}),this.visible&&M.show(),M}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var x;const M=this.options.dataLabels;M!=null&&M.defer&&(!((x=this.options.layoutAlgorithm)===null||x===void 0)&&x.enableSimulation)?g(()=>{this.deferDataLabels=!1},M?b(M.animation).defer:0):this.deferDataLabels=!1}}}),et(c,"Series/PackedBubble/PackedBubbleSeries.js",[c["Core/Color/Color.js"],c["Series/DragNodesComposition.js"],c["Series/GraphLayoutComposition.js"],c["Core/Globals.js"],c["Series/PackedBubble/PackedBubblePoint.js"],c["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],c["Series/PackedBubble/PackedBubbleLayout.js"],c["Core/Series/SeriesRegistry.js"],c["Series/SimulationSeriesUtilities.js"],c["Core/Utilities.js"],c["Core/Animation/AnimationUtilities.js"]],function(n,u,g,b,x,M,I,F,_,L,W){const{parse:N}=n;({noop:n}=b);const{series:{prototype:D},seriesTypes:{bubble:K}}=F,{initDataLabels:i,initDataLabelsDefer:t}=_,{addEvent:s,clamp:r,defined:o,extend:d,fireEvent:v,isArray:m,isNumber:h,merge:P,pick:C}=L;class T extends K{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(e,a,f,S){K.compose(e,a,f,S),u.compose(a),I.compose(a)}accumulateAllPoints(){const e=this.chart,a=[];let f;for(const S of e.series)if(S.is("packedbubble")&&S.visible||!e.options.chart.ignoreHiddenSeries){f=S.yData||[];for(let y=0;y<f.length;y++)a.push([null,null,f[y],S.index,y,{id:y,marker:{radius:0}}])}return a}addLayout(){const e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},a=e.type||"packedbubble",f=this.chart.options.chart;let S=this.chart.graphLayoutsStorage,y=this.chart.graphLayoutsLookup,X;S||(this.chart.graphLayoutsStorage=S={},this.chart.graphLayoutsLookup=y=[]),X=S[a],X||(e.enableSimulation=o(f.forExport)?!f.forExport:e.enableSimulation,S[a]=X=new g.layouts[a],X.init(e),y.splice(X.index,0,X)),this.layout=X,this.points.forEach(B=>{B.mass=2,B.degree=1,B.collisionNmb=1}),X.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),X.addElementsToCollection([this],X.series),X.addElementsToCollection(this.points,X.nodes)}addSeriesLayout(){var e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const a=e.type||"packedbubble",f=this.chart.graphLayoutsStorage,S=this.chart.graphLayoutsLookup;e=P(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let y=f[a+"-series"];y||(f[a+"-series"]=y=new g.layouts[a],y.init(e),S.splice(y.index,0,y)),this.parentNodeLayout=y,this.createParentNodes()}calculateParentRadius(){const e=this.seriesBox();this.parentNodeRadius=r(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,e?Math.max(Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let e=this.options.zMin,a=this.options.zMax,f=1/0,S=-1/0;return e&&a?[e,a]:(this.chart.series.forEach(y=>{y.yData.forEach(X=>{o(X)&&(X>S&&(S=X),X<f&&(f=X))})}),e=C(e,f),a=C(a,S),[e,a])}checkOverlap(e,a){const f=e[0]-a[0],S=e[1]-a[1];return-.001>Math.sqrt(f*f+S*S)-Math.abs(e[2]+a[2])}createParentNodes(){const e=this.pointClass,a=this.chart,f=this.parentNodeLayout,S=this.layout.options;let y,X=this.parentNode,B={radius:this.parentNodeRadius,lineColor:this.color,fillColor:N(this.color).brighten(.4).get()};S.parentNodeOptions&&(B=P(S.parentNodeOptions.marker||{},B)),this.parentNodeMass=0,this.points.forEach(O=>{this.parentNodeMass+=Math.PI*Math.pow(O.marker.radius,2)}),this.calculateParentRadius(),f.nodes.forEach(O=>{O.seriesIndex===this.index&&(y=!0)}),f.setArea(0,0,a.plotWidth,a.plotHeight),y||(X||(X=new e().init(this,{mass:this.parentNodeRadius/2,marker:B,dataLabels:{inside:!1},states:{normal:{marker:B},hover:{marker:B}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(X.plotX=this.parentNode.plotX,X.plotY=this.parentNode.plotY),this.parentNode=X,f.addElementsToCollection([this],f.series),f.addElementsToCollection([X],f.nodes))}deferLayout(){const e=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),e.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(e=>{e.removeElementFromCollection(this,e.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),D.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(D.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",D.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(this.layout&&this.layout.options.splitSeries){var e=this.chart,a=this.layout.options.parentNodeOptions.marker;a={fill:a.fillColor||N(this.color).brighten(.4).get(),opacity:a.fillOpacity,stroke:a.lineColor||this.color,"stroke-width":C(a.lineWidth,this.options.lineWidth)},this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius();var f=P({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},a);this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(a.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(f)}}drawTracker(){const e=this.parentNode;let a;super.drawTracker(),e&&(a=m(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),a.forEach(f=>{f.div?f.div.point=e:f.element.point=e}))}getPointRadius(){const e=this.chart,a=this.options,f=a.useSimulation,S=Math.min(e.plotWidth,e.plotHeight),y={},X=[],B=e.allDataPoints||[],O=B.length;let tt,st,A,p;["minSize","maxSize"].forEach(Y=>{const R=parseInt(a[Y],10),z=/%$/.test(a[Y]);y[Y]=z?S*R/100:R*Math.sqrt(O)}),e.minRadius=tt=y.minSize/Math.sqrt(O),e.maxRadius=st=y.maxSize/Math.sqrt(O);const k=f?this.calculateZExtremes():[tt,st];B.forEach((Y,R)=>{A=f?r(Y[2],k[0],k[1]):Y[2],p=this.getRadius(k[0],k[1],tt,st,A),p===0&&(p=null),B[R][2]=p,X.push(p)}),this.radii=X}init(){return D.init.apply(this,arguments),t.call(this),this.eventsToUnbind.push(s(this,"updatedData",function(){this.chart.series.forEach(e=>{e.type===this.type&&(e.isDirty=!0)},this)})),this}onMouseUp(e){const a=e;if(a.fixedPosition&&!a.removed){const f=this.layout,S=this.parentNodeLayout;let y,X;S&&f.options.dragBetweenSeries&&S.nodes.forEach(B=>{a&&a.marker&&B!==a.series.parentNode&&(y=f.getDistXY(a,B),X=f.vectorLength(y)-B.marker.radius-a.marker.radius,0>X&&(B.series.addPoint(P(a.options,{plotX:a.plotX,plotY:a.plotY}),!1),f.removeElementFromCollection(a,f.nodes),a.remove()))}),u.onMouseUp.apply(this,arguments)}}placeBubbles(e){const a=this.checkOverlap,f=this.positionBubble,S=[];let y=1,X=0,B=0;var O=[];let tt;if(e=e.sort((st,A)=>A[2]-st[2]),e.length){if(S.push([[0,0,e[0][2],e[0][3],e[0][4]]]),1<e.length)for(S.push([[0,0-e[1][2]-e[0][2],e[1][2],e[1][3],e[1][4]]]),tt=2;tt<e.length;tt++)e[tt][2]=e[tt][2]||1,O=f(S[y][X],S[y-1][B],e[tt]),a(O,S[y][0])?(S.push([]),B=0,S[y+1].push(f(S[y][X],S[y][0],e[tt])),y++,X=0):1<y&&S[y-1][B+1]&&a(O,S[y-1][B+1])?(B++,S[y].push(f(S[y][X],S[y-1][B],e[tt])),X++):(X++,S[y].push(O));this.chart.stages=S,this.chart.rawPositions=[].concat.apply([],S),this.resizeRadius(),O=this.chart.rawPositions}return O}pointAttribs(e,a){var f=this.options;let S=f.marker;return e&&e.isParentNode&&f.layoutAlgorithm&&f.layoutAlgorithm.parentNodeOptions&&(S=f.layoutAlgorithm.parentNodeOptions.marker),f=S.fillOpacity,e=D.pointAttribs.call(this,e,a),f!==1&&(e["fill-opacity"]=f),e}positionBubble(e,a,f){var S=Math.sqrt,y=Math.asin,X=Math.acos;const B=Math.pow,O=Math.abs;return S=S(B(e[0]-a[0],2)+B(e[1]-a[1],2)),X=X((B(S,2)+B(f[2]+a[2],2)-B(f[2]+e[2],2))/(2*(f[2]+a[2])*S)),y=y(O(e[0]-a[0])/S),e=(0>e[1]-a[1]?0:Math.PI)+X+y*(0>(e[0]-a[0])*(e[1]-a[1])?1:-1),[a[0]+(a[2]+f[2])*Math.sin(e),a[1]-(a[2]+f[2])*Math.cos(e),f[2],f[3],f[4]]}render(){const e=[];D.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(a=>{m(a.dataLabels)&&a.dataLabels.forEach(f=>{e.push(f)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(e))}resizeRadius(){const e=this.chart,a=e.rawPositions;var f=Math.min,S=Math.max;const y=e.plotLeft,X=e.plotTop,B=e.plotHeight,O=e.plotWidth;let tt,st,A,p,k;tt=A=Number.POSITIVE_INFINITY,st=p=Number.NEGATIVE_INFINITY;for(const Y of a)k=Y[2],tt=f(tt,Y[0]-k),st=S(st,Y[0]+k),A=f(A,Y[1]-k),p=S(p,Y[1]+k);if(S=[st-tt,p-A],f=f.apply([],[(O-y)/S[0],(B-X)/S[1]]),1e-10<Math.abs(f-1)){for(const Y of a)Y[2]*=f;this.placeBubbles(a)}else e.diffY=B/2+X-A-(p-A)/2,e.diffX=O/2+y-tt-(st-tt)/2}seriesBox(){const e=this.chart,a=Math.max,f=Math.min,S=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];let y;return this.data.forEach(X=>{o(X.plotX)&&o(X.plotY)&&X.marker.radius&&(y=X.marker.radius,S[0]=f(S[0],X.plotX-y),S[1]=a(S[1],X.plotX+y),S[2]=f(S[2],X.plotY-y),S[3]=a(S[3],X.plotY+y))}),h(S.width/S.height)?S:null}setVisible(){const e=this;D.setVisible.apply(e,arguments),e.parentNodeLayout&&e.graph?e.visible?(e.graph.show(),e.parentNode.dataLabel&&e.parentNode.dataLabel.show()):(e.graph.hide(),e.parentNodeLayout.removeElementFromCollection(e.parentNode,e.parentNodeLayout.nodes),e.parentNode.dataLabel&&e.parentNode.dataLabel.hide()):e.layout&&(e.visible?e.layout.addElementsToCollection(e.points,e.layout.nodes):e.points.forEach(a=>{e.layout.removeElementFromCollection(a,e.layout.nodes)}))}translate(){const e=this.chart,a=this.data,f=this.index,S=this.options.useSimulation;let y;if(this.processedXData=this.xData,this.generatePoints(),o(e.allDataPoints)||(e.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),S)var X=e.allDataPoints;else X=this.placeBubbles(e.allDataPoints),this.options.draggable=!1;for(const B of X)B[3]===f&&(X=a[B[4]],y=C(B[2],void 0),S||(X.plotX=B[0]-e.plotLeft+e.diffX,X.plotY=B[1]-e.plotTop+e.diffY),h(y)&&(X.marker=d(X.marker,{radius:y,width:2*y,height:2*y}),X.radius=y));S&&this.deferLayout(),v(this,"afterTranslate")}}return T.defaultOptions=P(K.defaultOptions,M),d(T.prototype,{pointClass:x,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:i,alignDataLabel:D.alignDataLabel,indexateNodes:n,onMouseDown:u.onMouseDown,onMouseMove:u.onMouseMove,redrawHalo:u.redrawHalo,searchPoint:n}),F.registerSeriesType("packedbubble",T),T}),et(c,"Series/Polygon/PolygonSeries.js",[c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(n,u,g){({noop:n}=n);const{series:b,seriesTypes:{area:x,line:M,scatter:I}}=u,{extend:F,merge:_}=g;class L extends I{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let N=M.prototype.getGraphPath.call(this),D=N.length+1;for(;D--;)(D===N.length||N[D][0]==="M")&&0<D&&N.splice(D,0,["Z"]);return this.areaPath=N}drawGraph(){this.options.fillColor=this.color,x.prototype.drawGraph.call(this)}}return L.defaultOptions=_(I.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),F(L.prototype,{type:"polygon",drawTracker:b.prototype.drawTracker,setStackedPoints:n}),u.registerSeriesType("polygon",L),L}),et(c,"Core/Axis/WaterfallAxis.js",[c["Core/Axis/Stacking/StackItem.js"],c["Core/Utilities.js"]],function(n,u){const{addEvent:g,objectEach:b}=u;var x;return function(M){function I(){const N=this.waterfall.stacks;N&&(N.changed=!1,delete N.alreadyChanged)}function F(){const N=this.options.stackLabels;N&&N.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function _(){let N=this.axes,D=this.series,K=D.length;for(;K--;)D[K].options.stacking&&(N.forEach(function(i){i.isXAxis||(i.waterfall.stacks.changed=!0)}),K=0)}function L(){this.waterfall||(this.waterfall=new W(this))}class W{constructor(D){this.axis=D,this.stacks={changed:!1}}renderStackTotals(){const D=this.axis,K=D.waterfall.stacks,i=D.stacking&&D.stacking.stackTotalGroup,t=new n(D,D.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=t,i&&b(K,function(s){b(s,function(r,o){t.total=r.stackTotal,t.x=+o,r.label&&(t.label=r.label),n.prototype.render.call(t,i),r.label=t.label,delete t.label})}),t.total=null}}M.Composition=W,M.compose=function(N,D){g(N,"init",L),g(N,"afterBuildStacks",I),g(N,"afterRender",F),g(D,"beforeRedraw",_)}}(x||(x={})),x}),et(c,"Series/Waterfall/WaterfallPoint.js",[c["Series/Column/ColumnSeries.js"],c["Core/Series/Point.js"],c["Core/Utilities.js"]],function(n,u,g){const{isNumber:b}=g;class x extends n.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let I=u.prototype.getClassName.call(this);return this.isSum?I+=" highcharts-sum":this.isIntermediateSum&&(I+=" highcharts-intermediate-sum"),I}isValid(){return b(this.y)||this.isSum||!!this.isIntermediateSum}}return x}),et(c,"Series/Waterfall/WaterfallSeries.js",[c["Core/Axis/Axis.js"],c["Core/Chart/Chart.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"],c["Core/Axis/WaterfallAxis.js"],c["Series/Waterfall/WaterfallPoint.js"]],function(n,u,g,b,x,M){const{seriesTypes:{column:I,line:F}}=g,{addEvent:_,arrayMax:L,arrayMin:W,correctFloat:N,extend:D,isNumber:K,merge:i,objectEach:t,pick:s}=b;class r extends I{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){I.prototype.generatePoints.apply(this);for(let d=0,v=this.points.length;d<v;d++){const m=this.points[d],h=this.processedYData[d];K(h)&&(m.isIntermediateSum||m.isSum)&&(m.y=N(h))}}processData(d){let v=this.options,m=this.yData,h=v.data,P,C=m.length,T=v.threshold||0,E,e,a,f,S,y;for(y=e=E=a=f=0;y<C;y++)S=m[y],P=h&&h[y]?h[y]:{},S==="sum"||P.isSum?m[y]=N(e):S==="intermediateSum"||P.isIntermediateSum?(m[y]=N(E),E=0):(e+=S,E+=S),a=Math.min(e,a),f=Math.max(e,f);super.processData.call(this,d),v.stacking||(this.dataMin=a+T,this.dataMax=f)}toYData(d){return d.isSum?"sum":d.isIntermediateSum?"intermediateSum":d.y}updateParallelArrays(d,v){super.updateParallelArrays.call(this,d,v),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(d,v){const m=this.options.upColor;return m&&!d.options.color&&K(d.y)&&(d.color=0<d.y?m:void 0),d=I.prototype.pointAttribs.call(this,d,v),delete d.dashstyle,d}getGraphPath(){return[["M",0,0]]}getCrispPath(){let d=this.data.filter(y=>K(y.y)),v=this.yAxis,m=d.length,h=Math.round(this.graph.strokeWidth())%2/2,P=Math.round(this.borderWidth)%2/2,C=this.xAxis.reversed,T=this.yAxis.reversed,E=this.options.stacking,e=[];for(let y=1;y<m;y++){if(!this.options.connectNulls&&!K(this.data[d[y].index-1].y))continue;var a=d[y].box,f=d[y-1];const X=f.y||0,B=d[y-1].box;if(!a||!B)continue;var S=v.waterfall.stacks[this.stackKey];const O=0<X?-B.height:0;S&&B&&a&&(S=S[y-1],f=E?Math.round(v.translate(S.connectorThreshold,!1,!0,!1,!0)+(T?O:0))-h:B.y+f.minPointLengthOffset+P-h,e.push(["M",(B.x||0)+(C?0:B.width||0),f],["L",(a.x||0)+(C&&a.width||0),f])),B&&e.length&&(!E&&0>X&&!T||0<X&&T)&&((a=e[e.length-2])&&typeof a[2]=="number"&&(a[2]+=B.height||0),(a=e[e.length-1])&&typeof a[2]=="number"&&(a[2]+=B.height||0))}return e}drawGraph(){F.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function d(k,Y,R,z){if(a){if(X)for(R;R<X;R++)a.stackState[R]+=z;else a.stackState[0]=k,X=a.stackState.length;a.stackState.push(a.stackState[X-1]+Y)}}let v=this.options,m=this.yAxis.waterfall.stacks,h=v.threshold||0,P=h,C=P,T=this.stackKey,E=this.xData,e=E.length,a,f,S,y,X,B,O,tt;var st;let A;if(this.yAxis.stacking.usePercentage=!1,f=S=y=P,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(A=m.changed,(st=m.alreadyChanged)&&0>st.indexOf(T)&&(A=!0),m[T]||(m[T]={}),st=m[T])for(let k=0;k<e;k++){var p=E[k];(!st[p]||A)&&(st[p]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:A&&st[p]?st[p].label:void 0}),a=st[p],tt=this.yData[k],0<=tt?a.posTotal+=tt:a.negTotal+=tt,O=v.data[k],p=a.absolutePos=a.posTotal,B=a.absoluteNeg=a.negTotal,a.stackTotal=p+B,X=a.stackState.length,O&&O.isIntermediateSum?(d(y,S,0,y),y=S,S=h,P^=C,C^=P,P^=C):O&&O.isSum?(d(h,f,X,0),P=h):(d(P,tt,0,f),O&&(f+=tt,S+=tt)),a.stateIndex++,a.threshold=P,P+=a.stackTotal}m.changed=!1,m.alreadyChanged||(m.alreadyChanged=[]),m.alreadyChanged.push(T)}}getExtremes(){let d=this.options.stacking,v,m;if(d){var h=this.yAxis;return h=h.waterfall.stacks,v=this.stackedYNeg=[],m=this.stackedYPos=[],d==="overlap"?t(h[this.stackKey],function(P){v.push(W(P.stackState)),m.push(L(P.stackState))}):t(h[this.stackKey],function(P){v.push(P.negTotal+P.threshold),m.push(P.posTotal+P.threshold)}),{dataMin:W(v),dataMax:L(m)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return r.defaultOptions=i(I.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),_(r,"afterColumnTranslate",function(){const{options:o,points:d,yAxis:v}=this,m=s(o.minPointLength,5),h=m/2,P=o.threshold||0,C=o.stacking,T=v.waterfall.stacks[this.stackKey];let E=P,e=P;for(let X=0;X<d.length;X++){const B=d[X];var a=this.processedYData[X];const O=D({x:0,y:0,width:0,height:0},B.shapeArgs||{});B.box=O;var f=[0,a],S=B.y||0;if(C){if(T){if(f=T[X],C==="overlap"){var y=f.stackState[f.stateIndex--];y=0<=S?y:y-S,Object.hasOwnProperty.call(f,"absolutePos")&&delete f.absolutePos,Object.hasOwnProperty.call(f,"absoluteNeg")&&delete f.absoluteNeg}else 0<=S?(y=f.threshold+f.posTotal,f.posTotal-=S):(y=f.threshold+f.negTotal,f.negTotal-=S,y-=S),!f.posTotal&&K(f.absolutePos)&&Object.hasOwnProperty.call(f,"absolutePos")&&(f.posTotal=f.absolutePos,delete f.absolutePos),!f.negTotal&&K(f.absoluteNeg)&&Object.hasOwnProperty.call(f,"absoluteNeg")&&(f.negTotal=f.absoluteNeg,delete f.absoluteNeg);B.isSum||(f.connectorThreshold=f.threshold+f.stackTotal),v.reversed?a=0<=S?y-S:y+S:(a=y,y-=S),B.below=a<=P,O.y=v.translate(a,!1,!0,!1,!0),O.height=Math.abs(O.y-v.translate(y,!1,!0,!1,!0)),(y=v.waterfall.dummyStackItem)&&(y.x=X,y.label=T[X].label,y.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[X],this.stackedYPos[X],void 0,this.xAxis))}}else y=Math.max(e,e+S)+f[0],O.y=v.translate(y,!1,!0,!1,!0),B.isSum?(O.y=v.translate(f[1],!1,!0,!1,!0),O.height=Math.min(v.translate(f[0],!1,!0,!1,!0),v.len)-O.y,B.below=f[1]<=P):B.isIntermediateSum?(0<=S?(a=f[1]+E,y=E):(a=E,y=f[1]+E),v.reversed&&(a^=y,y^=a,a^=y),O.y=v.translate(a,!1,!0,!1,!0),O.height=Math.abs(O.y-Math.min(v.translate(y,!1,!0,!1,!0),v.len)),E+=f[1],B.below=a<=P):(O.height=0<a?v.translate(e,!1,!0,!1,!0)-O.y:v.translate(e,!1,!0,!1,!0)-v.translate(e-a,!1,!0,!1,!0),e+=a,B.below=e<P),0>O.height&&(O.y+=O.height,O.height*=-1);B.plotY=O.y=Math.round(O.y||0)-this.borderWidth%2/2,O.height=Math.max(Math.round(O.height||0),.001),B.yBottom=O.y+O.height,O.height<=m&&!B.isNull?(O.height=m,O.y-=h,B.plotY=O.y,B.minPointLengthOffset=0>S?-h:h):(B.isNull&&(O.width=0),B.minPointLengthOffset=0),S=B.plotY+(B.negative?O.height:0),B.below&&(B.plotY+=O.height),B.tooltipPos&&(this.chart.inverted?B.tooltipPos[0]=v.len-S:B.tooltipPos[1]=S),B.isInside=this.isPointInside(B),i(!0,B.shapeArgs,O)}},{order:2}),D(r.prototype,{getZonesGraphs:F.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:M}),g.registerSeriesType("waterfall",r),x.compose(n,u),r}),et(c,"Core/Axis/RadialAxis.js",[c["Core/Axis/AxisDefaults.js"],c["Core/Defaults.js"],c["Core/Globals.js"],c["Core/Utilities.js"]],function(n,u,g,b){const{defaultOptions:x}=u,{noop:M}=g,{addEvent:I,correctFloat:F,defined:_,extend:L,fireEvent:W,merge:N,pick:D,relativeLength:K,wrap:i}=b;var t;return function(s){function r(){this.autoConnect=this.isCircular&&typeof D(this.userMax,this.options.max)>"u"&&F(this.endAngleRad-this.startAngleRad)===F(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function o(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(l=>this.ticks[l]&&this.ticks[l].label).filter(l=>!!l)}}function d(){return M}function v(l,w,j){const q=this.pane.center;let U=l.value,H;if(this.isCircular){if(_(U))l.point&&(V=l.point.shapeArgs||{},V.start&&(U=this.chart.inverted?this.translate(l.point.rectPlotY,!0):l.point.x));else{var V=l.chartX||0;H=l.chartY||0,U=this.translate(Math.atan2(H-j,V-w)-this.startAngleRad,!0)}l=this.getPosition(U),V=l.x,H=l.y}else _(U)||(V=l.chartX,H=l.chartY),_(V)&&_(H)&&(j=q[1]+this.chart.plotTop,U=this.translate(Math.min(Math.sqrt(Math.pow(V-w,2)+Math.pow(H-j,2)),q[2]/2)-q[3]/2,!0));return[U,V||0,H||0]}function m(l,w,j){l=this.pane.center;const q=this.chart,U=this.left||0,H=this.top||0;let V=D(w,l[2]/2-this.offset);return typeof j>"u"&&(j=this.horiz?0:this.center&&-this.center[3]/2),j&&(V+=j),this.isCircular||typeof w<"u"?(w=this.chart.renderer.symbols.arc(U+l[0],H+l[1],V,V,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),w.xBounds=[U+l[0]],w.yBounds=[H+l[1]-V]):(w=this.postTranslate(this.angleRad,V),w=[["M",this.center[0]+q.plotLeft,this.center[1]+q.plotTop],["L",w.x,w.y]]),w}function h(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function P(l,w,j){const q=this.chart;var U=lt=>{if(typeof lt=="string"){let pt=parseInt(lt,10);return at.test(lt)&&(pt=pt*Z/100),pt}return lt};const H=this.center;var V=this.startAngleRad;const Z=H[2]/2;var J=Math.min(this.offset,0),it=this.left||0;const rt=this.top||0,at=/%$/;var $=this.isCircular;let nt,ot=D(U(j.outerRadius),Z),ht=U(j.innerRadius);return U=D(U(j.thickness),10),this.options.gridLineInterpolation==="polygon"?J=this.getPlotLinePath({value:l}).concat(this.getPlotLinePath({value:w,reverse:!0})):(l=Math.max(l,this.min),w=Math.min(w,this.max),l=this.translate(l),w=this.translate(w),$||(ot=l||0,ht=w||0),j.shape!=="circle"&&$?(j=V+(l||0),V+=w||0):(j=-Math.PI/2,V=1.5*Math.PI,nt=!0),ot-=J,J=q.renderer.symbols.arc(it+H[0],rt+H[1],ot,ot,{start:Math.min(j,V),end:Math.max(j,V),innerR:D(ht,ot-(U-J)),open:nt}),$&&($=(V+j)/2,it=it+H[0]+H[2]/2*Math.cos($),J.xBounds=$>-Math.PI/2&&$<Math.PI/2?[it,q.plotWidth]:[0,it],J.yBounds=[rt+H[1]+H[2]/2*Math.sin($)],J.yBounds[0]+=$>-Math.PI&&0>$||$>Math.PI?-10:10)),J}function C(l){var w=this.pane.center,j=this.chart;const q=j.inverted;var U=l.reverse,H=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const V=H.innerRadius||"0%",Z=H.outerRadius||"100%";var J=w[0]+j.plotLeft,it=w[1]+j.plotTop;const rt=this.height,at=l.isCrosshair;H=w[3]/2;var $=l.value;let nt;var ot=this.getPosition($);let ht=ot.x;if(ot=ot.y,at&&(ot=this.getCrosshairPosition(l,J,it),$=ot[0],ht=ot[1],ot=ot[2]),this.isCircular)$=Math.sqrt(Math.pow(ht-J,2)+Math.pow(ot-it,2)),U=typeof V=="string"?K(V,1):V/$,j=typeof Z=="string"?K(Z,1):Z/$,w&&H&&(H/=$,U<H&&(U=H),j<H&&(j=H)),w=[["M",J+U*(ht-J),it-U*(it-ot)],["L",ht-(1-j)*(ht-J),ot+(1-j)*(it-ot)]];else if(($=this.translate($))&&(0>$||$>rt)&&($=0),this.options.gridLineInterpolation==="circle")w=this.getLinePath(0,$,H);else if(w=[],j[q?"yAxis":"xAxis"].forEach(lt=>{lt.pane===this.pane&&(nt=lt)}),nt)for(J=nt.tickPositions,nt.autoConnect&&(J=J.concat([J[0]])),U&&(J=J.slice().reverse()),$&&($+=H),it=0;it<J.length;it++)H=nt.getPosition(J[it],$),w.push(it?["L",H.x,H.y]:["M",H.x,H.y]);return w}function T(l,w){return l=this.translate(l),this.postTranslate(this.isCircular?l:this.angleRad,D(this.isCircular?w:0>l?0:l,this.center[2]/2)-this.offset)}function E(){const l=this.center,w=this.chart,j=this.options.title;return{x:w.plotLeft+l[0]+(j.x||0),y:w.plotTop+l[1]-{high:.5,middle:.25,low:0}[j.align]*l[2]+(j.y||0)}}function e(l){l.beforeSetTickPositions=r,l.createLabelCollector=o,l.getCrosshairPosition=v,l.getLinePath=m,l.getOffset=h,l.getPlotBandPath=P,l.getPlotLinePath=C,l.getPosition=T,l.getTitlePosition=E,l.postTranslate=tt,l.setAxisSize=A,l.setAxisTranslation=p,l.setOptions=k}function a(){var l=this.chart,w=this.options,j=this.pane,q=j&&j.options;l.angular&&this.isXAxis||!j||!l.angular&&!l.polar||(l=2*Math.PI,j=(D(q.startAngle,0)-90)*Math.PI/180,q=(D(q.endAngle,D(q.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(w.angle||0)*Math.PI/180,this.startAngleRad=j,this.endAngleRad=q,this.offset=w.offset||0,w=(j%l+l)%l,q=(q%l+l)%l,w>Math.PI&&(w-=l),q>Math.PI&&(q-=l),this.normalizedStartAngleRad=w,this.normalizedEndAngleRad=q)}function f(l){this.isRadial&&(l.align=void 0,l.preventDefault())}function S(){if(this.chart&&this.chart.labelCollectors){const l=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=l&&this.chart.labelCollectors.splice(l,1)}}function y(l){const w=this.chart,j=w.inverted,q=w.angular,U=w.polar,H=this.isXAxis,V=this.coll,Z=q&&H;l=l.userOptions.pane||0,l=this.pane=w.pane&&w.pane[l];let J;V==="colorAxis"?this.isRadial=!1:(q?(Z?(this.isHidden=!0,this.createLabelCollector=d,this.getOffset=M,this.render=this.redraw=st,this.setTitle=this.setCategories=this.setScale=M):e(this),(J=!H)&&(this.defaultPolarOptions=G)):U&&(e(this),this.defaultPolarOptions=(J=this.horiz)?z:N(V==="xAxis"?n.defaultXAxisOptions:n.defaultYAxisOptions,Q),j&&V==="yAxis"&&(this.defaultPolarOptions.stackLabels=n.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),q||U?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&w.labelCollectors.push(this.labelCollector)):this.isRadial=!1,l&&J&&(l.axis=this),this.isCircular=J)}function X(){this.isRadial&&this.beforeSetTickPositions()}function B(l){const w=this.label;if(w){var j=this.axis,q=w.getBBox(),U=j.options.labels,H=(j.translate(this.pos)+j.startAngleRad+Math.PI/2)/Math.PI*180%360,V=Math.round(H),Z=_(U.y)?0:.3*-q.height,J=U.y,it=20,rt=U.align,at="end",$=0>V?V+360:V,nt=$,ot=0,ht=0;if(j.isRadial){var lt=j.getPosition(this.pos,j.center[2]/2+K(D(U.distance,-25),j.center[2]/2,-j.center[2]/2));U.rotation==="auto"?w.attr({rotation:H}):_(J)||(J=j.chart.renderer.fontMetrics(w).b-q.height/2),_(rt)||(j.isCircular?(q.width>j.len*j.tickInterval/(j.max-j.min)&&(it=0),rt=H>it&&H<180-it?"left":H>180+it&&H<360-it?"right":"center"):rt="center",w.attr({align:rt})),rt==="auto"&&j.tickPositions.length===2&&j.isCircular&&(90<$&&180>$?$=180-$:270<$&&360>=$&&($=540-$),180<nt&&360>=nt&&(nt=360-nt),(j.pane.options.startAngle===V||j.pane.options.startAngle===V+360||j.pane.options.startAngle===V-360)&&(at="start"),rt=-90<=V&&90>=V||-360<=V&&-270>=V||270<=V&&360>=V?at==="start"?"right":"left":at==="start"?"left":"right",70<nt&&110>nt&&(rt="center"),15>$||180<=$&&195>$?ot=.3*q.height:15<=$&&35>=$?ot=at==="start"?0:.75*q.height:195<=$&&215>=$?ot=at==="start"?.75*q.height:0:35<$&&90>=$?ot=at==="start"?.25*-q.height:q.height:215<$&&270>=$&&(ot=at==="start"?q.height:.25*-q.height),15>nt?ht=at==="start"?.15*-q.height:.15*q.height:165<nt&&180>=nt&&(ht=at==="start"?.15*q.height:.15*-q.height),w.attr({align:rt}),w.translate(ht,ot+Z)),l.pos.x=lt.x+(U.x||0),l.pos.y=lt.y+(J||0)}}}function O(l){this.axis.getPosition&&L(l.pos,this.axis.getPosition(this.pos))}function tt(l,w){const j=this.chart,q=this.center;return l=this.startAngleRad+l,{x:j.plotLeft+q[0]+Math.cos(l)*w,y:j.plotTop+q[1]+Math.sin(l)*w}}function st(){this.isDirty=!1}function A(){let l,w;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),l=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(w=this.postTranslate(this.angleRad,l[3]/2),l[0]=w.x-this.chart.plotLeft,l[1]=w.y-this.chart.plotTop),this.len=this.width=this.height=(l[2]-l[3])*D(this.sector,1)/2)}function p(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function k(l){l=this.options=N(this.constructor.defaultOptions,this.defaultPolarOptions,x[this.coll],l),l.plotBands||(l.plotBands=[]),W(this,"afterSetOptions")}function Y(l,w,j,q,U,H,V){const Z=this.axis;return Z.isRadial?(l=Z.getPosition(this.pos,Z.center[2]/2+q),w=["M",w,j,"L",l.x,l.y]):w=l.call(this,w,j,q,U,H,V),w}const R=[],z={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},G={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},Q={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};s.compose=function(l,w){return b.pushUnique(R,l)&&(I(l,"afterInit",a),I(l,"autoLabelAlign",f),I(l,"destroy",S),I(l,"init",y),I(l,"initialAxisTranslation",X)),b.pushUnique(R,w)&&(I(w,"afterGetLabelPosition",B),I(w,"afterGetPosition",O),i(w.prototype,"getMarkPath",Y)),l}}(t||(t={})),t}),et(c,"Series/PolarComposition.js",[c["Core/Animation/AnimationUtilities.js"],c["Core/Globals.js"],c["Core/Series/Series.js"],c["Extensions/Pane.js"],c["Core/Axis/RadialAxis.js"],c["Core/Utilities.js"]],function(n,u,g,b,x,M){function I(A,p,k,Y){var R=Y?1:0,z=0<=p&&p<=A.length-1?p:0>p?A.length-1+p:0;p=0>z-1?A.length-(1+R):z-1;var G=A[p];R=A[z+1>A.length-1?R:z+1];var Q=G.plotY,l=R.plotX,w=R.plotY;R=A[z].plotX,z=A[z].plotY,G=(1.5*R+G.plotX)/2.5,Q=(1.5*z+Q)/2.5,l=(1.5*R+l)/2.5;var j=(1.5*z+w)/2.5;w=Math.sqrt(Math.pow(G-R,2)+Math.pow(Q-z,2));const q=Math.sqrt(Math.pow(l-R,2)+Math.pow(j-z,2));return G=Math.atan2(Q-z,G-R),j=Math.PI/2+(G+Math.atan2(j-z,l-R))/2,Math.abs(G-j)>Math.PI/2&&(j-=Math.PI),G=R+Math.cos(j)*w,Q=z+Math.sin(j)*w,l=R+Math.cos(Math.PI+j)*q,j=z+Math.sin(Math.PI+j)*q,R={rightContX:l,rightContY:j,leftContX:G,leftContY:Q,plotX:R,plotY:z},k&&(R.prevPointCont=I(A,p,!1,Y)),R}function F(){(this.pane||[]).forEach(A=>{A.render()})}function _(A){const p=A.args[0].xAxis,k=A.args[0].yAxis;A=A.args[0].chart,p&&k&&(k.gridLineInterpolation==="polygon"?(p.startOnTick=!0,p.endOnTick=!0):p.gridLineInterpolation==="polygon"&&A.inverted&&(k.startOnTick=!0,k.endOnTick=!0))}function L(){this.pane||(this.pane=[]),this.options.pane=X(this.options.pane),this.options.pane.forEach(A=>{new b(A,this)},this)}function W(A){var p=A.args.marker,k=this.chart.xAxis[0],Y=this.chart.yAxis[0],R=this.chart.inverted;const z=R?Y:k;if(k=R?k:Y,this.chart.polar){A.preventDefault(),Y=(p.attr?p.attr("start"):p.start)-z.startAngleRad,R=p.attr?p.attr("r"):p.r;let G=(p.attr?p.attr("end"):p.end)-z.startAngleRad;p=p.attr?p.attr("innerR"):p.innerR,A.result.x=Y+z.pos,A.result.width=G-Y,A.result.y=k.len+k.pos-p,A.result.height=p-R}}function N(A){var p=this.chart;if(p.polar&&p.hoverPane&&p.hoverPane.axis){A.preventDefault();var k=p.hoverPane.center,Y=this.mouseDownX||0;const H=this.mouseDownY||0;var R=A.args.chartY;const V=A.args.chartX;var z=2*Math.PI,G=p.hoverPane.axis.startAngleRad,Q=p.hoverPane.axis.endAngleRad,l=p.inverted?p.xAxis[0]:p.yAxis[0];const Z={};var w="arc";if(Z.x=k[0]+p.plotLeft,Z.y=k[1]+p.plotTop,this.zoomHor){var j=0<G?Q-G:Math.abs(G)+Math.abs(Q),q=Math.atan2(H-p.plotTop-k[1],Y-p.plotLeft-k[0])-G,U=Math.atan2(R-p.plotTop-k[1],V-p.plotLeft-k[0])-G;if(Z.r=k[2]/2,Z.innerR=k[3]/2,0>=q&&(q+=z),0>=U&&(U+=z),U<q&&(U=[q,q=U][0]),j<z&&G+U>Q+(z-j)/2&&(U=q,q=0>=G?G:0),z=Z.start=Math.max(q+G,G),j=Z.end=Math.min(U+G,Q),l.options.gridLineInterpolation==="polygon"){if(w=p.hoverPane.axis,U=z-w.startAngleRad+w.pos,q=j-z,z=l.getPlotLinePath({value:l.max}),j=w.toValue(U),U=w.toValue(U+q),j<w.getExtremes().min){const{min:J,max:it}=w.getExtremes();j=it-(J-j)}if(U<w.getExtremes().min){const{min:J,max:it}=w.getExtremes();U=it-(J-U)}U<j&&(U=[j,j=U][0]),z=t(z,j,U,w),z.push(["L",k[0]+p.plotLeft,p.plotTop+k[1]]),Z.d=z,w="path"}}this.zoomVert&&(U=p.inverted?p.xAxis[0]:p.yAxis[0],Y=Math.sqrt(Math.pow(Y-p.plotLeft-k[0],2)+Math.pow(H-p.plotTop-k[1],2)),R=Math.sqrt(Math.pow(V-p.plotLeft-k[0],2)+Math.pow(R-p.plotTop-k[1],2)),R<Y&&(Y=[R,R=Y][0]),R>k[2]/2&&(R=k[2]/2),Y<k[3]/2&&(Y=k[3]/2),this.zoomHor||(Z.start=G,Z.end=Q),Z.r=R,Z.innerR=Y,U.options.gridLineInterpolation==="polygon"&&(k=U.toValue(U.len+U.pos-Y),G=U.toValue(U.len+U.pos-R),k=U.getPlotLinePath({value:G}).concat(U.getPlotLinePath({value:k,reverse:!0})),Z.d=k,w="path")),this.zoomHor&&this.zoomVert&&l.options.gridLineInterpolation==="polygon"&&(k=p.hoverPane.axis,l=Z.start||0,G=l-k.startAngleRad+k.pos,Q=(Z.end||0)-l,l=k.toValue(G),k=k.toValue(G+Q),Z.d instanceof Array&&(G=Z.d.slice(0,Z.d.length/2),Q=Z.d.slice(Z.d.length/2,Z.d.length),Q=[...Q].reverse(),p=p.hoverPane.axis,G=t(G,l,k,p),(Q=t(Q,l,k,p))&&(Q[0][0]="L"),Q=[...Q].reverse(),Z.d=G.concat(Q),w="path")),A.attrs=Z,A.shapeType=w}}function D(){const A=this.chart;A.polar&&(this.polar=new st(this),A.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function K(){if(this.chart.polar&&this.xAxis){const{xAxis:A,yAxis:p}=this,k=this.chart;(this.kdByAngle=k.tooltip&&k.tooltip.shared)?this.searchPoint=i:this.options.findNearestPointBy="xy";const Y=this.points;let R=Y.length;for(;R--;)this.is("column")||this.is("columnrange")||this.polar.toXY(Y[R]),k.hasParallelCoordinates||this.yAxis.reversed||(S(Y[R].y,Number.MIN_VALUE)<p.min||Y[R].x<A.min||Y[R].x>A.max?(Y[R].isNull=!0,Y[R].plotY=NaN):Y[R].isNull=Y[R].isValid&&!Y[R].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(T(this,"afterRender",function(){if(k.polar){var z=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:z[0],y:z[1],r:z[2]/2,innerR:z[3]/2});else{{var G=k.renderer,Q=z[0],l=z[1],w=z[2]/2,j=z[3]/2;z=B();const q=G.createElement("clipPath").attr({id:z}).add(G.defs);G=j?G.arc(Q,l,w,j,0,2*Math.PI).add(q):G.circle(Q,l,w).add(q),G.id=z,G.clipPath=q}this.clipCircle=G}this.group.clip(this.clipCircle),this.setClip=u.noop}})))}}function i(A){const p=this.chart;var k=this.xAxis;return k=k.pane&&k.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(A.chartX-(k&&k[0]||0)-p.plotLeft,A.chartY-(k&&k[1]||0)-p.plotTop)})}function t(A,p,k,Y){const R=Y.tickInterval;Y=Y.tickPositions;let z=e(Y,Q=>Q>=k),G=e([...Y].reverse(),Q=>Q<=p);return E(z)||(z=Y[Y.length-1]),E(G)||(G=Y[0],z+=R,A[0][0]="L",A.unshift(A[A.length-3])),A=A.slice(Y.indexOf(G),Y.indexOf(z)+1),A[0][0]="M",A}function s(A,p){return e(this.pane||[],function(k){return k.options.id===p})||A.call(this,p)}function r(A,p,k,Y,R,z){const G=this.chart;var Q=S(Y.inside,!!this.options.stacking);G.polar?(A=p.rectPlotX/Math.PI*180,G.inverted?(this.forceDL=G.isInsidePlot(p.plotX,p.plotY),Q&&p.shapeArgs?(Q=p.shapeArgs,Q=this.yAxis.postTranslate(((Q.start||0)+(Q.end||0))/2-this.xAxis.startAngleRad,p.barX+p.pointWidth/2),R=f(R,{x:Q.x-G.plotLeft,y:Q.y-G.plotTop})):p.tooltipPos&&(R=f(R,{x:p.tooltipPos[0],y:p.tooltipPos[1]})),Y.align=S(Y.align,"center"),Y.verticalAlign=S(Y.verticalAlign,"middle")):(Y.align===null&&(Y.align=20<A&&160>A?"left":200<A&&340>A?"right":"center"),Y.verticalAlign===null&&(Y.verticalAlign=45>A||315<A?"bottom":135<A&&225>A?"top":"middle")),g.prototype.alignDataLabel.call(this,p,k,Y,R,z),this.isRadialBar&&p.shapeArgs&&p.shapeArgs.start===p.shapeArgs.end?k.hide():k.show()):A.call(this,p,k,Y,R,z)}function o(){const A=this.options,p=A.stacking,k=this.chart;var Y=this.xAxis;const R=this.yAxis,z=R.reversed,G=R.center,Q=Y.startAngleRad,l=Y.endAngleRad-Q;let w=0,j,q,U,H=0;var V=0;if(Y.isRadial){Y=this.points,j=Y.length,q=R.translate(R.min),U=R.translate(R.max);var Z=A.threshold||0;for(k.inverted&&a(Z)&&(w=R.translate(Z),E(w)&&(0>w?w=0:w>l&&(w=l),this.translatedThreshold=w+Q));j--;){Z=Y[j];var J=Z.barX,it=Z.x,rt=Z.y;if(Z.shapeType="arc",k.inverted){Z.plotY=R.translate(rt),p&&R.stacking?(rt=R.stacking.stacks[(0>rt?"-":"")+this.stackKey],this.visible&&rt&&rt[it]&&!Z.isNull&&(V=rt[it].points[this.getStackIndicator(void 0,it,this.index).key],H=R.translate(V[0]),V=R.translate(V[1]),E(H)&&(H=M.clamp(H,0,l)))):(H=w,V=Z.plotY),H>V&&(V=[H,H=V][0]),z?V>q?V=q:H<U?H=U:(H>q||V<U)&&(H=V=l):H<q?H=q:V>U?V=U:(V<q||H>U)&&(H=V=0),R.min>R.max&&(H=V=z?l:0),H+=Q,V+=Q,G&&(Z.barX=J+=G[3]/2),it=Math.max(J,0),rt=Math.max(J+Z.pointWidth,0);var at=A.borderRadius;at=y((typeof at=="object"?at.radius:at)||0,rt-it),Z.shapeArgs={x:G[0],y:G[1],r:rt,innerR:it,start:H,end:V,borderRadius:at},Z.opacity=H===V?0:void 0,Z.plotY=(E(this.translatedThreshold)&&(H<this.translatedThreshold?H:V))-Q}else H=J+Q,Z.shapeArgs=this.polar.arc(Z.yBottom,Z.plotY,H,H+Z.pointWidth),Z.shapeArgs.borderRadius=0;this.polar.toXY(Z),k.inverted?(J=R.postTranslate(Z.rectPlotY,J+Z.pointWidth/2),Z.tooltipPos=[J.x-k.plotLeft,J.y-k.plotTop]):Z.tooltipPos=[Z.plotX,Z.plotY],G&&(Z.ttBelow=Z.plotY>G[1])}}}function d(A,p){const k=this;let Y;if(this.chart.polar){p=p||this.points;for(let z=0;z<p.length;z++)if(!p[z].isNull){var R=z;break}this.options.connectEnds!==!1&&typeof R<"u"&&(this.connectEnds=!0,p.splice(p.length,0,p[R]),Y=!0),p.forEach(z=>{typeof z.polarPlotY>"u"&&k.polar.toXY(z)})}return R=A.apply(this,[].slice.call(arguments,1)),Y&&p.pop(),R}function v(A,p){const k=this.chart;let Y={xAxis:[],yAxis:[]};return k.polar?k.axes.forEach(R=>{if(R.coll!=="colorAxis"){var z=R.isXAxis,G=R.center,Q=p.chartX-G[0]-k.plotLeft;G=p.chartY-G[1]-k.plotTop,Y[z?"xAxis":"yAxis"].push({axis:R,value:R.translate(z?Math.PI-Math.atan2(Q,G):Math.sqrt(Math.pow(Q,2)+Math.pow(G,2)),!0)})}}):Y=A.call(this,p),Y}function m(A,p){this.chart.polar||A.call(this,p)}function h(A,p){const k=this,Y=this.chart,R=this.group,z=this.markerGroup,G=this.xAxis&&this.xAxis.center,Q=Y.plotLeft,l=Y.plotTop;let w=this.options.animation,j,q,U,H,V;Y.polar?k.isRadialBar?p||(k.startAngleRad=S(k.translatedThreshold,k.xAxis.startAngleRad),u.seriesTypes.pie.prototype.animate.call(k,p)):(w=C(w),k.is("column")?p||(j=G[3]/2,k.points.forEach(Z=>{q=Z.graphic,H=(U=Z.shapeArgs)&&U.r,V=U&&U.innerR,q&&U&&(q.attr({r:j,innerR:j}),q.animate({r:H,innerR:V},k.options.animation))})):p?(A={translateX:G[0]+Q,translateY:G[1]+l,scaleX:.001,scaleY:.001},R.attr(A),z&&z.attr(A)):(A={translateX:Q,translateY:l,scaleX:1,scaleY:1},R.animate(A,w),z&&z.animate(A,w))):A.call(this,p)}function P(A,p,k,Y){return this.chart.polar?Y?(A=I(p,Y,!0,this.connectEnds),p=A.prevPointCont&&A.prevPointCont.rightContX,k=A.prevPointCont&&A.prevPointCont.rightContY,A=["C",a(p)?p:A.plotX,a(k)?k:A.plotY,a(A.leftContX)?A.leftContX:A.plotX,a(A.leftContY)?A.leftContY:A.plotY,A.plotX,A.plotY]):A=["M",k.plotX,k.plotY]:A=A.call(this,p,k,Y),A}const{animObject:C}=n,{addEvent:T,defined:E,find:e,isNumber:a,merge:f,pick:S,relativeLength:y,splat:X,uniqueKey:B,wrap:O}=M,tt=[];class st{static compose(p,k,Y,R,z,G,Q,l,w){x.compose(p,z),M.pushUnique(tt,k)&&(T(k,"afterDrawChartBox",F),T(k,"getAxes",L),T(k,"init",_),O(k.prototype,"get",s)),M.pushUnique(tt,Y)&&(p=Y.prototype,O(p,"getCoordinates",v),O(p,"pinch",m),T(Y,"getSelectionMarkerAttrs",N),T(Y,"getSelectionBox",W)),M.pushUnique(tt,R)&&(T(R,"afterInit",D),T(R,"afterTranslate",K,{order:2}),T(R,"afterColumnTranslate",o,{order:4}),O(R.prototype,"animate",h)),Q&&M.pushUnique(tt,Q)&&(Y=Q.prototype,O(Y,"alignDataLabel",r),O(Y,"animate",h)),l&&M.pushUnique(tt,l)&&O(l.prototype,"getGraphPath",d),w&&M.pushUnique(tt,w)&&(l=w.prototype,O(l,"getPointSpline",P),G&&M.pushUnique(tt,G)&&(G.prototype.getPointSpline=l.getPointSpline))}constructor(p){this.series=p}arc(p,k,Y,R){const z=this.series,G=z.xAxis.center,Q=z.yAxis.len,l=G[3]/2;return k=Q-k+l,p=Q-S(p,Q)+l,z.yAxis.reversed&&(0>k&&(k=l),0>p&&(p=l)),{x:G[0],y:G[1],r:k,innerR:p,start:Y,end:R}}toXY(p){var k=this.series;const Y=k.chart,R=k.xAxis;var z=k.yAxis;const G=p.plotX,Q=Y.inverted,l=p.y;let w=p.plotY,j=Q?G:z.len-w;Q&&k&&!k.isRadialBar&&(p.plotY=w=a(l)?z.translate(l):0),p.rectPlotX=G,p.rectPlotY=w,z.center&&(j+=z.center[3]/2),a(w)&&(z=Q?z.postTranslate(w,j):R.postTranslate(G,j),p.plotX=p.polarPlotX=z.x-Y.plotLeft,p.plotY=p.polarPlotY=z.y-Y.plotTop),k.kdByAngle?(k=(G/Math.PI*180+R.pane.options.startAngle)%360,0>k&&(k+=360),p.clientX=k):p.clientX=p.plotX}}return st}),et(c,"masters/highcharts-more.src.js",[c["Core/Globals.js"],c["Core/Series/SeriesRegistry.js"],c["Series/Bubble/BubbleSeries.js"],c["Series/PackedBubble/PackedBubbleSeries.js"],c["Series/PolarComposition.js"]],function(n,u,g,b,x){g.compose(n.Axis,n.Chart,n.Legend,n.Series),b.compose(n.Axis,n.Chart,n.Legend,n.Series),x.compose(n.Axis,n.Chart,n.Pointer,n.Series,n.Tick,u.seriesTypes.areasplinerange,u.seriesTypes.column,u.seriesTypes.line,u.seriesTypes.spline)})})})(ut);var mt=ut.exports;const xt=ct(mt);export{xt as H,bt as a};
